{"version":3,"sources":["reportWebVitals.ts","Components/LayoutArea/Footer/Footer.tsx","Redux/AuthState.ts","Redux/CompaniesState.ts","Redux/CouponsState.ts","Redux/CustomersState.ts","Redux/Store.ts","Components/AuthArea/AuthMenu/AuthMenu.tsx","Components/LayoutArea/Logo/Logo.tsx","Assets/images/logo.png","Components/LayoutArea/Header/Header.tsx","Models/UserType.ts","Components/LayoutArea/Menu/Menu.tsx","Components/LayoutArea/MobileMenu/MobileMenu.tsx","Components/AboutArea/AboutUs/AboutUs.tsx","Services/Notification.ts","Components/AuthArea/AdminRequired/AdminRequired.tsx","Components/AuthArea/CompanyRequired/CompanyRequired.tsx","Components/AuthArea/CustomerRequired/CustomerRequired.tsx","Services/Globals.ts","Components/AuthArea/Login/Login.tsx","Components/AuthArea/Logout/Logout.tsx","Services/jwtAxios.ts","Components/CompaniesArea/AddCompany/AddCompany.tsx","Components/CompaniesArea/CompanyDetails/CompanyDetails.tsx","Components/SharedArea/SimpleDialog/SimpleDialog.tsx","Components/CompaniesArea/CompanyCard/CompanyCard.tsx","Components/CompaniesArea/CompanyList/CompanyList.tsx","Components/CompaniesArea/MyCompanyDetails/MyCompanyDetails.tsx","Components/CompaniesArea/UpdateCompany/UpdateCompany.tsx","Components/ContactUsArea/ContactUs/ContactUs.tsx","Models/CategoryType.ts","Services/Util.ts","Components/CouponsArea/AddCoupon/AddCoupon.tsx","Components/CouponsArea/CouponCard/CouponCard.tsx","Components/CouponsArea/CompanyCouponList/CompanyCouponList.tsx","Components/CouponsArea/CouponDetails/CouponDetails.tsx","Components/CouponsArea/CustomerCouponList/CustomerCouponList.tsx","Components/CouponsArea/UpdateCoupon/UpdateCoupon.tsx","Components/CustomersArea/AddCustomer/AddCustomer.tsx","Components/CustomersArea/CustomerDetails/CustomerDetails.tsx","Components/CustomersArea/CustomerCard/CustomerCard.tsx","Components/CustomersArea/CustomerList/CustomerList.tsx","Components/CustomersArea/MyCustomerDetails/MyCustomerDetails.tsx","Components/CustomersArea/UpdateCustomer/UpdateCustomer.tsx","Components/HomeArea/SiteInfo/SiteInfo.tsx","Components/HomeArea/Home/Home.tsx","Components/SharedArea/Page404/Page404.tsx","Components/LayoutArea/Routing/Routing.tsx","Components/LayoutArea/Layout/Layout.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Footer","AuthActionType","className","AuthState","user","storedUser","JSON","parse","localStorage","getItem","this","loginAction","type","Login","payload","CompaniesActionType","CompaniesState","companies","companyAddedAction","company","CompanyAdded","companyUpdatedAction","CompanyUpdated","CouponsActionType","CouponsState","coupons","couponsDownloadedAction","CouponsDownloaded","couponAddedAction","coupon","CouponAdded","couponUpdatedAction","CouponUpdated","CustomersActionType","CustomersState","customers","customerAddedAction","customer","CustomerAdded","customerUpdatedAction","CustomerUpdated","reducers","combineReducers","authState","currentState","action","newState","setItem","stringify","Logout","removeItem","companiesState","CompaniesDownloaded","push","map","c","id","CompanyDeleted","slice","idxDel","findIndex","splice","customersState","CustomersDownloaded","CustomerDeleted","couponsState","CouponDeleted","store","createStore","AuthMenu","props","unsubscribe","state","getState","subscribe","setState","name","to","Component","Logo","src","alt","Header","UserType","Menu","unsubscribeMenu","closeMobileMenu","exact","onClick","userType","ADMIN","COMPANY","CUSTOMER","MobileMenu","useState","isShown","setIsShown","handleClose","MenuOutlined","CloseRounded","AboutUs","Typography","variant","Face","href","target","rel","title","GitHub","LinkedIn","notify","notification","Notyf","duration","position","x","y","types","background","dismissible","message","success","err","extractMessage","error","response","data","status","Array","isArray","AdminRequired","ComposedComponent","unsubscribeAdminAuthenticated","history","CompanyRequired","unsubscribeCompanyAuthenticated","CustomerRequired","unsubscribeCustomerAuthenticated","Globals","dialogTitles","deleteItem","globals","serverName","uriHead","uriHeadApi","urls","admin","details","couponsByCategory","couponsByMaxPrice","purchaseCoupon","couponsCanPurchase","couponsAboutToExpire","images","login","useHistory","useForm","mode","register","handleSubmit","formState","errors","isValid","showPassword","setShowPassword","setUserType","credentials","a","axios","post","dispatch","LockOpen","onSubmit","TextField","label","required","value","pattern","email","helperText","minLength","InputProps","endAdornment","InputAdornment","IconButton","aria-label","edge","Visibility","VisibilityOff","password","select","defaultValue","onChange","event","SelectProps","native","Object","values","val","ButtonGroup","Button","startIcon","Send","disabled","useEffect","jwtAxios","create","interceptors","request","use","headers","token","AddCompany","AddBox","ClearAll","CompanyDetails","isAlive","match","params","find","get","useStyles","makeStyles","theme","dialogWrapper","padding","spacing","secondary","color","border","backgroundColor","primary","SimpleDialog","open","selectedValue","onClose","classes","handleButtonClick","Dialog","paper","DialogTitle","component","DialogActions","root","DeleteOutlined","CancelOutlined","CompanyCard","setOpen","setSelectedValue","handleDelete","delete","Edit","Delete","CompanyList","unsubscribeCompanyList","length","MyCompanyDetails","setCompany","setIsAlive","getCompany","UpdateCompany","setValue","useParams","companyInitial","handleChange","isCompanyDifferent","put","companyBefore","isDiff","entries","forEach","afterEntry","beforeEntry","bEntry","toString","inputProps","Checkbox","filter","ContactUs","CategoryType","MailOutline","multiline","rows","FormControlLabel","control","Cancel","util","text","charAt","toLocaleUpperCase","concat","substring","toLocaleLowerCase","date","split","reverse","join","currDate","Date","getMonth","getDate","getFullYear","createStyles","container","display","flexWrap","textField","maxWidth","input","AddCoupon","getValues","category","setCategory","cFormData","FormData","append","description","startDate","endDate","amount","price","imageFile","item","rowsMax","InputLabelProps","shrink","step","min","startadornment","capitalize","validate","cannotBeInThePast","getEndOfDay","now","compareToEndDate","compareToStartDate","FormControl","OutlinedInput","accept","FormHelperText","CouponCard","handlePurchase","detailsURL","image","CardMedia","showPurchase","ShoppingCart","CompanyCouponList","unsubscribeCompanyCouponList","setFilterBy","filterBy","setFilterSelectedValue","filterSelectedValue","handleChangeFilter","toLowerCase","handleChangeMaxPrice","filterVal","includes","getCouponsForDisplay","e","CouponDetails","url","dStart","getDateDisplay","dEnd","CustomerCouponList","unsubscribeCustomerCouponList","setListSelectedValue","listSelected","handleChangeList","getCouponList","UpdateCoupon","couponId","couponInitial","isCouponDifferent","myFormData","couponBefore","FileList","AddCustomer","firstName","lastName","CustomerDetails","CustomerCard","CustomerList","unsubscribeCustomerList","MyCustomerDetails","setCustomer","getCustomer","UpdateCustomer","customerInitial","isCustomerDifferent","customerBefore","SiteInfo","Home","Page404","width","height","allow","Routing","path","from","Layout","matches","useMediaQuery","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.681bf8d5.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"./Footer.css\";\n\nfunction Footer(): JSX.Element {\n    return (\n        <div className=\"Footer\">\n\t\t\t<p>All Rights Reserved &copy; Mina Shtraicher</p>\n        </div>\n    );\n}\n\nexport default Footer;","import UserModel from \"../Models/UserModel\";\r\n\r\n// Auth state:\r\nexport class AuthState {\r\n    public user: UserModel = null;\r\n    public constructor() {\r\n        const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n        \r\n        if(storedUser) {\r\n            this.user = storedUser;\r\n        }\r\n    }\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Auth Action Types:\r\nexport enum AuthActionType {\r\n    Login = \"Login\",\r\n    Logout = \"Logout\"\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Auth Action:\r\nexport interface AuthAction {\r\n    type: AuthActionType,\r\n    payload?: any; // optional - payload is NOT needed for Logout...\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Auth Action Creators:\r\nexport function loginAction(user: UserModel): AuthAction {\r\n    return { type: AuthActionType.Login, payload: user };\r\n}\r\n\r\nexport function logoutAction(): AuthAction {\r\n    return { type: AuthActionType.Logout };\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Auth Reducer:\r\nexport function authReducer(currentState: AuthState = new AuthState(), action: AuthAction): AuthState {\r\n    const newState = {...currentState};\r\n\r\n    switch (action.type) {\r\n        case AuthActionType.Login: // payload is the logged in user sent from the server\r\n            newState.user = action.payload;\r\n            localStorage.setItem(\"user\", JSON.stringify(newState.user)); // save in localStorage\r\n            break;\r\n        case AuthActionType.Logout: // no payload required!        \r\n            newState.user = null;\r\n            localStorage.removeItem(\"user\"); // remove from localStorage\r\n            break;\r\n    }\r\n\r\n    return newState;\r\n}","import CompanyModel from \"../Models/CompanyModel\";\r\n\r\n// Companies state:\r\nexport class CompaniesState {\r\n    companies: CompanyModel[] = [];\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Companies Action Types:\r\nexport enum CompaniesActionType {\r\n    CompaniesDownloaded = \"CompaniesDownloaded\",\r\n    CompanyAdded = \"CompanyAdded\",\r\n    CompanyUpdated = \"CompanyUpdated\",\r\n    CompanyDeleted = \"CompanyDeleted\"\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Companies Action:\r\nexport interface CompaniesAction {\r\n    type: CompaniesActionType,\r\n    payload?: any;\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Companies Action Creators:\r\nexport function companiesDownloadedAction(companies: CompanyModel[]): CompaniesAction {\r\n    return { type: CompaniesActionType.CompaniesDownloaded, payload: companies };\r\n}\r\n\r\nexport function companyAddedAction(company: CompanyModel): CompaniesAction {\r\n    return { type: CompaniesActionType.CompanyAdded, payload: company };\r\n}\r\n\r\nexport function companyUpdatedAction(company: CompanyModel): CompaniesAction {\r\n    return { type: CompaniesActionType.CompanyUpdated, payload: company };\r\n}\r\n\r\nexport function companyDeletedAction(id: number): CompaniesAction {\r\n    return { type: CompaniesActionType.CompanyDeleted, payload: id };\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Companies Reducer:\r\nexport function companiesReducer(currentState: CompaniesState = new CompaniesState(), action: CompaniesAction): CompaniesState {\r\n    const newState = {...currentState};\r\n\r\n    switch (action.type) {\r\n        case CompaniesActionType.CompaniesDownloaded:\r\n            newState.companies = action.payload;\r\n            break;\r\n        case CompaniesActionType.CompanyAdded:\r\n            newState.companies.push(action.payload);\r\n            break;\r\n        case CompaniesActionType.CompanyUpdated:\r\n            newState.companies.map(c => {\r\n                if(c.id !== action.payload.id) {\r\n                    // if NOT current updated item - keep it as-is\r\n                    return c;\r\n                }\r\n                // Otherwise - return the updated item\r\n                return {\r\n                    ...c,\r\n                    ...action.payload\r\n                }\r\n            });\r\n            break;\r\n        case CompaniesActionType.CompanyDeleted:\r\n            let companies = newState.companies.slice();\r\n            const idxDel = newState.companies.findIndex(c => c.id === action.payload.id);\r\n            companies.splice(idxDel,1);\r\n            newState.companies = companies;\r\n            break;\r\n    }\r\n    return newState;\r\n}","import CouponModel from \"../Models/CouponModel\";\r\n\r\n// Coupons state:\r\nexport class CouponsState {\r\n    coupons: CouponModel[] = [];\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Coupons Action Types:\r\nexport enum CouponsActionType {\r\n    CouponsDownloaded = \"CouponsDownloaded\",\r\n    CouponAdded = \"CouponAdded\",\r\n    CouponUpdated = \"CouponUpdated\",\r\n    CouponDeleted = \"CouponDeleted\"\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Coupons Action:\r\nexport interface CouponsAction {\r\n    type: CouponsActionType,\r\n    payload?: any;\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Coupons Action Creators:\r\nexport function couponsDownloadedAction(coupons: CouponModel[]): CouponsAction {\r\n    return { type: CouponsActionType.CouponsDownloaded, payload: coupons };\r\n}\r\n\r\nexport function couponAddedAction(coupon: CouponModel): CouponsAction {\r\n    return { type: CouponsActionType.CouponAdded, payload: coupon };\r\n}\r\n\r\nexport function couponUpdatedAction(coupon: CouponModel): CouponsAction {\r\n    return { type: CouponsActionType.CouponUpdated, payload: coupon };\r\n}\r\n\r\nexport function couponDeletedAction(id: number): CouponsAction {\r\n    return { type: CouponsActionType.CouponDeleted, payload: id };\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Coupons Reducer:\r\nexport function couponsReducer(currentState: CouponsState = new CouponsState(), action: CouponsAction): CouponsState {\r\n    const newState = {...currentState};\r\n\r\n    switch (action.type) {\r\n        case CouponsActionType.CouponsDownloaded:\r\n            newState.coupons = action.payload;\r\n            break;\r\n        case CouponsActionType.CouponAdded:\r\n            newState.coupons.push(action.payload);\r\n            break;\r\n        case CouponsActionType.CouponUpdated:\r\n            newState.coupons.map(c => {\r\n                if(c.id !== action.payload.id) {\r\n                    // if NOT current updated item - keep it as-is\r\n                    return c;\r\n                }\r\n                // Otherwise - return the updated item\r\n                return {\r\n                    ...c,\r\n                    ...action.payload\r\n                }\r\n            });\r\n            break;\r\n        case CouponsActionType.CouponDeleted:            \r\n            let coupons = newState.coupons.slice();\r\n            const idxDel = newState.coupons.findIndex(c => c.id === action.payload.id);\r\n            coupons.splice(idxDel,1);\r\n            newState.coupons = coupons;\r\n            break;\r\n    }\r\n    return newState;\r\n}","import CustomerModel from \"../Models/CustomerModel\";\r\n\r\n// Customers state:\r\nexport class CustomersState {\r\n    customers: CustomerModel[] = [];\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Customers Action Types:\r\nexport enum CustomersActionType {\r\n    CustomersDownloaded = \"CustomersDownloaded\",\r\n    CustomerAdded = \"CustomerAdded\",\r\n    CustomerUpdated = \"CustomerUpdated\",\r\n    CustomerDeleted = \"CustomerDeleted\"\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Customers Action:\r\nexport interface CustomersAction {\r\n    type: CustomersActionType,\r\n    payload?: any;\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Customers Action Creators:\r\nexport function customersDownloadedAction(customers: CustomerModel[]): CustomersAction {\r\n    return { type: CustomersActionType.CustomersDownloaded, payload: customers };\r\n}\r\n\r\nexport function customerAddedAction(customer: CustomerModel): CustomersAction {\r\n    return { type: CustomersActionType.CustomerAdded, payload: customer };\r\n}\r\n\r\nexport function customerUpdatedAction(customer: CustomerModel): CustomersAction {\r\n    return { type: CustomersActionType.CustomerUpdated, payload: customer };\r\n}\r\n\r\nexport function customerDeletedAction(id: number): CustomersAction {\r\n    return { type: CustomersActionType.CustomerDeleted, payload: id };\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Customers Reducer:\r\nexport function customersReducer(currentState: CustomersState = new CustomersState(), action: CustomersAction): CustomersState {\r\n    const newState = {...currentState};\r\n\r\n    switch (action.type) {\r\n        case CustomersActionType.CustomersDownloaded:\r\n            newState.customers = action.payload;\r\n            break;\r\n        case CustomersActionType.CustomerAdded:\r\n            newState.customers.push(action.payload);\r\n            break;\r\n        case CustomersActionType.CustomerUpdated:\r\n            newState.customers.map(c => {\r\n                if(c.id !== action.payload.id) {\r\n                    // if NOT current updated item - keep it as-is\r\n                    return c;\r\n                }\r\n                // Otherwise - return the updated item\r\n                return {\r\n                    ...c,\r\n                    ...action.payload\r\n                }\r\n            });\r\n            break;\r\n        case CustomersActionType.CustomerDeleted:\r\n            let customers = newState.customers.slice();\r\n            const idxDel = newState.customers.findIndex(c => c.id === action.payload.id);\r\n            customers.splice(idxDel,1);\r\n            newState.customers = customers;\r\n            break;\r\n    }\r\n    return newState;\r\n}","import { combineReducers, createStore } from \"redux\";\r\nimport { authReducer } from \"./AuthState\";\r\nimport { companiesReducer } from './CompaniesState';\r\nimport { couponsReducer } from \"./CouponsState\";\r\nimport { customersReducer } from './CustomersState';\r\n\r\n// Multiple Reducers:\r\nconst reducers = combineReducers({ authState: authReducer, companiesState: companiesReducer, customersState: customersReducer, couponsState: couponsReducer })\r\nconst store = createStore(reducers);\r\n\r\nexport default store;","import { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport store from \"../../../Redux/Store\";\nimport \"./AuthMenu.css\";\n\ninterface AuthMenuState {\n\tuser: UserModel;\n}\n\nclass AuthMenu extends Component<{}, AuthMenuState> {\n\n    private unsubscribe: Unsubscribe;\n\n    public constructor(props: {}) {\n        super(props);\n        this.state = { user: store.getState().authState.user };\n    }\n\n    public componentDidMount(): void {\n        this.unsubscribe = store.subscribe(() => {\n            this.setState({ user: store.getState().authState.user })\n        });\n    }\n\n    public render(): JSX.Element {\n        const user = this.state.user;\n        return (\n            <div className=\"AuthMenu\">\n\t\t\t\t{\n                    this.state.user && <>\n                        <span>Hello {user.name}</span>\n                        <span> | </span>\n                        <NavLink to=\"/logout\">Logout</NavLink>\n                    </>\n                }\n                {\n                    !this.state.user && <>\n                        <span>Hello Guest</span>\n                        <span> | </span>\n                        <NavLink to=\"/login\">Login</NavLink>\n                    </>\n                }\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.unsubscribe();\n    }\n}\n\nexport default AuthMenu;","import \"./Logo.css\";\nimport logoImage from \"../../../Assets/images/logo.png\";\n\nfunction Logo(): JSX.Element {\n    return (\n        <div className=\"Logo\">\n            <img src={logoImage} alt=\"Coupons system logo\" />\n        </div>\n    );\n}\n\nexport default Logo;\n","export default \"data:image/png;base64,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\"","import AuthMenu from \"../../AuthArea/AuthMenu/AuthMenu\";\nimport Logo from \"../Logo/Logo\";\nimport \"./Header.css\";\n\nfunction Header(): JSX.Element {\n    return (\n        <div className=\"Header\">\n\t\t\t<AuthMenu />\n            <Logo />\n            {/* Logo by HTML + CSS */}\n            {/* <h1><span>C</span>oupon<span>system</span></h1> */}\n        </div>\n    );\n}\n\nexport default Header;","export enum UserType {\r\n    ADMIN = \"ADMIN\",\r\n    COMPANY = \"COMPANY\",\r\n    CUSTOMER = \"CUSTOMER\"\r\n}","import { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport \"./Menu.css\";\n\ninterface MenuState {\n    user: UserModel;\n}\n\ninterface MenuProps {\n    closeMobileMenu?: () => void;\n}\n\nclass Menu extends Component<MenuProps, MenuState> {\n\n    private unsubscribeMenu: Unsubscribe;\n\n    public constructor(props: MenuProps) {\n        super(props);\n        this.state = { user: store.getState().authState.user };\n    }\n\n    public componentDidMount(): void {\n        this.unsubscribeMenu = store.subscribe(() => {\n            this.setState({ user: store.getState().authState.user });\n        });\n    }\n\n    public render(): JSX.Element {\n        const user = this.state.user;\n        const closeMobileMenu = this.props.closeMobileMenu;\n        return (\n            <div className=\"Menu\">\n                <nav>\n                    <NavLink to=\"/home\" exact onClick={closeMobileMenu}>Home</NavLink>\n                    {user && <div className=\"divider\"></div>}\n                    {user?.userType === UserType.ADMIN &&\n                        <>\n                            <NavLink to=\"/companies\" exact onClick={closeMobileMenu}>Companies</NavLink>\n                            <NavLink to=\"/customers\" exact onClick={closeMobileMenu}>Customers</NavLink>\n                        </>\n                    }\n                    {user?.userType === UserType.COMPANY &&\n                        <>\n                            <NavLink to=\"/company\" exact onClick={closeMobileMenu}>My Details</NavLink>\n                            <NavLink to=\"/company/coupons\" exact onClick={closeMobileMenu}>My Coupons</NavLink>\n                        </>\n                    }\n                    {user?.userType === UserType.CUSTOMER &&\n                        <>\n                            <NavLink to=\"/customer\" exact onClick={closeMobileMenu}>My Details</NavLink>\n                            <NavLink to=\"/customer/coupons\" exact onClick={closeMobileMenu}>Coupons</NavLink>\n                        </>\n                    }\n                    {user && <div className=\"divider\"></div>}\n                    <NavLink to=\"/about\" exact onClick={closeMobileMenu}>About</NavLink>\n                    <NavLink to=\"/contact-us\" exact onClick={closeMobileMenu}>Contact Us</NavLink>\n                </nav>\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.unsubscribeMenu();\n    }\n}\n\nexport default Menu;","import { CloseRounded, MenuOutlined } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport Menu from \"../Menu/Menu\";\nimport \"./MobileMenu.css\";\n\nfunction MobileMenu(): JSX.Element {\n    const [isShown, setIsShown] = useState(false);\n    \n    const handleClickShown = () => {\n        setIsShown(true);\n    }\n\n    const handleClose = () => {\n        setIsShown(false);\n    }\n\n    return (\n        <div className=\"MobileMenu\">\n            {/* hamburger icon shows the menu on click */}\n            <MenuOutlined className=\"hamburger\" onClick={handleClickShown} />\n\n            <div className={isShown ? \"menu-dark-bg fade-in\" : \"menu-dark-bg fade-out\"}>\n                <div className={isShown ? \"mobile-menu\" : \"mobile-menu hidden\"}>\n                    <CloseRounded className=\"close-menu\" onClick={handleClose} />\n                    <Menu closeMobileMenu={handleClose}/>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default MobileMenu;","import { Typography } from \"@material-ui/core\";\nimport { Face, GitHub, LinkedIn } from \"@material-ui/icons\";\nimport \"./AboutUs.css\";\n\nfunction AboutUs(): JSX.Element {\n    return (\n        <div className=\"AboutUs\">\n            <Typography variant=\"h4\" className=\"Headline\"> <Face /> About Me</Typography>\n\n            <br />\n            <div className=\"info\">\n                <Typography variant=\"body2\">\n                    My name is Mina Shtraicher.<br />\n                    You can find some information about my professional journey on Linkedin and see some of my projects on Github:\n                </Typography>\n                <Typography variant=\"h4\">\n                    <a href=\"https://github.com/minas8\" target=\"_blank\" rel=\"noreferrer\" title=\"My GitHub\">\n                        <GitHub />\n                    </a>\n                    <a href=\"https://www.linkedin.com/in/mina-shtraicher\" target=\"_blank\" rel=\"noreferrer\" title=\"My LinkedIn\">\n                        <LinkedIn />\n                    </a>\n                </Typography>\n\n                <Typography variant=\"overline\" className=\"TextField\">Summary</Typography>\n                <Typography variant=\"body2\">\n                    I have about 10 years of experience as a software engineer (post career change), specializing in C# and familiar with both\n                    client &amp; server side.<br /> I took part in many projects, which required working with various interfaces &amp; team\n                    members.<br /> On March 2020 I was put on a long LOA and decided to invest my time in expanding my technical\n                    skills and focus on new professional areas.<br />\n                    These days Im actively searching for my next position as a Java Full Stack / Microsoft.Net developer.\n                </Typography>\n                <br />\n\n                <Typography variant=\"overline\" className=\"TextField\">Professional Experience</Typography>\n                <br />\n                <Typography variant=\"caption\" className=\"TextField\">2011  2020 Software developer, One1 (Advantech)</Typography>\n                <ul>\n                    <li>Develop &amp; implement ClickSoftware solutions based on clients requirements</li>\n                    <li>Build Web Services / WCF solutions, using .NET technology &amp; developing in C#</li>\n                    <li>Implementing MSP (My Single Point) in JavaScript</li>\n                    <li>Using diverse technologies on a daily basis: C#, WinForms, MSSQL, Web Services, XML, Javascript, jQuery, HTML,CSS</li>\n                    <li>Response on bids</li>\n                    <li>Working on diverse projects which required much self learning, for example the Services of Google maps api and implementing stand-alone development for clients</li>\n                    <li>Working in a team of 3 while collaborating, knowledge sharing &amp; training new employees</li>\n                    <li>Selected for outstanding employee  2017</li>\n                </ul>\n\n                <Typography variant=\"caption\" className=\"TextField\">2011 Software developer, Find Me An Angel (FMAA) inc</Typography>\n                <ul>\n                    <li>Developing a complex social website</li>\n                    <li>Building a web product, while using ASP.NET Web Forms</li>\n                    <li>Developing in .Net, C# and working with MSSQL database</li>\n                </ul>\n            </div><br /><br />\n        </div>\n    );\n}\n\nexport default AboutUs;","import { Notyf } from \"notyf\";\r\n\r\nclass Notify {\r\n\r\n    private notification = new Notyf({ \r\n        duration: 4000, \r\n        position: { x: \"right\", y: \"bottom\" },\r\n        types: [\r\n            {\r\n              type: 'success',\r\n              background: '#8d8d8d',\r\n              dismissible: true\r\n            },\r\n            {\r\n              type: 'error',\r\n              background: '#ff4c2c',\r\n              dismissible: true\r\n            }\r\n          ]\r\n    })\r\n\r\n    public success(message: string) {\r\n        this.notification.success(message);\r\n    }\r\n    \r\n    public error(err: any) {\r\n        const message: string = this.extractMessage(err);\r\n        this.notification.error(message);\r\n    }\r\n\r\n    private extractMessage(err: any): string {\r\n\r\n        if(typeof err === \"string\") {\r\n            return err;\r\n        }\r\n        \r\n        if(typeof err?.response?.data === \"string\") {\r\n            return err.response.data;\r\n        }\r\n\r\n        if (typeof err?.response?.data?.message === \"string\") {\r\n            if(err.response.status === 401) {\r\n                return \"You are not authorized, you need to login again\";\r\n            }\r\n            return err.response.data;\r\n        }\r\n\r\n        if(Array.isArray(err?.response?.data)) {\r\n            return err.response.data[0];\r\n        }\r\n        \r\n        if(typeof err?.message === \"string\") {\r\n            return err.message;\r\n        }\r\n\r\n        return \"An error occurred, please try again.\";\r\n    }\r\n}\r\n\r\nconst notify = new Notify();\r\n\r\nexport default notify;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport notify from \"../../../Services/Notification\";\n\n// This function receives the Component that only admin user should access\nfunction AdminRequired(ComposedComponent: any) {\n\n    interface AdminAuthenticatedState {\n        user: UserModel;\n    }\n\n    interface AdminAuthenticatedProps {\n        history: History;\n    }\n\n    class AdminAuthenticated extends Component<AdminAuthenticatedProps, AdminAuthenticatedState> {\n\n        private unsubscribeAdminAuthenticated: Unsubscribe;\n\n        public constructor(props: AdminAuthenticatedProps) {\n            super(props);\n            this.state = { user: store.getState().authState.user };\n        }\n\n        componentWillMount() {\n            this.unsubscribeAdminAuthenticated = store.subscribe(() => {\n                this.setState({ user: store.getState().authState.user });\n            });\n\n            if (!this.state.user || this.state.user.userType !== UserType.ADMIN) {\n                notify.error(\"You are not authorized to access this action!\");\n                this.props.history.push(\"/login\");\n            }\n        }\n\n        render() {\n            return <ComposedComponent {...this.props} />;\n        }\n\n        public componentWillUnmount(): void {\n            this.unsubscribeAdminAuthenticated();\n        }\n    }\n\n    // Return the new Component that requires authorization\n    return AdminAuthenticated;\n}\n\nexport default AdminRequired;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport notify from \"../../../Services/Notification\";\n\n// This function receives the Component that only company user should access\nfunction CompanyRequired(ComposedComponent: any) {\n\n    interface CompanyAuthenticatedState {\n        user: UserModel;\n    }\n\n    interface CompanyAuthenticatedProps {\n        history: History;\n    }\n\n    class CompanyAuthenticated extends Component<CompanyAuthenticatedProps, CompanyAuthenticatedState> {\n\n        private unsubscribeCompanyAuthenticated: Unsubscribe;\n\n        public constructor(props: CompanyAuthenticatedProps) {\n            super(props);\n            this.state = { user: store.getState().authState.user };\n        }\n\n        componentWillMount() {\n            this.unsubscribeCompanyAuthenticated = store.subscribe(() => {\n                this.setState({ user: store.getState().authState.user });\n            });\n\n            if (!this.state.user || this.state.user.userType !== UserType.COMPANY) {\n                notify.error(\"You are not authorized to access this action!\");\n                this.props.history.push(\"/login\");\n            }\n        }\n\n        render() {\n            return <ComposedComponent {...this.props} />;\n        }\n\n        public componentWillUnmount(): void {\n            this.unsubscribeCompanyAuthenticated();\n        }\n    }\n\n    // Return the new Component that requires authorization\n    return CompanyAuthenticated;\n}\n\nexport default CompanyRequired;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport notify from \"../../../Services/Notification\";\n\n// This function receives the Component that only customer user should access\nfunction CustomerRequired(ComposedComponent: any) {\n\n    interface CustomerAuthenticatedState {\n        user: UserModel;\n    }\n\n    interface CustomerAuthenticatedProps {\n        history: History;\n    }\n\n    class CustomerAuthenticated extends Component<CustomerAuthenticatedProps, CustomerAuthenticatedState> {\n\n        private unsubscribeCustomerAuthenticated: Unsubscribe;\n\n        public constructor(props: CustomerAuthenticatedProps) {\n            super(props);\n            this.state = { user: store.getState().authState.user };\n        }\n\n        componentWillMount() {\n            this.unsubscribeCustomerAuthenticated = store.subscribe(() => {\n                this.setState({ user: store.getState().authState.user });\n            });\n\n            if (!this.state.user || this.state.user.userType !== UserType.CUSTOMER) {\n                notify.error(\"You are not authorized to access this action!\");\n                this.props.history.push(\"/login\");\n            }\n        }\n\n        render() {\n            return <ComposedComponent {...this.props} />;\n        }\n\n        public componentWillUnmount(): void {\n            this.unsubscribeCustomerAuthenticated();\n        }\n    }\n\n    // Return the new Component that requires authorization\n    return CustomerAuthenticated;\n}\n\nexport default CustomerRequired;","// Global settings\r\nclass Globals {\r\n    public dialogTitles = {\r\n        deleteItem: \"Are you sure you want to delete\"\r\n    };\r\n}\r\n\r\n// DEV Settings\r\nclass DevelopmentGlobals extends Globals {\r\n    private serverName = \"localhost\";\r\n    private serverPort = \"8080\";\r\n    private uriHead = `http://${this.serverName}:${this.serverPort}`;\r\n    private uriHeadApi = `http://${this.serverName}:${this.serverPort}/api`;\r\n    public urls = {\r\n        admin: {\r\n            companies: `${this.uriHeadApi}/u-admin/companies/`,\r\n            company: `${this.uriHeadApi}/u-admin/company/`,\r\n            customers: `${this.uriHeadApi}/u-admin/customers/`,\r\n            customer: `${this.uriHeadApi}/u-admin/customer/`\r\n        },\r\n        company: {\r\n            details: `${this.uriHeadApi}/u-company`,\r\n            coupon: `${this.uriHeadApi}/u-company/coupon/`,\r\n            coupons: `${this.uriHeadApi}/u-company/coupons/`,\r\n            couponsByCategory: `${this.uriHeadApi}/u-company/coupons-by-category/`,\r\n            couponsByMaxPrice: `${this.uriHeadApi}/u-company/coupons-up-to-price/`\r\n        },\r\n        customer: {\r\n            details: `${this.uriHeadApi}/u-customer`,\r\n            coupon: `${this.uriHeadApi}/u-customer/coupon/`,\r\n            purchaseCoupon: `${this.uriHeadApi}/u-customer/coupon/`,\r\n            coupons: `${this.uriHeadApi}/u-customer/coupons/`,\r\n            couponsByCategory: `${this.uriHeadApi}/u-customer/coupons-by-category/`,\r\n            couponsByMaxPrice: `${this.uriHeadApi}/u-customer/coupons-up-to-price/`,\r\n            couponsCanPurchase: `${this.uriHeadApi}/u-customer/coupons-can-purchase/`,\r\n            couponsAboutToExpire: `${this.uriHeadApi}/u-customer/coupons-about-to-expire/`\r\n        },\r\n        images: `${this.uriHead}/images/`,\r\n        login: `${this.uriHead}/auth/login`\r\n    }\r\n}\r\n\r\n// Prod Settings\r\nclass ProductionGlobals extends Globals {\r\n    private serverName = \"https://coupons3-server.herokuapp.com\";\r\n    private uriHead = `${this.serverName}`;\r\n    private uriHeadApi = `${this.serverName}/api`;\r\n    public urls = {\r\n        admin: {\r\n            companies: `${this.uriHeadApi}/u-admin/companies/`,\r\n            company: `${this.uriHeadApi}/u-admin/company/`,\r\n            customers: `${this.uriHeadApi}/u-admin/customers/`,\r\n            customer: `${this.uriHeadApi}/u-admin/customer/`\r\n        },\r\n        company: {\r\n            details: `${this.uriHeadApi}/u-company`,\r\n            coupon: `${this.uriHeadApi}/u-company/coupon/`,\r\n            coupons: `${this.uriHeadApi}/u-company/coupons/`,\r\n            couponsByCategory: `${this.uriHeadApi}/u-company/coupons-by-category/`,\r\n            couponsByMaxPrice: `${this.uriHeadApi}/u-company/coupons-up-to-price/`\r\n        },\r\n        customer: {\r\n            details: `${this.uriHeadApi}/u-customer`,\r\n            coupon: `${this.uriHeadApi}/u-customer/coupon/`,\r\n            purchaseCoupon: `${this.uriHeadApi}/u-customer/coupon/`,\r\n            coupons: `${this.uriHeadApi}/u-customer/coupons/`,\r\n            couponsByCategory: `${this.uriHeadApi}/u-customer/coupons-by-category/`,\r\n            couponsByMaxPrice: `${this.uriHeadApi}/u-customer/coupons-up-to-price/`,\r\n            couponsCanPurchase: `${this.uriHeadApi}/u-customer/coupons-can-purchase/`,\r\n            couponsAboutToExpire: `${this.uriHeadApi}/u-customer/coupons-about-to-expire/`\r\n        },\r\n        images: `${this.uriHead}/images/`,\r\n        login: `${this.uriHead}/auth/login`\r\n    }\r\n}\r\n\r\nconst globals = process.env.NODE_ENV === \"development\" ? new DevelopmentGlobals() : new ProductionGlobals();\r\n\r\nexport default globals;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { LockOpen, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { ChangeEvent, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router\";\nimport CredentialsModel from \"../../../Models/CredentialsModel\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport { loginAction } from \"../../../Redux/AuthState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport notify from \"../../../Services/Notification\";\nimport \"./Login.css\";\n\nfunction Login(): JSX.Element {\n\n    const history = useHistory();\n    const { register, handleSubmit, formState: { errors, isValid } } = useForm<CredentialsModel>({\n        mode: \"all\"\n    });\n    const [showPassword, setShowPassword] = useState(false);\n    const [userType, setUserType] = useState(\"ChooseOne\");\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setUserType(event.target.value);\n    };\n\n    const handleClickShowPassword = () => {\n        setShowPassword(!showPassword);\n    };\n\n    async function send(credentials: CredentialsModel) {\n        try {\n            const response = await axios.post<UserModel>(globals.urls.login, credentials);\n            store.dispatch(loginAction(response.data));\n            notify.success(\"You have been successfully logged in!\")\n            history.push(\"/home\");\n        } catch (err) {\n            notify.error(err);\n        }\n    }\n\n    return (\n        <div className=\"Login\">\n            <Typography variant=\"h4\" className=\"Headline\"> <LockOpen /> Login</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    type=\"email\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    type={showPassword ? 'text' : 'password'}\n                    InputProps={{\n                        endAdornment: <InputAdornment position=\"end\">\n                            <IconButton\n                                aria-label=\"toggle password visibility\"\n                                onClick={handleClickShowPassword} edge=\"end\">\n                                {showPassword ? <Visibility /> : <VisibilityOff />}\n                            </IconButton>\n                        </InputAdornment>,\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <TextField name=\"userType\" select className=\"mui-input\"\n                    label=\"Please select your user type\" variant=\"outlined\"\n                    defaultValue={userType}\n                    onChange={handleChange}\n                    SelectProps={{ native: true }}\n                    {...register('userType', {\n                        required: { value: true, message: \"User type is required.\" },\n                        pattern: { value: /^((?!ChooseOne).)*$/, message: \"Choose one of the options other than the first one.\" }\n                    })}\n                    error={!!errors.userType}\n                    helperText={errors.userType?.message}\n                >\n                    <option value=\"ChooseOne\">Choose</option>\n                    {Object.values(UserType).map(val =>\n                        <option key={val} value={val}>{val}</option>\n                    )}\n                </TextField><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"login\" startIcon={<Send />}\n                        type=\"submit\" disabled={!isValid}>Login</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default Login;","import { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { logoutAction } from \"../../../Redux/AuthState\";\nimport store from \"../../../Redux/Store\";\nimport notify from \"../../../Services/Notification\";\n\nfunction Logout(): JSX.Element {\n\n    const history = useHistory();\n    const clearStore = () => {\n        store.getState().companiesState.companies = [];\n        store.getState().customersState.customers = [];\n        store.getState().couponsState.coupons = [];\n    }\n\n    useEffect(() => {\n        store.dispatch(logoutAction());\n        clearStore();\n        notify.success(\"You are now logged out.\");\n        history.push(\"/home\");\n    });\n\n    return null;\n}\n\nexport default Logout;\n\n","import axios from \"axios\";\r\nimport store from \"../Redux/Store\";\r\n\r\nconst jwtAxios = axios.create();\r\n\r\n// Request interceptor\r\njwtAxios.interceptors.request.use(request => {\r\n    request.headers = {\r\n        \"token\": store.getState().authState.user?.token\r\n    }\r\n    \r\n    return request;\r\n});\r\n\r\nexport default jwtAxios;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { AddBox, ClearAll, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport { companyAddedAction } from \"../../../Redux/CompaniesState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./AddCompany.css\";\n\nfunction AddCompany(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors } } = useForm<CompanyModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const [showPassword, setShowPassword] = useState(false);\n\n    const handleClickShowPassword = () => {\n        setShowPassword(!showPassword);\n    };\n\n    async function send(company: CompanyModel) {\n        try {\n            const response = await jwtAxios.post<CompanyModel>(globals.urls.admin.company, company);            \n            store.dispatch(companyAddedAction(response.data));\n            notify.success(\"Company has been added!\");\n            history.push(\"/companies\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"AddCompany\">\n            <Typography variant=\"h4\" className=\"Headline\"> <AddBox /> Add Company</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <TextField label=\"name\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"name\", {\n                        required: { value: true, message: \"Missing first name.\" },\n                        minLength: { value: 3, message: \"First name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric & underscore characters and space.\" }\n                    })}\n                    error={!!errors.name}\n                    helperText={errors.name?.message}\n                /><br /><br />\n\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    type=\"email\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" name=\"password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    type={showPassword ? 'text' : 'password'}\n                    InputProps={{\n                        endAdornment:\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword} edge=\"end\">\n                                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>,\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Add</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default AddCompany;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./CompanyDetails.css\";\n\ninterface RouteParam {\n    id: string;\n}\n\ninterface CompanyDetailsProps extends RouteComponentProps<RouteParam> {\n    history: History;\n}\n\ninterface CompanyDetailsState {\n    company: CompanyModel;\n}\n\nclass CompanyDetails extends Component<CompanyDetailsProps, CompanyDetailsState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n\n    public constructor(props: CompanyDetailsProps) {\n        super(props);\n        this.state = { company: null };\n    }\n\n    public async componentDidMount() {\n        try {\n            const id = +this.props.match.params.id;\n            let company = store.getState().companiesState.companies.find(c => c.id === id);\n            if (company) {\n                this.setState({ company });\n            } else if (id > 0) {\n                const response = await jwtAxios.get<CompanyModel>(`${globals.urls.admin.company}/${id}`);\n                if (!this.isAlive) return;\n\n                company = response.data;\n                notify.success(\"Company details were received!\");\n                this.setState({ company });\n            }\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        return (\n            <div className=\"CompanyDetails\">\n                {this.state.company &&\n                    <>\n                        <h2>Company Details</h2>\n                        <h3>Name: {this.state.company.name}</h3>\n                        <h4>Email: {this.state.company.email}</h4>\n                        <h4>Password: {this.state.company.password}</h4>\n                        <br /><br />\n                    </>\n                }\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n    }\n}\n\nexport default CompanyDetails;","import { Button, Dialog, DialogActions, DialogTitle, makeStyles, Typography } from \"@material-ui/core\";\nimport { CancelOutlined, DeleteOutlined } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n    dialogWrapper: {\n        padding: theme.spacing(2)\n    },\n    secondary: {\n        color: '#1a1a1a',\n        border: '2px solid #1a1a1a',\n        backgroundColor: '#dbdbdb',\n        '&:hover': {\n            color: '#dbdbdb',\n            backgroundColor: '#1a1a1a'\n        }\n    },\n    primary: {\n        color: '#e04226',\n        border: '2px solid #e04226',\n        backgroundColor: '#ffede9',\n        '&:hover': { \n            color: '#ffede9',\n            backgroundColor: '#e04226' \n        }\n    }\n}));\n\ninterface SimpleDialogProps {\n    open: boolean;\n\tselectedValue: string;\n    onClose: (value: string) => void;\n    title: string;\n}\n\nfunction SimpleDialog(props: SimpleDialogProps): JSX.Element {\n\n    const {open, selectedValue, onClose, title} = props;\n    const classes = useStyles();\n\n    const handleClose = () => {\n        onClose(selectedValue);\n    };\n\n    const handleButtonClick = (value: string) => {\n        onClose(value);\n    };\n\n    return (\n        <Dialog open={open} onClose={handleClose} classes={{ paper: classes.dialogWrapper }}>\n            <DialogTitle>\n                <Typography variant=\"h6\" component=\"div\">\n                    {title}\n                </Typography>\n            </DialogTitle>\n            <DialogActions>\n                <Button classes={{ root: classes.primary }}\n                    startIcon={<DeleteOutlined />} \n                    onClick={() => handleButtonClick(\"delete\")}>\n                        Delete\n                </Button>\n                <Button classes={{ root: classes.secondary }}\n                    startIcon={<CancelOutlined />} \n                    onClick={() => handleButtonClick(\"cancel\")}>\n                        Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default SimpleDialog;","import { Delete, Edit } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport { companyDeletedAction } from \"../../../Redux/CompaniesState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport SimpleDialog from \"../../SharedArea/SimpleDialog/SimpleDialog\";\nimport \"./CompanyCard.css\";\n\ninterface CompanyCardProps {\n    company: CompanyModel;\n}\n\nfunction CompanyCard(props: CompanyCardProps): JSX.Element {\n\n    const company = props.company;\n    const [open, setOpen] = useState(false);\n    const [selectedValue, setSelectedValue] = useState(\"\");\n    const history = useHistory();\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    }\n\n    const handleClose = (value: string) => {\n        setOpen(false);\n        setSelectedValue(value);\n        value === \"delete\" && handleDelete();\n    }\n\n    const handleDelete = async () => {\n        try {\n            await jwtAxios.delete(`${globals.urls.admin.company}${company.id}`);\n            store.dispatch(companyDeletedAction(company.id));\n            notify.success(\"Company has been deleted!\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"CompanyCard\">\n            <NavLink to={`/companies/${company.id}`} title=\"Click for details\">\n                <h4>{company.name}</h4>\n                <span>Email: {company.email}</span>\n            </NavLink><br />\n            <div className=\"buttons\">\n                <NavLink to={`/companies/update/${company.id}`}>\n                    <Edit />\n                </NavLink>\n                <NavLink to=\"#\" onClick={handleClickOpen}>\n                    <Delete />\n                </NavLink>\n            </div>\n\n            <SimpleDialog\n                title={`${globals.dialogTitles.deleteItem} ${company.name}?`}\n                selectedValue={selectedValue}\n                open={open} onClose={handleClose}\n            />\n        </div>\n    );\n}\n\nexport default CompanyCard;","import { AddBox } from \"@material-ui/icons\";\nimport { History } from \"history\";\nimport { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport { companiesDownloadedAction } from \"../../../Redux/CompaniesState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport CompanyCard from \"../CompanyCard/CompanyCard\";\nimport \"./CompanyList.css\";\n\ninterface CompanyListState {\n    companies: CompanyModel[];\n}\n\ninterface CompanyListProps {\n    history: History;\n}\n\nclass CompanyList extends Component<CompanyListProps, CompanyListState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n    private unsubscribeCompanyList: Unsubscribe;\n\n    public constructor(props: CompanyListProps) {\n        super(props);\n        this.state = { companies: store.getState().companiesState.companies };\n    }\n\n    public async componentDidMount() {\n        this.unsubscribeCompanyList = store.subscribe(() => {\n            this.setState({ companies: store.getState().companiesState.companies });\n        });\n\n        try {\n            // Sending JWT Token with interceptor:\n            const response = await jwtAxios.get<CompanyModel[]>(globals.urls.admin.companies);\n            if (!this.isAlive) return;\n\n            store.dispatch(companiesDownloadedAction(response.data));\n            this.setState({ companies: response.data });\n        } catch (err) {\n            notify.error(err);\n\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        const companies = this.state.companies;\n        return (\n            <div className=\"CompanyList\">\n                {companies?.length === 0 && <p>No companies found in the system</p>}\n                {companies?.length > 0 && <p>{companies?.length} companies found in the system:</p>}\n\n                <NavLink to=\"/companies/add\" >\n                    <AddBox />\n                </NavLink>\n\n                {companies?.length > 0 && <div className=\"comp-list\">{companies?.map(c => <CompanyCard key={c.id} company={c} />)}</div>}\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n        this.unsubscribeCompanyList();\n    }\n}\n\nexport default CompanyList;","import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./MyCompanyDetails.css\";\n\nfunction MyCompanyDetails(): JSX.Element {\n\n    const [company, setCompany] = useState(null);\n    const history = useHistory();\n    const [isAlive, setIsAlive] = useState(true);\n\n    useEffect(() => {\n        async function getCompany() {\n            try {\n                const response = await jwtAxios.get<CompanyModel>(globals.urls.company.details);\n                if (!isAlive) return;\n                setCompany(response.data);\n            } catch (err) {\n                notify.error(err);\n                if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                    history.push(\"/logout\");\n                }\n            }\n        };\n        getCompany();\n\n        return (() => {\n            setIsAlive(false);\n        });\n    });\n\n    return (\n        <div className=\"MyCompanyDetails\">\n            {company &&\n                <>\n                    <h2>My Details</h2>\n                    <h3> Name: {company.name}</h3>\n                    <h4>Email: {company.email}</h4>\n                    <h4>Password: {company.password}</h4>\n                    <br /><br />\n                </>\n            }\n        </div>\n    );\n}\n\nexport default MyCompanyDetails;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { ClearAll, Edit, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, useParams } from \"react-router\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport { companyUpdatedAction } from \"../../../Redux/CompaniesState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./UpdateCompany.css\";\n\ninterface AddCustomerState {\n    showPassword: boolean;\n}\n\nfunction UpdateCompany(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors }, setValue } = useForm<CompanyModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const [state, setState] = useState<AddCustomerState>({\n        showPassword: false\n    });\n\n    const handleClickShowPassword = () => {\n        setState({ ...state, showPassword: !state.showPassword });\n    };\n\n    const { id } = useParams<{ id: string }>();\n    const [company] = useState(store.getState().companiesState.companies.find(c => c.id === +id));\n    const companyInitial = { ...company };\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = event.target;\n        switch (name) {\n            case \"email\":\n                setValue(\"email\", value);\n                break;\n            case \"password\":\n                setValue(\"password\", value);\n                break;\n        }\n    }\n\n    useEffect(() => {\n        if (company) {\n            setValue(\"id\", company.id);\n            setValue(\"name\", company.name);\n            setValue(\"email\", company.email);\n            setValue(\"password\", company.password);\n        }\n    }, [company, setValue]);\n\n    async function send(company: CompanyModel) {\n        // check: if no changes performed => show a message to the user and do nothing\n        if (!isCompanyDifferent(companyInitial, company)) {\n            notify.error(\"No changes were made!\");\n            return;\n        }\n\n        try {\n            const response = await jwtAxios.put<CompanyModel>(globals.urls.admin.company, company);\n            store.dispatch(companyUpdatedAction(response.data));\n            notify.success(\"Company has been updated!\");\n            history.push(\"/companies\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    function isCompanyDifferent(companyBefore: CompanyModel, company: CompanyModel) {\n        let isDiff: boolean = false;\n\n        // go over each entry of company (after changes)\n        Object.entries(company).forEach(afterEntry => {\n\n            // once isDiff is true => no need to check the rest of the entries\n            if (isDiff) return;\n\n            // get the same entry from the initial company object and compare them\n            const beforeEntry = Object.entries(companyBefore).find(bEntry => afterEntry[0] === bEntry[0])\n\n            if (!(afterEntry.toString() === beforeEntry.toString())) {\n                isDiff = true;\n            }\n        });\n\n        return isDiff;\n    }\n\n    return (\n        <div className=\"UpdateCompany\">\n            <Typography variant=\"h4\" className=\"Headline\"><Edit /> Update Company</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                {/* Company name should not be changed in the system therefore the field is disabled  */}\n                <TextField label=\"Name\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"name\")}\n                    defaultValue={company?.name}\n                    disabled\n                /><br /><br />\n\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    type=\"email\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    defaultValue={company?.email}\n                    inputProps={{ onChange: handleChange }}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    type={state.showPassword ? 'text' : 'password'}\n                    defaultValue={company?.password}\n                    InputProps={{\n                        endAdornment:\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword} edge=\"end\">\n                                    {state.showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>,\n                        onChange: handleChange\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Update</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default UpdateCompany;","import { Button, ButtonGroup, Checkbox, FormControlLabel, makeStyles, TextField, Typography } from \"@material-ui/core\";\nimport { Cancel, MailOutline, Send } from \"@material-ui/icons\";\nimport \"./ContactUs.css\";\n\nconst useStyles = makeStyles(theme => ({\n    Checkbox: {\n        '&:checked': {\n            backgroundColor: '#ff9c8b',\n        },\n        color: '#ff9c8b',\n        filter: 'invert(36%) sepia(77%) saturate(1565%) hue-rotate(342deg) brightness(86%) contrast(104%)',\n    },\n}));\n\nfunction ContactUs(): JSX.Element {\n\n    const classes = useStyles();\n\n    return (\n        <div className=\"ContactUs\">\n            <Typography variant=\"h4\" className=\"Headline\"> <MailOutline /> Contact Us</Typography>\n\n            <Typography variant=\"body2\">\n                This form is not supported.<br />\n                It will not be sent by pressing the submit button.\n            </Typography>\n            <br />\n\n            <TextField label=\"Name\" variant=\"outlined\" className=\"mui-input bgc-white\" />\n            <br /><br />\n\n            <TextField label=\"Email\" variant=\"outlined\" type=\"email\" className=\"mui-input bgc-white\" />\n            <br /><br />\n\n            <TextField label=\"Message\" variant=\"outlined\" className=\"mui-input bgc-white\"\n                multiline rows=\"3\"\n            /><br />\n\n            <FormControlLabel className=\"mui-input\"\n                label=\"Send me promotional emails\"\n                control={\n                    <Checkbox color=\"primary\" classes={{ root: classes.Checkbox }} />\n                }\n            /><br />\n\n            <ButtonGroup variant=\"contained\">\n                <Button className=\"send\" startIcon={<Send />}\n                    type=\"button\">Send</Button>\n                <Button className=\"cancel\" startIcon={<Cancel />}\n                    type=\"reset\">Cancel</Button>\n            </ButtonGroup>\n        </div>\n    );\n}\n\nexport default ContactUs;","export enum CategoryType {\r\n    FOOD = \"FOOD\",\r\n    ELECTRICITY = \"ELECTRICITY\",\r\n    RESTAURANT = \"RESTAURANT\",\r\n    VACATION = \"VACATION\",\r\n    CLOTHING = \"CLOTHING\"\r\n}","class Util {\r\n\r\n    public capitalize(text: string) : string {\r\n        return text.charAt(0).toLocaleUpperCase().concat(text.substring(1).toLocaleLowerCase());\r\n    }\r\n\r\n    public getDateDisplay(date: Date): string {\r\n        return date.toString().split('-').reverse().join('/');\r\n    }\r\n\r\n    public getEndOfDay(value: Date) {\r\n        const currDate: Date = new Date(Date.parse(value.toString()));\r\n        const [month, day, year] = [currDate.getMonth(), currDate.getDate(), currDate.getFullYear()];\r\n        const [hour, minutes, seconds] = [23, 59, 59];\r\n        const date: Date = new Date(year, month, day, hour, minutes, seconds);\r\n        return date;\r\n    }\r\n}\r\nconst util = new Util();\r\n\r\nexport default util;","import { Button, ButtonGroup, createStyles, FormControl, FormHelperText, InputAdornment, makeStyles, OutlinedInput, TextField, Theme, Typography } from \"@material-ui/core\";\nimport { AddBox, ClearAll, Send } from \"@material-ui/icons\";\nimport { ChangeEvent, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router\";\nimport { CategoryType } from \"../../../Models/CategoryType\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { couponAddedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport \"./AddCoupon.css\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            display: 'flex',\n            flexWrap: 'wrap',\n        },\n        textField: {\n            maxWidth: 250,\n        },\n        input: {\n            backgroundColor: '#ffffff',\n        }\n    }),\n);\n\nfunction AddCoupon(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors }, getValues } = useForm<CouponModel>({\n        mode: 'all'\n    });\n    const history = useHistory();\n    const classes = useStyles();\n\n    const [category, setCategory] = useState(\"ChooseOne\");\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setCategory(event.target.value);\n    };\n\n    async function send(coupon: CouponModel) {\n        try {\n            const cFormData = new FormData();\n            cFormData.append(\"title\", coupon.title);\n            cFormData.append(\"description\", coupon.description);\n            cFormData.append(\"category\", coupon.category.toString());\n            cFormData.append(\"startDate\", coupon.startDate.toString());\n            cFormData.append(\"endDate\", coupon.endDate.toString());\n            cFormData.append(\"amount\", coupon.amount.toString());\n            cFormData.append(\"price\", coupon.price.toString());\n            cFormData.append(\"imageFile\", coupon.imageFile.item(0));\n\n            const response = await jwtAxios.post<CouponModel>(globals.urls.company.coupon, cFormData);\n            store.dispatch(couponAddedAction(response.data));\n            notify.success(\"Coupon has been added!\");\n            history.push(\"/company/coupons\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"AddCoupon\">\n            <Typography variant=\"h4\" className=\"Headline\"><AddBox /> Add Coupon</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <div className=\"grid\">\n                    <TextField label=\"Title\" variant=\"outlined\" className={classes.textField}\n                        {...register(\"title\", {\n                            required: { value: true, message: \"Missing title.\" },\n                            minLength: { value: 3, message: \"Title too short.\" },\n                            pattern: { value: /^[a-zA-Z0-9 !?$%)(+-]+$/g, message: \"Use only [a-zA-Z0-9!?$%)(+-] and space.\" }\n                        })}\n                        InputProps={{ className: classes.input }}\n                        error={!!errors.title}\n                        helperText={errors.title?.message}\n                    />\n\n                    <TextField label=\"Description\" variant=\"outlined\" className={classes.textField}\n                        type=\"textarea\" multiline rows=\"3\" rowsMax={4}\n                        {...register(\"description\", {\n                            required: { value: true, message: \"Missing description.\" },\n                            pattern: { value: /^[\\w!?$%., /%&\\r\\n)*(+-]+$/g, message: \"Use only [a-zA-Z0-9!?$%., /%&)*(+-] and white spaces.\" }\n                        })}\n                        InputProps={{ className: classes.input }}\n                        error={!!errors.description}\n                        helperText={errors.description?.message}\n                    />\n\n                    <div className=\"numbers\">\n                        <TextField label=\"Amount\" variant=\"outlined\" className={classes.textField}\n                            type=\"number\"\n                            {...register(\"amount\", {\n                                required: { value: true, message: \"Missing amount.\" },\n                                pattern: { value: /^[1-9]\\d*$/g, message: \"Use only positive whole number.\" }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            error={!!errors.amount}\n                            helperText={errors.amount?.message}\n                        />\n                        &nbsp;\n                        <TextField label=\"Price\" variant=\"outlined\" className={classes.textField}\n                            type=\"number\"\n                            {...register(\"price\", {\n                                required: { value: true, message: \"Missing price.\" },\n                                pattern: { value: /^[1-9]\\d*\\.?\\d*$/g, message: \"Use only positive numbers including decimals.\" }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{\n                                step: 0.01,\n                                min: 0,\n                                startadornment: <InputAdornment position=\"start\">$</InputAdornment>\n                            }}\n                            error={!!errors.price}\n                            helperText={errors.price?.message}\n                        />\n                    </div>\n\n                    <TextField name=\"category\" select className={classes.textField}\n                        label=\"Please select a category\" variant=\"outlined\"\n                        onChange={handleChange}\n                        SelectProps={{ native: true }}\n                        {...register('category', {\n                            required: { value: true, message: \"Category is required.\" },\n                            pattern: { value: /^((?!ChooseOne).)*$/, message: \"Choose any of the options but the first.\" }\n                        })}\n                        InputProps={{ className: classes.input }}\n                        defaultValue={category}\n                        error={!!errors.category}\n                        helperText={errors.category?.message}\n                    >\n                        <option value=\"ChooseOne\">Choose</option>\n                        {Object.values(CategoryType).map(val =>\n                            <option key={val} value={val}>{util.capitalize(val)}</option>\n                        )}\n                    </TextField>\n\n                    <div className=\"dates\">\n                        <TextField label=\"StartDate\" variant=\"outlined\" className={classes.textField}\n                            type=\"date\"\n                            InputLabelProps={{ shrink: true }}\n                            {...register(\"startDate\", {\n                                required: { value: true, message: \"Missing start date.\" },\n                                validate: {\n                                    cannotBeInThePast: (value) => {\n                                        // get the end of the chosen day => this will allow us to choose today as the start date\n                                        const date: Date = util.getEndOfDay(value);\n                                        return Date.parse(date.toString()) >= Date.now() || \"Start date cannot be in the past\";\n                                    },\n                                    compareToEndDate: (value) => {\n                                        const { endDate } = getValues();\n                                        if (!endDate) { return true };\n                                        // Validate the coupon's dates => Start date should precede end date:\n                                        return Date.parse(value.toString()) <= Date.parse(endDate.toString()) || \"The start date should precede the end date\";\n                                    }\n                                }\n                            })}\n                            InputProps={{ className: classes.input }}\n                            error={!!errors.startDate}\n                            helperText={errors.startDate?.message}\n                        /><br />\n\n                        <TextField label=\"EndDate\" variant=\"outlined\" className={classes.textField}\n                            type=\"date\"\n                            InputLabelProps={{ shrink: true }}\n                            {...register(\"endDate\", {\n                                required: { value: true, message: \"Missing end date.\" },\n                                validate: {\n                                    cannotBeInThePast: (value) => {\n                                        return Date.parse(value.toString()) >= Date.now() || \"End date cannot be in the past\";\n                                    },\n                                    compareToStartDate: (value) => {\n                                        const { startDate } = getValues();\n                                        if (!startDate) { return true };\n                                        // Validate the coupon's dates => End date should come after the start date:\n                                        return Date.parse(startDate.toString()) <= Date.parse(value.toString()) || \"The end date should come after the start date\";\n                                    }\n                                }\n                            })}\n                            InputProps={{ className: classes.input }}\n                            error={!!errors.endDate}\n                            helperText={errors.endDate?.message}\n                        />\n                    </div>\n\n                    <FormControl variant=\"outlined\" className={classes.textField}>\n                        <OutlinedInput disabled className=\"mui-input\" label=\"Image\" />\n                        <input className=\"MuiInputBase-input MuiOutlinedInput-input file-input\"\n                            type=\"file\" name=\"image\" accept=\"image/*\"\n                            {...register(\"imageFile\", {\n                                required: { value: true, message: \"Missing image.\" }\n                            })}\n                        />\n                        <FormHelperText>{errors.imageFile?.message}</FormHelperText>\n                    </FormControl>\n                </div><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Add</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default AddCoupon;","import { CardMedia } from \"@material-ui/core\";\nimport { Delete, Edit, ShoppingCart } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport { couponDeletedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport SimpleDialog from \"../../SharedArea/SimpleDialog/SimpleDialog\";\nimport \"./CouponCard.css\";\n\ninterface CouponCardProps {\n    coupon: CouponModel;\n    userType: UserType;\n    showPurchase?: boolean;\n    detailsURL: string;\n}\n\nfunction CouponCard(props: CouponCardProps): JSX.Element {\n\n    const history = useHistory();\n    const coupon = props.coupon;\n    const [open, setOpen] = useState(false);\n    const [selectedValue, setSelectedValue] = useState(\"\");\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    }\n\n    const handleClose = (value: string) => {\n        setOpen(false);\n        setSelectedValue(value);\n        value === \"delete\" && handleDelete();\n    }\n\n    const handleDelete = async () => {\n        try {\n            await jwtAxios.delete(`${globals.urls.company.coupon}${coupon.id}`);\n            store.dispatch(couponDeletedAction(coupon.id));\n            notify.success(\"Coupon has been deleted!\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    const handlePurchase = async () => {\n        try {\n            await jwtAxios.put(`${globals.urls.customer.purchaseCoupon}${coupon.id}`);\n            notify.success(\"Coupon has been successfully purchased! You can see it in 'My coupons'.\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"CouponCard\">\n            <NavLink to={props.detailsURL} title=\"Click for details\">\n                {coupon?.image &&\n                    <CardMedia className=\"media\"\n                        image={coupon?.image}\n                        title={coupon?.title}\n                    />\n                }\n                <h4>{coupon?.title}</h4>\n                <span>{coupon?.description}</span>\n            </NavLink>\n            {props.userType === UserType.COMPANY &&\n                <div className=\"buttons\">\n                    <NavLink to={`/company/coupons/update/${coupon?.id}`}>\n                        <Edit />\n                    </NavLink>\n                    <NavLink to=\"#\" onClick={handleClickOpen}>\n                        <Delete />\n                    </NavLink>\n                </div>\n            }\n            {props.showPurchase &&\n                <div className=\"buttons\">\n                    <NavLink to=\"#\" onClick={handlePurchase}>\n                        <ShoppingCart />\n                    </NavLink>\n                </div>\n            }\n\n            <SimpleDialog\n                title={`${globals.dialogTitles.deleteItem} '${coupon?.title}'?`}\n                selectedValue={selectedValue}\n                open={open} onClose={handleClose}\n            />\n        </div>\n    );\n}\n\nexport default CouponCard;","import { InputAdornment, TextField } from \"@material-ui/core\";\nimport { AddBox } from \"@material-ui/icons\";\nimport { History } from \"history\";\nimport { ChangeEvent, Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport { CategoryType } from \"../../../Models/CategoryType\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport { couponsDownloadedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport CouponCard from \"../CouponCard/CouponCard\";\nimport \"./CompanyCouponList.css\";\n\ninterface CompanyCouponListState {\n    coupons: CouponModel[];\n    filterBy: string;\n    filterSelectedValue: string | number;\n}\n\ninterface CompanyCouponListProps {\n    history: History;\n}\n\nclass CompanyCouponList extends Component<CompanyCouponListProps, CompanyCouponListState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n    private unsubscribeCompanyCouponList: Unsubscribe;\n\n    public constructor(props: CompanyCouponListProps) {\n        super(props);\n        this.state = {\n            coupons: store.getState().couponsState.coupons,\n            filterBy: \"All\",\n            filterSelectedValue: null\n        };\n    }\n\n    public setFilterBy = (filterBy: string) => {\n        this.setState({ filterBy });\n    }\n\n    public setFilterSelectedValue = (filterSelectedValue: string | number) => {\n        this.setState({ filterSelectedValue });\n    }\n\n    public handleChangeFilter = (event: ChangeEvent<{ name?: string; value: any; }>) => {\n        const { value } = event.target;\n        switch (value) {\n            case \"price\":\n            case \"All\":\n                this.setFilterBy(value);\n                this.setFilterSelectedValue(null);\n                break;\n            default:\n                this.setFilterBy(\"category\");\n                this.setFilterSelectedValue((value as string).toLowerCase());\n                break;\n        }\n    }\n\n    public handleChangeMaxPrice = (event: ChangeEvent<HTMLInputElement>) => {\n        this.setFilterSelectedValue(+event.target.value);\n    }\n\n    public async componentDidMount() {\n        this.unsubscribeCompanyCouponList = store.subscribe(() => {\n            this.setState({ coupons: store.getState().couponsState.coupons });\n        });\n\n        try {\n            const response = await jwtAxios.get<CouponModel[]>(globals.urls.company.coupons);\n            if (!this.isAlive) return;\n\n            store.dispatch(couponsDownloadedAction(response.data));\n            this.setState({ coupons: response.data });\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public getCouponsForDisplay() {\n        if (!this.state.coupons || this.state.coupons.length === 0) return [];\n        if (this.state.filterBy === \"All\") return this.state.coupons;\n\n        const coupons = this.state.coupons.filter(coupon => {\n            const filterVal = this.state.filterSelectedValue;\n            if (this.state.filterBy === \"price\") {\n                return coupon.price <= (filterVal as number);\n            } else {\n                return coupon.category.toLowerCase().includes((filterVal as string).toLowerCase());\n            }\n        });\n        return coupons;\n    }\n\n    public render(): JSX.Element {\n        const coupons = this.getCouponsForDisplay();\n        const filterVal = this.state.filterSelectedValue;\n        const filterBy = this.state.filterBy;\n        const category = \"category\";\n        const price = \"price\";\n\n        return (\n            <div className=\"CompanyCouponList\">\n                {coupons?.length === 0 && <><p>No coupons found in the system\n                    {filterBy === category && <span> for {`${filterVal} ${category}`}</span>}\n                    {filterBy === price && <span> with up to ${`${filterVal ? filterVal : 0} ${price}`}</span>}\n                </p></>}\n                {coupons?.length > 0 && <><p>{coupons?.length} coupons found in the system:</p></>}\n\n                <NavLink to=\"/company/coupons/add\">\n                    <AddBox />\n                </NavLink>\n\n                <TextField name=\"category\" select className=\"mui-select\"\n                    label=\"Filter by category\" variant=\"outlined\"\n                    SelectProps={{\n                        native: true,\n                        onChange: (e: ChangeEvent<{ name?: string; value: any; }>) => {\n                            this.handleChangeFilter(e);\n                        }\n                    }}\n                >\n                    <option value=\"All\">All</option>\n                    {Object.values(CategoryType).map(val =>\n                        <option key={val} value={val}>{util.capitalize(val)}</option>\n                    )}\n                    <option value=\"price\">Price</option>\n                </TextField>\n\n                {filterBy === price &&\n                    <>\n                        &nbsp;\n                        <TextField label=\"Max Price\" variant=\"outlined\" className=\"mui-select\"\n                            type=\"number\"\n                            InputLabelProps={{ shrink: true }}\n                            inputProps={{\n                                step: 0.01,\n                                min: 0,\n                                startadornment: <InputAdornment position=\"start\">$</InputAdornment>,\n                                onChange: (e: ChangeEvent<HTMLInputElement>) => this.handleChangeMaxPrice(e),\n                            }}\n                        />\n                    </>\n                }<br /><br />\n\n                {coupons?.length > 0 &&\n                    <div className=\"coupon-list\">\n                        {coupons?.map(c =>\n                            <CouponCard key={`co${c.id}`} coupon={c}\n                                detailsURL={`/company/coupons/${c.id}`}\n                                userType={UserType.COMPANY}\n                            />)\n                        }\n                    </div>\n                }\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n        this.unsubscribeCompanyCouponList();\n    }\n}\n\nexport default CompanyCouponList;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport \"./CouponDetails.css\";\n\ninterface RouteParam {\n    id: string;\n}\n\ninterface CouponDetailsProps extends RouteComponentProps<RouteParam> {\n    history: History;\n}\n\ninterface CouponDetailsState {\n    coupon: CouponModel;\n}\n\nclass CouponDetails extends Component<CouponDetailsProps, CouponDetailsState> {\n\n    public constructor(props: CouponDetailsProps) {\n        super(props);\n        this.state = { coupon: null };\n    }\n\n    public async componentDidMount() {\n        try {\n            const id = +this.props.match.params.id;\n            let coupon = store.getState().couponsState.coupons.find(c => c.id === id);\n            if (coupon) {\n                this.setState({ coupon });\n            } else if (id > 0) {\n                const userType = store.getState().authState.user.userType;\n\n                let url: string = \"\";\n                if (userType === UserType.COMPANY) url = globals.urls.company.coupon;\n                if (userType === UserType.CUSTOMER) url = globals.urls.customer.coupon;\n\n                const response = await jwtAxios.get<CouponModel>(`${url}/${id}`);\n                coupon = response.data;\n                notify.success(\"Coupon details were received!\");\n                this.setState({ coupon });\n            }\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        const coupon = this.state.coupon;\n        const dStart = coupon?.startDate ? util.getDateDisplay(coupon.startDate) : \"\";\n        const dEnd = coupon?.endDate ? util.getDateDisplay(coupon.endDate) : \"\";\n        return (\n            <div className=\"CouponDetails\">\n                {coupon &&\n                    <div className=\"box\">\n                        <div>\n                            <img src={coupon?.image}\n                                alt={coupon?.title} title={coupon?.title}\n                            />\n                        </div>\n                        <div>\n                            <h2>Coupon Details</h2>\n                            <p>Title: <br />\n                                <span className=\"title\">{coupon?.title}</span>\n                            </p>\n                            <p>Description:<br />\n                                <span className=\"bold-small\">{coupon?.description}</span>\n                            </p>\n                            <p>Category: &nbsp;\n                                <span className=\"bold-small\">{coupon?.category}</span>\n                            </p>\n                            <p>Start date: &nbsp;\n                                <span className=\"bold-small\">{dStart}</span>\n                            </p>\n                            <p>End date: &nbsp;\n                                <span className=\"bold-small\">{dEnd}</span>\n                            </p>\n                            <p>Amount: &nbsp;\n                                <span className=\"bold-small\">{coupon?.amount}</span>\n                            </p>\n                            <p>Price: &nbsp;\n                                <span className=\"bold-small\">${coupon?.price}</span>\n                            </p>\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nexport default CouponDetails;","import { InputAdornment, TextField } from \"@material-ui/core\";\nimport { History } from \"history\";\nimport { ChangeEvent, Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport { CategoryType } from \"../../../Models/CategoryType\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport { couponsDownloadedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport CouponCard from \"../CouponCard/CouponCard\";\nimport \"./CustomerCouponList.css\";\n\ninterface CustomerCouponListState {\n    coupons: CouponModel[];\n    listSelected: string;\n    filterBy: string;\n    filterSelectedValue: string | number;\n}\n\ninterface CustomerCouponListProps {\n    history: History;\n}\n\nclass CustomerCouponList extends Component<CustomerCouponListProps, CustomerCouponListState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n    private unsubscribeCustomerCouponList: Unsubscribe;\n\n    public constructor(props: CustomerCouponListProps) {\n        super(props);\n        this.state = {\n            coupons: store.getState().couponsState.coupons,\n            listSelected: \"LastChance\",\n            filterBy: \"All\",\n            filterSelectedValue: null\n        };\n    }\n\n    public setFilterBy = (filterBy: string) => {\n        this.setState({ filterBy });\n    }\n\n    public setFilterSelectedValue = (filterSelectedValue: string | number) => {\n        this.setState({ filterSelectedValue });\n    }\n\n    public handleChangeMaxPrice = (event: ChangeEvent<HTMLInputElement>) => {\n        this.setFilterSelectedValue(+event.target.value);\n    }\n\n    public setListSelectedValue = (listSelected: string) => {\n        this.setState({ listSelected });\n    }\n\n    public async getCouponList(url: string) {\n        try {\n            const response = await jwtAxios.get<CouponModel[]>(url);\n            if (!this.isAlive) return;\n\n            store.dispatch(couponsDownloadedAction(response.data));\n            this.setState({ coupons: response.data });\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public handleChangeList = (event: ChangeEvent<{ name?: string; value: any; }>) => {\n        const { value } = event.target;\n        switch (value) {\n            case \"LastChance\":\n                this.setListSelectedValue(value);\n                this.getCouponList(globals.urls.customer.couponsAboutToExpire);\n                break;\n            case \"MyCoupons\":\n                this.setListSelectedValue(value);\n                this.getCouponList(globals.urls.customer.coupons);\n                break;\n            case \"BuyCoupons\":\n                this.setListSelectedValue(value);\n                this.getCouponList(globals.urls.customer.couponsCanPurchase);\n                break;\n        }\n    }\n\n    public handleChangeFilter = (event: ChangeEvent<{ name?: string; value: any; }>) => {\n        const { value } = event.target;\n        switch (value) {\n            case \"price\":\n            case \"All\":\n                this.setFilterBy(value);\n                this.setFilterSelectedValue(null);\n                break;\n            default:\n                this.setFilterBy(\"category\");\n                this.setFilterSelectedValue((value as string).toLowerCase());\n                break;\n        }\n    }\n\n    public async componentDidMount() {\n        this.unsubscribeCustomerCouponList = store.subscribe(() => {\n            this.setState({ coupons: store.getState().couponsState.coupons });\n        });\n\n        this.getCouponList(globals.urls.customer.couponsAboutToExpire);\n    }\n\n    public getCouponsForDisplay() {\n        if (!this.state.coupons || this.state.coupons.length === 0) return [];\n        if (this.state.filterBy === \"All\") return this.state.coupons;\n\n        const coupons = this.state.coupons.filter(coupon => {\n            const filterVal = this.state.filterSelectedValue;\n            if (this.state.filterBy === \"price\") {\n                return coupon.price <= (filterVal as number);\n            } else {\n                return coupon.category.toLowerCase().includes((filterVal as string).toLowerCase());\n            }\n        });\n        return coupons;\n    }\n\n    public render(): JSX.Element {\n        const coupons = this.getCouponsForDisplay();\n        const filterVal = this.state.filterSelectedValue;\n        const filterBy = this.state.filterBy;\n        const listSelected = this.state.listSelected;\n        const category = \"category\";\n        const price = \"price\";\n\n        return (\n            <div className=\"CustomerCouponList\">\n                {coupons?.length === 0 &&\n                    <p>No coupons found in the system\n                        {filterBy === category && <span> for {`${filterVal} ${category}`}</span>}\n                        {filterBy === price && <span> with up to ${`${filterVal ? filterVal : 0} ${price}`}</span>}\n                    </p>\n                }\n                {coupons?.length > 0 && <><p>{coupons?.length} coupons found in the system:</p></>}\n                <br />\n\n                <TextField name=\"list\" select className=\"mui-select\"\n                    label=\"Show coupons by\" variant=\"outlined\"\n                    SelectProps={{\n                        native: true,\n                        onChange: (e: ChangeEvent<{ name?: string; value: any; }>) => {\n                            this.handleChangeList(e);\n                        }\n                    }}\n                >\n                    <option value=\"LastChance\">Last chance</option>\n                    <option value=\"MyCoupons\">My coupons</option>\n                    <option value=\"BuyCoupons\">Buy coupons</option>\n                </TextField>\n                    &nbsp;\n                <TextField name=\"category\" select className=\"mui-select\"\n                    label=\"Filter by\" variant=\"outlined\"\n                    SelectProps={{\n                        native: true,\n                        onChange: (e: ChangeEvent<{ name?: string; value: any; }>) => {\n                            this.handleChangeFilter(e);\n                        }\n                    }}\n                >\n                    <option value=\"All\">All</option>\n                    {Object.values(CategoryType).map(val =>\n                        <option key={val} value={val}>{util.capitalize(val)}</option>\n                    )}\n                    <option value=\"price\">Price</option>\n                </TextField>\n\n                {filterBy === price &&\n                    <>\n                        &nbsp;\n                        <TextField label=\"Max Price\" variant=\"outlined\" className=\"mui-select\"\n                            type=\"number\"\n                            InputLabelProps={{ shrink: true }}\n                            inputProps={{\n                                step: 0.01,\n                                min: 0,\n                                startadornment: <InputAdornment position=\"start\">$</InputAdornment>,\n                                onChange: (e: ChangeEvent<HTMLInputElement>) => this.handleChangeMaxPrice(e),\n\n                            }}\n                        />\n                    </>\n                }<br /><br />\n\n                {coupons?.length > 0 &&\n                    <div className=\"coupon-list\">\n                        {coupons?.map(c =>\n                            <CouponCard key={`cu${c.id}`} coupon={c}\n                                showPurchase={(listSelected !== \"MyCoupons\" ? true : false)}\n                                detailsURL={`/customer/coupons/${c.id}`}\n                                userType={UserType.CUSTOMER}\n                            />)\n                        }\n                    </div>\n                }\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n        this.unsubscribeCustomerCouponList();\n    }\n}\n\nexport default CustomerCouponList;","import { Button, ButtonGroup, createStyles, FormControl, FormHelperText, InputAdornment, makeStyles, OutlinedInput, TextField, Theme, Typography } from \"@material-ui/core\";\nimport { ClearAll, Edit, Send } from \"@material-ui/icons\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, useParams } from \"react-router\";\nimport { CategoryType } from \"../../../Models/CategoryType\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { couponUpdatedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport \"./UpdateCoupon.css\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            display: 'flex',\n            flexWrap: 'wrap',\n        },\n        textField: {\n            maxWidth: 250\n        },\n        input: {\n            backgroundColor: '#ffffff',\n        }\n    }),\n);\n\nfunction UpdateCoupon(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors }, setValue, getValues } = useForm<CouponModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const classes = useStyles();\n\n    const { id } = useParams<{ id: string }>();\n    const couponId: number = +id;\n    const [coupon] = useState(\n        store.getState().couponsState.coupons.find(c => c.id === couponId)\n    );\n    const couponInitial = { ...coupon };\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = event.target;\n        switch (name) {\n            case \"title\":\n                setValue(\"title\", value);\n                break;\n            case \"description\":\n                setValue(\"description\", value);\n                break;\n            case \"amount\":\n                setValue(\"amount\", +value);\n                break;\n            case \"price\":\n                setValue(\"price\", +value);\n                break;\n            case \"category\":\n                setValue(\"category\", CategoryType[value as keyof typeof CategoryType]);\n                break;\n            case \"startDate\":\n                setValue(\"startDate\", new Date(value));\n                break;\n            case \"endDate\":\n                setValue(\"endDate\", new Date(value));\n                break;\n        }\n    }\n\n    useEffect(() => {\n        if (coupon) {\n            setValue(\"id\", couponId);\n            setValue(\"title\", coupon.title);\n            setValue(\"description\", coupon.description);\n            setValue(\"amount\", coupon.amount);\n            setValue(\"price\", coupon.price);\n            setValue(\"category\", coupon.category);\n            setValue(\"startDate\", coupon.startDate);\n            setValue(\"endDate\", coupon.endDate);\n            setValue(\"image\", coupon.image);\n        }\n    }, [coupon, couponId, setValue]);\n\n    async function send(coupon: CouponModel) {\n        // check: if no changes performed => do nothing\n        if (!isCouponDifferent(couponInitial, coupon)) {\n            notify.error(\"No changes were made!\");\n            return;\n        }\n\n        try {\n            const myFormData = new FormData();\n            myFormData.append(\"id\", coupon.id.toString());\n            myFormData.append(\"title\", coupon.title);\n            myFormData.append(\"description\", coupon.description);\n            myFormData.append(\"category\", coupon.category.toString());\n            myFormData.append(\"startDate\", coupon.startDate.toString());\n            myFormData.append(\"endDate\", coupon.endDate.toString());\n            myFormData.append(\"amount\", coupon.amount.toString());\n            myFormData.append(\"price\", coupon.price.toString());\n            myFormData.append(\"image\", coupon.image);\n\n            // imageFile is not required for update => \n            // append to FormData only if there is a new file to upload\n            if (coupon.imageFile.length > 0) {\n                myFormData.append(\"imageFile\", coupon.imageFile.item(0));\n            }\n\n            const response = await jwtAxios.put<CouponModel>(globals.urls.company.coupon, myFormData);\n            store.dispatch(couponUpdatedAction(response.data));\n            notify.success(\"Coupon has been updated!\");\n            history.push(\"/company/coupons\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    function isCouponDifferent(couponBefore: CouponModel, coupon: CouponModel) {\n        let isDiff: boolean = false;\n\n        // for each entry of coupon (after changes)\n        Object.entries(coupon).forEach(afterEntry => {\n\n            // once isDiff is true => no need to check the rest of the entries\n            if (isDiff) return;\n\n            // get the same entry from the initial company object and compare them\n            const beforeEntry = Object.entries(couponBefore).find(bEntry => afterEntry[0] === bEntry[0])\n\n            // if \"imageFile\" has a new file => the entries are different\n            if (afterEntry[1] instanceof FileList) {\n                if ((afterEntry[1] as FileList).length > 0) {\n                    isDiff = true;\n                }\n            } else if (!(afterEntry.toString() === beforeEntry.toString())) {\n                isDiff = true;\n            }\n        });\n        return isDiff;\n    }\n\n    return (\n        <div className=\"UpdateCoupon\">\n            <Typography variant=\"h4\" className=\"Headline\"> <Edit /> Update Coupon</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <div className=\"grid\">\n                    <div className=\"texts\">\n                        <TextField label=\"Title\" variant=\"outlined\" className={classes.textField}\n                            {...register(\"title\", {\n                                required: { value: true, message: \"Missing title.\" },\n                                minLength: { value: 3, message: \"Title too short.\" },\n                                pattern: { value: /^[a-zA-Z0-9 !?$%)(+-]+$/g, message: \"Use only [a-zA-Z0-9!?$%)(+-] and space.\" }\n                            })}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.title}\n                            error={!!errors.title}\n                            helperText={errors.title?.message}\n                        /><br />\n\n                        <TextField label=\"Description\" variant=\"outlined\" className={classes.textField}\n                            type=\"textarea\" multiline rows=\"3\" rowsMax={4}\n                            {...register(\"description\", {\n                                required: { value: true, message: \"Missing description.\" },\n                                pattern: { value: /^[\\w!?$%., /%&\\r\\n)*(+-]+$/g, message: \"Use only [a-zA-Z0-9!?$%., /%&)*(+-] and white spaces.\" }\n                            })}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.description}\n                            error={!!errors.description}\n                            helperText={errors.description?.message}\n                        />\n                    </div>\n\n                    <div className=\"dates\">\n                        <TextField label=\"StartDate\" variant=\"outlined\" className={classes.textField}\n                            type=\"date\"\n                            {...register(\"startDate\", {\n                                required: { value: true, message: \"Missing start date.\" },\n                                validate: {\n                                    compareToEndDate: (value) => {\n                                        const { endDate } = getValues();\n                                        if (!endDate) { return true };\n                                        // Validate the coupon's dates => Start date should precede end date:\n                                        return Date.parse(value.toString()) <= Date.parse(endDate.toString()) || \"The start date should precede the end date\";\n                                    }\n                                }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.startDate}\n                            error={!!errors.startDate}\n                            helperText={errors.startDate?.message}\n                        /><br />\n\n                        <TextField label=\"EndDate\" variant=\"outlined\" className={classes.textField}\n                            type=\"date\"\n                            {...register(\"endDate\", {\n                                required: { value: true, message: \"Missing end date.\" },\n                                validate: {\n                                    compareToStartDate: (value) => {\n                                        const { startDate } = getValues();\n                                        if (!startDate) { return true };\n                                        // Validate the coupon's dates => End date should come after the start date:\n                                        return Date.parse(startDate.toString()) <= Date.parse(value.toString()) || \"The end date should come after the start date\";\n                                    }\n                                }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.endDate}\n                            error={!!errors.endDate}\n                            helperText={errors.endDate?.message}\n                        />\n                    </div>\n\n                    <TextField name=\"category\" select className={classes.textField}\n                        label=\"Please select a category\" variant=\"outlined\"\n                        {...register(\"category\", {\n                            required: { value: true, message: \"Category is required.\" },\n                            pattern: { value: /^((?!ChooseOne).)*$/, message: \"Choose any of the options but the first.\" }\n                        })}\n                        SelectProps={{ native: true }}\n                        InputProps={{ className: classes.input }}\n                        inputProps={{ onChange: handleChange }}\n                        defaultValue={coupon?.category}\n                        error={!!errors.category}\n                        helperText={errors.category?.message}\n                    >\n                        <option value=\"ChooseOne\">Choose</option>\n                        {Object.values(CategoryType).map(val =>\n                            <option key={val} value={val}>{util.capitalize(val)}</option>\n                        )}\n                    </TextField>\n\n                    <div className=\"numbers\">\n                        <TextField label=\"Amount\" variant=\"outlined\" className={classes.textField}\n                            type=\"number\"\n                            {...register(\"amount\", {\n                                required: { value: true, message: \"Missing amount.\" },\n                                pattern: { value: /^[1-9]\\d*$/g, message: \"Use only positive whole number.\" }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.amount}\n                            error={!!errors.amount}\n                            helperText={errors.amount?.message}\n                        />\n                        &nbsp;\n                        <TextField label=\"Price\" variant=\"outlined\" className={classes.textField}\n                            type=\"number\"\n                            {...register(\"price\", {\n                                required: { value: true, message: \"Missing price.\" },\n                                pattern: { value: /^[1-9]\\d*\\.?\\d*$/g, message: \"Use only positive numbers including decimals.\" }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{\n                                step: 0.01,\n                                min: 0,\n                                startadornment: <InputAdornment position=\"start\">$</InputAdornment>,\n                                onChange: handleChange\n                            }}\n                            defaultValue={coupon?.price}\n                            error={!!errors.price}\n                            helperText={errors.price?.message}\n                        />\n                    </div>\n\n                    <div className=\"files\">\n                        {coupon?.image &&\n                            <>\n                                <img className={classes.textField}\n                                    src={coupon?.image}\n                                    alt={coupon?.title} title={coupon?.title}\n                                />\n                                <br />\n                            </>\n                        }\n\n                        {/* Image file is not required in the update form */}\n                        <FormControl variant=\"outlined\" className={classes.textField}>\n                            <OutlinedInput disabled className=\"mui-input\" label=\"Image\" />\n                            <input className=\"MuiInputBase-input MuiOutlinedInput-input file-input\"\n                                type=\"file\" name=\"image\" accept=\"image/*\"\n                                {...register(\"imageFile\")}\n                            />\n                            <FormHelperText>{errors.imageFile?.message}</FormHelperText>\n                        </FormControl>\n                    </div>\n                </div><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Update</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default UpdateCoupon;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { AddBox, ClearAll, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport { customerAddedAction } from \"../../../Redux/CustomersState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./AddCustomer.css\";\n\nfunction AddCustomer(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors, isValid } } = useForm<CustomerModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const [showPassword, setShowPassword] = useState(false);\n\n    const handleClickShowPassword = () => {\n        setShowPassword(!showPassword);\n    };\n\n    async function send(customer: CustomerModel) {\n        try {\n            const response = await jwtAxios.post<CustomerModel>(globals.urls.admin.customer, customer);\n            store.dispatch(customerAddedAction(response.data));\n            notify.success(\"Customer has been added!\");\n            history.push(\"/customers\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"AddCustomer\">\n            <Typography variant=\"h4\" className=\"Headline\"> <AddBox /> Add Customer</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <TextField label=\"FirstName\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"firstName\", {\n                        required: { value: true, message: \"Missing first name.\" },\n                        minLength: { value: 3, message: \"First name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric & underscore characters and space.\" }\n                    })}\n                    error={!!errors.firstName}\n                    helperText={errors.firstName?.message}\n                /><br /><br />\n\n                <TextField label=\"LastName\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"lastName\", {\n                        required: { value: true, message: \"Missing last name.\" },\n                        minLength: { value: 3, message: \"Last name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric & underscore characters and space.\" }\n                    })}\n                    error={!!errors.lastName}\n                    helperText={errors.lastName?.message}\n                /><br /><br />\n\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    type={showPassword ? 'text' : 'password'}\n                    InputProps={{\n                        endAdornment:\n                            <InputAdornment position=\"end\">\n                                <IconButton aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword} edge=\"end\">\n                                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>,\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\" disabled={!isValid}>Add</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default AddCustomer;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./CustomerDetails.css\";\n\ninterface RouteParam {\n    id: string;\n}\n\ninterface CustomerDetailsProps extends RouteComponentProps<RouteParam> {\n    history: History;\n}\n\ninterface CustomerDetailsState {\n    customer: CustomerModel;\n}\n\nclass CustomerDetails extends Component<CustomerDetailsProps, CustomerDetailsState> {\n\n    public constructor(props: CustomerDetailsProps) {\n        super(props);\n        this.state = { customer: null };\n    }\n\n    public async componentDidMount() {\n        try {\n            const id = +this.props.match.params.id;\n            let customer = store.getState().customersState.customers.find(c => c.id === id);\n            if (customer) {\n                this.setState({ customer });\n            } else if (id > 0) {\n                const response = await jwtAxios.get<CustomerModel>(`${globals.urls.admin.customer}/${id}`);\n                customer = response.data;\n                notify.success(\"Customer details were received!\");\n                this.setState({ customer });\n            }\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        return (\n            <div className=\"CustomerDetails\">\n                {this.state.customer &&\n                    <>\n                        <h2>Customer Details</h2>\n                        <h3>First name: {this.state.customer.firstName}</h3>\n                        <h3>Last name: {this.state.customer.lastName}</h3>\n                        <h4>Email: {this.state.customer.email}</h4>\n                        <h4>Password: {this.state.customer.password}</h4>\n                        <br /><br />\n                    </>\n                }\n            </div>\n        );\n    }\n}\n\nexport default CustomerDetails;","import { Delete, Edit } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport { customerDeletedAction } from \"../../../Redux/CustomersState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport SimpleDialog from \"../../SharedArea/SimpleDialog/SimpleDialog\";\nimport \"./CustomerCard.css\";\n\ninterface CustomerCardProps {\n    customer: CustomerModel\n}\n\nfunction CustomerCard(props: CustomerCardProps): JSX.Element {\n\n    const customer = props.customer;\n    const [open, setOpen] = useState(false);\n    const [selectedValue, setSelectedValue] = useState(\"\");\n    const history = useHistory();\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    }\n\n    const handleClose = (value: string) => {\n        setOpen(false);\n        setSelectedValue(value);\n\n        value === \"delete\" && handleDelete();\n    }\n\n    const handleDelete = async () => {\n        try {\n            await jwtAxios.delete(`${globals.urls.admin.customer}${customer.id}`);\n            store.dispatch(customerDeletedAction(customer.id));\n            notify.success(\"Customer was deleted!\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"CustomerCard\">\n            <NavLink to={`/customers/${customer.id}`} title=\"Click for details\">\n                <h4>{customer.firstName} {customer.lastName}</h4>\n                <span>Email: {customer.email}</span>\n            </NavLink><br />\n            <div className=\"buttons\">\n                <NavLink to={`/customers/update/${customer.id}`}>\n                    <Edit />\n                </NavLink>\n                <NavLink to=\"#\" onClick={handleClickOpen}>\n                    <Delete />\n                </NavLink>\n            </div>\n\n            <SimpleDialog\n                title={`${globals.dialogTitles.deleteItem} ${customer.firstName} ${customer.lastName}?`}\n                selectedValue={selectedValue}\n                open={open} onClose={handleClose}\n            />\n        </div>\n    );\n}\n\nexport default CustomerCard;","import { AddBox } from \"@material-ui/icons\";\nimport { History } from \"history\";\nimport { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport { customersDownloadedAction } from \"../../../Redux/CustomersState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport CustomerCard from \"../CustomerCard/CustomerCard\";\nimport \"./CustomerList.css\";\n\ninterface CustomerListState {\n    customers: CustomerModel[];\n}\n\ninterface CustomerListProps {\n    history: History;\n}\n\nclass CustomerList extends Component<CustomerListProps, CustomerListState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n    private unsubscribeCustomerList: Unsubscribe;\n\n    public constructor(props: CustomerListProps) {\n        super(props);\n        this.state = { customers: store.getState().customersState.customers };\n    }\n\n    public async componentDidMount() {\n        this.unsubscribeCustomerList = store.subscribe(() => {\n            this.setState({ customers: store.getState().customersState.customers });\n        });\n\n        try {\n            // Sending JWT Token with interceptor:\n            const response = await jwtAxios.get<CustomerModel[]>(globals.urls.admin.customers);\n            if (!this.isAlive) return;\n\n            store.dispatch(customersDownloadedAction(response.data));\n            this.setState({ customers: response.data });\n        } catch (err) {\n            notify.error(err);\n\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        const customers = this.state.customers;\n        return (\n            <div className=\"CustomerList\">\n                {customers.length === 0 && <><p>No customers found in the system</p></>}\n                {customers.length > 0 && <><p>{customers.length} customers found in the system:</p></>}\n\n                <NavLink to=\"/customers/add\" >\n                    <AddBox />\n                </NavLink>\n\n                {customers.length > 0 && <div className=\"cus-list\">{customers.map(c => <CustomerCard key={c.id} customer={c} />)}</div>}\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n        this.unsubscribeCustomerList();\n    }\n}\n\nexport default CustomerList;","import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./MyCustomerDetails.css\";\n\nfunction MyCustomerDetails(): JSX.Element {\n\n    const [customer, setCustomer] = useState(null);\n    const history = useHistory();\n    const [isAlive, setIsAlive] = useState(true);\n\n    useEffect(() => {\n        async function getCustomer() {\n            try {\n                const response = await jwtAxios.get<CustomerModel>(globals.urls.customer.details);\n                if (!isAlive) return;\n                setCustomer(response.data);\n                notify.success(\"Customer details were received!\");\n            } catch (err) {\n                notify.error(err);\n                if (err.response.data.status === 401) {\n                    history.push(\"/logout\");\n                }\n            }\n        };\n        getCustomer();\n\n        return (() => {\n            setIsAlive(false);\n        });\n    }, [history, isAlive]);\n\n    return (\n        <div className=\"MyCustomerDetails\">\n            {customer &&\n                <>\n                    <h2>My Details</h2>\n                    <h3>First name: {customer.firstName}</h3>\n                    <h3>Last name: {customer.lastName}</h3>\n                    <h4>Email: {customer.email}</h4>\n                    <h4>Password: {customer.password}</h4>\n                    <br /><br />\n                </>\n            }\n        </div>\n    );\n}\n\nexport default MyCustomerDetails;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { ClearAll, Edit, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, useParams } from \"react-router\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport { customerUpdatedAction } from \"../../../Redux/CustomersState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./UpdateCustomer.css\";\n\ninterface AddCustomerState {\n    showPassword: boolean;\n}\n\nfunction UpdateCustomer(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors }, setValue } = useForm<CustomerModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const [state, setState] = useState<AddCustomerState>({\n        showPassword: false\n    });\n\n    const handleClickShowPassword = () => {\n        setState({ ...state, showPassword: !state.showPassword });\n    };\n\n    const { id } = useParams<{ id: string }>();\n    const [customer] = useState(store.getState().customersState.customers.find(c => c.id === +id));\n    const customerInitial = { ...customer };\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = event.target;\n        switch (name) {\n            case \"firstName\":\n                setValue(\"firstName\", value);\n                break;\n            case \"lastName\":\n                setValue(\"lastName\", value);\n                break;\n            case \"email\":\n                setValue(\"email\", value);\n                break;\n            case \"password\":\n                setValue(\"password\", value);\n                break;\n        }\n    }\n\n    useEffect(() => {\n        if (customer) {\n            setValue(\"id\", customer.id);\n            setValue(\"firstName\", customer.firstName);\n            setValue(\"lastName\", customer.lastName);\n            setValue(\"email\", customer.email);\n            setValue(\"password\", customer.password);\n        }\n    }, [customer, setValue]);\n\n    async function send(customer: CustomerModel) {\n        // check: if no changes performed => show a message to the user and do nothing\n        if (!isCustomerDifferent(customerInitial, customer)) {\n            notify.error(\"No changes were made!\");\n            return;\n        }\n\n        try {\n            const response = await jwtAxios.put<CustomerModel>(globals.urls.admin.customer, customer);\n            store.dispatch(customerUpdatedAction(response.data));\n            notify.success(\"The customer has been updated!\");\n            history.push(\"/customers\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    function isCustomerDifferent(customerBefore: CustomerModel, customer: CustomerModel) {\n        let isDiff: boolean = false;\n\n        // go over each entry of customer (after changes)\n        Object.entries(customer).forEach(afterEntry => {\n\n            // once isDiff is true => no need to check the rest of the entries\n            if (isDiff) return;\n\n            // get the same entry from the initial customer object and compare them\n            const beforeEntry = Object.entries(customerBefore).find(bEntry => afterEntry[0] === bEntry[0])\n\n            if (!(afterEntry.toString() === beforeEntry.toString())) {\n                isDiff = true;\n            }\n        });\n\n        return isDiff;\n    }\n\n    return (\n        <div className=\"UpdateCustomer\">\n            <Typography variant=\"h4\" className=\"Headline\"><Edit /> Update Customer</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <TextField label=\"FirstName\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"firstName\", {\n                        required: { value: true, message: \"Missing first name.\" },\n                        minLength: { value: 3, message: \"First name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric, underscore and space characters.\" }\n                    })}\n                    defaultValue={customer?.firstName}\n                    inputProps={{ onChange: handleChange }}\n                    error={!!errors.firstName}\n                    helperText={errors.firstName?.message}\n                /><br /><br />\n\n                <TextField label=\"LastName\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"lastName\", {\n                        required: { value: true, message: \"Missing last name.\" },\n                        minLength: { value: 3, message: \"Last name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric, underscore and space characters.\" }\n                    })}\n                    defaultValue={customer?.lastName}\n                    inputProps={{ onChange: handleChange }}\n                    error={!!errors.lastName}\n                    helperText={errors.lastName?.message}\n                /><br /><br />\n\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    defaultValue={customer?.email}\n                    inputProps={{ onChange: handleChange }}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    defaultValue={customer?.password}\n                    type={state.showPassword ? 'text' : 'password'}\n                    InputProps={{\n                        endAdornment:\n                            <InputAdornment position=\"end\">\n                                <IconButton aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword} edge=\"end\">\n                                    {state.showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>,\n                        onChange: handleChange\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Update</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default UpdateCustomer;","import \"./SiteInfo.css\";\n\nfunction SiteInfo(): JSX.Element {\n    return (\n        <div className=\"SiteInfo\">\n            <h4>Welcome to</h4>\n\t\t\t<h2>Coupons System</h2>\n            <p>\n                When logged in as an <span>Administrator</span> you will be able to \n                create, update, delete and view companies and customers.\n            </p>\n            <p>\n                When logged in as a <span>Company</span> you will be able to \n                create, update, delete and view coupons.\n            </p>\n            <p>\n                When logged in as a <span>Customer</span> you will be able to \n                purchase and view coupons.\n            </p>\n            <h4>in a <span>simple</span> and <span>easy</span> way.</h4>\n        </div>\n    );\n}\n\nexport default SiteInfo;","import SiteInfo from \"../SiteInfo/SiteInfo\";\nimport \"./Home.css\";\n\nfunction Home(): JSX.Element {\n    return (\n        <div className=\"Home\">\n            <SiteInfo />\n        </div>\n    );\n}\n\nexport default Home;\n","import \"./Page404.css\";\n\nfunction Page404(): JSX.Element {\n    return (\n        <div className=\"Page404\">\n            <h4>404 page not found!</h4>\n\t\t\t<p>\n                <span></span><br /><br />\n                Terribly sorry...<br />\n                The page you are looking for does not exist.\n            </p>\n\n            <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/t3otBjVZzT0?autoplay=1\" allow=\"autoplay\" title=\"Page not Found\"></iframe>\n            {/* A small gesture for you, Assaf Finkelshtein :) */}\n        </div>\n    );\n}\n\nexport default Page404;","import { Redirect, Route, Switch } from \"react-router-dom\";\nimport AboutUs from \"../../AboutArea/AboutUs/AboutUs\";\nimport AdminRequired from \"../../AuthArea/AdminRequired/AdminRequired\";\nimport CompanyRequired from \"../../AuthArea/CompanyRequired/CompanyRequired\";\nimport CustomerRequired from \"../../AuthArea/CustomerRequired/CustomerRequired\";\nimport Login from \"../../AuthArea/Login/Login\";\nimport Logout from \"../../AuthArea/Logout/Logout\";\nimport AddCompany from \"../../CompaniesArea/AddCompany/AddCompany\";\nimport CompanyDetails from \"../../CompaniesArea/CompanyDetails/CompanyDetails\";\nimport CompanyList from \"../../CompaniesArea/CompanyList/CompanyList\";\nimport MyCompanyDetails from \"../../CompaniesArea/MyCompanyDetails/MyCompanyDetails\";\nimport UpdateCompany from \"../../CompaniesArea/UpdateCompany/UpdateCompany\";\nimport ContactUs from \"../../ContactUsArea/ContactUs/ContactUs\";\nimport AddCoupon from \"../../CouponsArea/AddCoupon/AddCoupon\";\nimport CompanyCouponList from \"../../CouponsArea/CompanyCouponList/CompanyCouponList\";\nimport CouponDetails from \"../../CouponsArea/CouponDetails/CouponDetails\";\nimport CustomerCouponList from \"../../CouponsArea/CustomerCouponList/CustomerCouponList\";\nimport UpdateCoupon from \"../../CouponsArea/UpdateCoupon/UpdateCoupon\";\nimport AddCustomer from \"../../CustomersArea/AddCustomer/AddCustomer\";\nimport CustomerDetails from \"../../CustomersArea/CustomerDetails/CustomerDetails\";\nimport CustomerList from \"../../CustomersArea/CustomerList/CustomerList\";\nimport MyCustomerDetails from \"../../CustomersArea/MyCustomerDetails/MyCustomerDetails\";\nimport UpdateCustomer from \"../../CustomersArea/UpdateCustomer/UpdateCustomer\";\nimport Home from \"../../HomeArea/Home/Home\";\nimport Page404 from \"../../SharedArea/Page404/Page404\";\n\nfunction Routing(): JSX.Element {\n    return (\n        <div className=\"Routing\">\n            <Switch>\n                <Route path=\"/home\" component={Home} exact />\n\n                {/* Company: */}\n                <Route path=\"/company\" component={CompanyRequired(MyCompanyDetails)} exact />\n                <Route path=\"/company/coupons/update/:id\" component={CompanyRequired(UpdateCoupon)} exact />\n                <Route path=\"/company/coupons/add\" component={CompanyRequired(AddCoupon)} exact />\n                <Route path=\"/company/coupons/:id\" component={CompanyRequired(CouponDetails)} exact />\n                <Route path=\"/company/coupons\" component={CompanyRequired(CompanyCouponList)} exact />\n\n                {/* Customer: */}\n                <Route path=\"/customer\" component={CustomerRequired(MyCustomerDetails)} exact />\n                <Route path=\"/customer/coupons/:id\" component={CustomerRequired(CouponDetails)} exact />\n                <Route path=\"/customer/coupons\" component={CustomerRequired(CustomerCouponList)} exact />\n\n                {/* Admin: */}\n                <Route path=\"/companies/update/:id\" component={AdminRequired(UpdateCompany)} exact />\n                <Route path=\"/companies/add\" component={AdminRequired(AddCompany)} exact />\n                <Route path=\"/companies/:id\" component={AdminRequired(CompanyDetails)} exact />\n                <Route path=\"/companies\" component={AdminRequired(CompanyList)} exact />\n\n                <Route path=\"/customers/update/:id\" component={AdminRequired(UpdateCustomer)} exact />\n                <Route path=\"/customers/add\" component={AdminRequired(AddCustomer)} exact />\n                <Route path=\"/customers/:id\" component={AdminRequired(CustomerDetails)} exact />\n                <Route path=\"/customers\" component={AdminRequired(CustomerList)} exact />\n\n                {/* All: */}\n                <Route path=\"/login\" component={Login} exact />\n                <Route path=\"/logout\" component={Logout} exact />\n                <Route path=\"/about\" component={AboutUs} exact />\n                <Route path=\"/contact-us\" component={ContactUs} exact />\n\n                <Redirect from=\"/\" to=\"/home\" exact />\n                <Route component={Page404} /> {/* Must Be Last! */}\n            </Switch>\n        </div>\n    );\n}\n\nexport default Routing;","import { useMediaQuery } from \"@material-ui/core\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport Footer from \"../Footer/Footer\";\nimport Header from \"../Header/Header\";\nimport Menu from \"../Menu/Menu\";\nimport MobileMenu from \"../MobileMenu/MobileMenu\";\nimport Routing from \"../Routing/Routing\";\nimport \"./Layout.css\";\n\nfunction Layout(): JSX.Element {\n    const matches = useMediaQuery('(min-width:500px)');\n    return (\n        <BrowserRouter>\n            <div className=\"Layout\">\n                <header>\n                    <Header />\n                </header>\n                { !matches && <MobileMenu />}\n                { matches && \n                    <aside>\n                        <Menu />\n                    </aside>\n                }\n                <main>\n                    <Routing />\n                </main>\n                <footer>\n                    <Footer />\n                </footer>\n            </div>\n        </BrowserRouter>\n    );\n}\n\nexport default Layout;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport Layout from './Components/LayoutArea/Layout/Layout';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Layout />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}