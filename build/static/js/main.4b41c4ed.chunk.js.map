{"version":3,"sources":["reportWebVitals.ts","Components/LayoutArea/Footer/Footer.tsx","Redux/AuthState.ts","Redux/CompaniesState.ts","Redux/CouponsState.ts","Redux/CustomersState.ts","Redux/Store.ts","Components/AuthArea/AuthMenu/AuthMenu.tsx","Components/LayoutArea/Logo/Logo.tsx","Assets/images/logo.png","Components/LayoutArea/Header/Header.tsx","Models/UserType.ts","Components/LayoutArea/Menu/Menu.tsx","Components/AboutArea/AboutUs/AboutUs.tsx","Services/Notification.ts","Components/AuthArea/AdminRequired/AdminRequired.tsx","Components/AuthArea/CompanyRequired/CompanyRequired.tsx","Components/AuthArea/CustomerRequired/CustomerRequired.tsx","Services/Globals.ts","Components/AuthArea/Login/Login.tsx","Components/AuthArea/Logout/Logout.tsx","Services/jwtAxios.ts","Components/CompaniesArea/AddCompany/AddCompany.tsx","Components/CompaniesArea/CompanyDetails/CompanyDetails.tsx","Components/SharedArea/SimpleDialog/SimpleDialog.tsx","Components/CompaniesArea/CompanyCard/CompanyCard.tsx","Components/CompaniesArea/CompanyList/CompanyList.tsx","Components/CompaniesArea/MyCompanyDetails/MyCompanyDetails.tsx","Components/CompaniesArea/UpdateCompany/UpdateCompany.tsx","Components/ContactUsArea/ContactUs/ContactUs.tsx","Models/CategoryType.ts","Services/Util.ts","Components/CouponsArea/AddCoupon/AddCoupon.tsx","Components/CouponsArea/CouponCard/CouponCard.tsx","Components/CouponsArea/CompanyCouponList/CompanyCouponList.tsx","Components/CouponsArea/CouponDetails/CouponDetails.tsx","Components/CouponsArea/CustomerCouponList/CustomerCouponList.tsx","Components/CouponsArea/UpdateCoupon/UpdateCoupon.tsx","Components/CustomersArea/AddCustomer/AddCustomer.tsx","Components/CustomersArea/CustomerDetails/CustomerDetails.tsx","Components/CustomersArea/CustomerCard/CustomerCard.tsx","Components/CustomersArea/CustomerList/CustomerList.tsx","Components/CustomersArea/MyCustomerDetails/MyCustomerDetails.tsx","Components/CustomersArea/UpdateCustomer/UpdateCustomer.tsx","Components/HomeArea/SiteInfo/SiteInfo.tsx","Components/HomeArea/Home/Home.tsx","Components/SharedArea/Page404/Page404.tsx","Components/LayoutArea/Routing/Routing.tsx","Components/LayoutArea/Layout/Layout.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Footer","AuthActionType","className","AuthState","user","storedUser","JSON","parse","localStorage","getItem","this","loginAction","type","Login","payload","CompaniesActionType","CompaniesState","companies","companyAddedAction","company","CompanyAdded","companyUpdatedAction","CompanyUpdated","CouponsActionType","CouponsState","coupons","couponsDownloadedAction","CouponsDownloaded","couponAddedAction","coupon","CouponAdded","couponUpdatedAction","CouponUpdated","CustomersActionType","CustomersState","customers","customerAddedAction","customer","CustomerAdded","customerUpdatedAction","CustomerUpdated","reducers","combineReducers","authState","currentState","action","newState","setItem","stringify","Logout","removeItem","companiesState","CompaniesDownloaded","push","map","c","id","CompanyDeleted","slice","idxDel","findIndex","splice","customersState","CustomersDownloaded","CustomerDeleted","couponsState","CouponDeleted","store","createStore","AuthMenu","props","unsubscribe","state","getState","subscribe","setState","name","to","Component","Logo","src","Header","UserType","Menu","unsubscribeMenu","exact","userType","ADMIN","COMPANY","CUSTOMER","AboutUs","Typography","variant","Face","href","target","rel","title","GitHub","LinkedIn","notify","notification","Notyf","duration","position","x","y","types","background","dismissible","message","success","err","extractMessage","error","response","data","status","Array","isArray","AdminRequired","ComposedComponent","unsubscribeAdminAuthenticated","history","CompanyRequired","unsubscribeCompanyAuthenticated","CustomerRequired","unsubscribeCustomerAuthenticated","Globals","dialogTitles","deleteItem","globals","serverName","uriHead","uriHeadApi","urls","admin","details","couponsByCategory","couponsByMaxPrice","purchaseCoupon","couponsCanPurchase","couponsAboutToExpire","images","login","useHistory","useForm","mode","register","handleSubmit","formState","errors","isValid","useState","showPassword","setShowPassword","setUserType","credentials","a","axios","post","dispatch","LockOpen","onSubmit","TextField","label","required","value","pattern","email","helperText","minLength","InputProps","endAdornment","InputAdornment","IconButton","aria-label","onClick","edge","Visibility","VisibilityOff","password","select","defaultValue","onChange","event","SelectProps","native","Object","values","val","ButtonGroup","Button","startIcon","Send","disabled","useEffect","jwtAxios","create","interceptors","request","use","headers","token","AddCompany","AddBox","ClearAll","CompanyDetails","isAlive","match","params","find","get","useStyles","makeStyles","theme","dialogWrapper","padding","spacing","secondary","color","border","backgroundColor","primary","SimpleDialog","open","selectedValue","onClose","classes","handleButtonClick","Dialog","paper","DialogTitle","component","DialogActions","root","DeleteOutlined","CancelOutlined","CompanyCard","setOpen","setSelectedValue","handleDelete","delete","Edit","Delete","CompanyList","unsubscribeCompanyList","length","MyCompanyDetails","setCompany","setIsAlive","getCompany","UpdateCompany","setValue","useParams","companyInitial","handleChange","isCompanyDifferent","put","companyBefore","isDiff","entries","forEach","afterEntry","beforeEntry","bEntry","toString","inputProps","Checkbox","filter","ContactUs","CategoryType","MailOutline","multiline","rows","FormControlLabel","control","Cancel","util","text","charAt","toLocaleUpperCase","concat","substring","toLocaleLowerCase","date","split","reverse","join","currDate","Date","getMonth","getDate","getFullYear","createStyles","container","display","flexWrap","textField","maxWidth","input","AddCoupon","getValues","category","setCategory","cFormData","FormData","append","description","startDate","endDate","amount","price","imageFile","item","rowsMax","InputLabelProps","shrink","step","min","startadornment","capitalize","validate","cannotBeInThePast","getEndOfDay","now","compareToEndDate","compareToStartDate","FormControl","OutlinedInput","accept","FormHelperText","CouponCard","handlePurchase","detailsURL","image","CardMedia","showPurchase","ShoppingCart","CompanyCouponList","unsubscribeCompanyCouponList","setFilterBy","filterBy","setFilterSelectedValue","filterSelectedValue","handleChangeFilter","toLowerCase","handleChangeMaxPrice","filterVal","includes","getCouponsForDisplay","e","CouponDetails","url","dStart","getDateDisplay","dEnd","alt","CustomerCouponList","unsubscribeCustomerCouponList","setListSelectedValue","listSelected","handleChangeList","getCouponList","UpdateCoupon","couponId","couponInitial","isCouponDifferent","myFormData","couponBefore","FileList","AddCustomer","firstName","lastName","CustomerDetails","CustomerCard","CustomerList","unsubscribeCustomerList","MyCustomerDetails","setCustomer","getCustomer","UpdateCustomer","customerInitial","isCustomerDifferent","customerBefore","SiteInfo","Home","Page404","width","height","allow","Routing","path","from","Layout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4b41c4ed.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"./Footer.css\";\n\nfunction Footer(): JSX.Element {\n    return (\n        <div className=\"Footer\">\n\t\t\t<p>All Rights Reserved &copy; Mina Shtraicher</p>\n        </div>\n    );\n}\n\nexport default Footer;","import UserModel from \"../Models/UserModel\";\r\n\r\n// Auth state:\r\nexport class AuthState {\r\n    public user: UserModel = null;\r\n    public constructor() {\r\n        const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n        \r\n        if(storedUser) {\r\n            this.user = storedUser;\r\n        }\r\n    }\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Auth Action Types:\r\nexport enum AuthActionType {\r\n    Login = \"Login\",\r\n    Logout = \"Logout\"\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Auth Action:\r\nexport interface AuthAction {\r\n    type: AuthActionType,\r\n    payload?: any; // optional - payload is NOT needed for Logout...\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Auth Action Creators:\r\nexport function loginAction(user: UserModel): AuthAction {\r\n    return { type: AuthActionType.Login, payload: user };\r\n}\r\n\r\nexport function logoutAction(): AuthAction {\r\n    return { type: AuthActionType.Logout };\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Auth Reducer:\r\nexport function authReducer(currentState: AuthState = new AuthState(), action: AuthAction): AuthState {\r\n    const newState = {...currentState};\r\n\r\n    switch (action.type) {\r\n        case AuthActionType.Login: // payload is the logged in user sent from the server\r\n            newState.user = action.payload;\r\n            localStorage.setItem(\"user\", JSON.stringify(newState.user)); // save in localStorage\r\n            break;\r\n        case AuthActionType.Logout: // no payload required!        \r\n            newState.user = null;\r\n            localStorage.removeItem(\"user\"); // remove from localStorage\r\n            break;\r\n    }\r\n\r\n    return newState;\r\n}","import CompanyModel from \"../Models/CompanyModel\";\r\n\r\n// Companies state:\r\nexport class CompaniesState {\r\n    companies: CompanyModel[] = [];\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Companies Action Types:\r\nexport enum CompaniesActionType {\r\n    CompaniesDownloaded = \"CompaniesDownloaded\",\r\n    CompanyAdded = \"CompanyAdded\",\r\n    CompanyUpdated = \"CompanyUpdated\",\r\n    CompanyDeleted = \"CompanyDeleted\"\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Companies Action:\r\nexport interface CompaniesAction {\r\n    type: CompaniesActionType,\r\n    payload?: any;\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Companies Action Creators:\r\nexport function companiesDownloadedAction(companies: CompanyModel[]): CompaniesAction {\r\n    return { type: CompaniesActionType.CompaniesDownloaded, payload: companies };\r\n}\r\n\r\nexport function companyAddedAction(company: CompanyModel): CompaniesAction {\r\n    return { type: CompaniesActionType.CompanyAdded, payload: company };\r\n}\r\n\r\nexport function companyUpdatedAction(company: CompanyModel): CompaniesAction {\r\n    return { type: CompaniesActionType.CompanyUpdated, payload: company };\r\n}\r\n\r\nexport function companyDeletedAction(id: number): CompaniesAction {\r\n    return { type: CompaniesActionType.CompanyDeleted, payload: id };\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Companies Reducer:\r\nexport function companiesReducer(currentState: CompaniesState = new CompaniesState(), action: CompaniesAction): CompaniesState {\r\n    const newState = {...currentState};\r\n\r\n    switch (action.type) {\r\n        case CompaniesActionType.CompaniesDownloaded:\r\n            newState.companies = action.payload;\r\n            break;\r\n        case CompaniesActionType.CompanyAdded:\r\n            newState.companies.push(action.payload);\r\n            break;\r\n        case CompaniesActionType.CompanyUpdated:\r\n            newState.companies.map(c => {\r\n                if(c.id !== action.payload.id) {\r\n                    // if NOT current updated item - keep it as-is\r\n                    return c;\r\n                }\r\n                // Otherwise - return the updated item\r\n                return {\r\n                    ...c,\r\n                    ...action.payload\r\n                }\r\n            });\r\n            break;\r\n        case CompaniesActionType.CompanyDeleted:\r\n            let companies = newState.companies.slice();\r\n            const idxDel = newState.companies.findIndex(c => c.id === action.payload.id);\r\n            companies.splice(idxDel,1);\r\n            newState.companies = companies;\r\n            break;\r\n    }\r\n    return newState;\r\n}","import CouponModel from \"../Models/CouponModel\";\r\n\r\n// Coupons state:\r\nexport class CouponsState {\r\n    coupons: CouponModel[] = [];\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Coupons Action Types:\r\nexport enum CouponsActionType {\r\n    CouponsDownloaded = \"CouponsDownloaded\",\r\n    CouponAdded = \"CouponAdded\",\r\n    CouponUpdated = \"CouponUpdated\",\r\n    CouponDeleted = \"CouponDeleted\"\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Coupons Action:\r\nexport interface CouponsAction {\r\n    type: CouponsActionType,\r\n    payload?: any;\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Coupons Action Creators:\r\nexport function couponsDownloadedAction(coupons: CouponModel[]): CouponsAction {\r\n    return { type: CouponsActionType.CouponsDownloaded, payload: coupons };\r\n}\r\n\r\nexport function couponAddedAction(coupon: CouponModel): CouponsAction {\r\n    return { type: CouponsActionType.CouponAdded, payload: coupon };\r\n}\r\n\r\nexport function couponUpdatedAction(coupon: CouponModel): CouponsAction {\r\n    return { type: CouponsActionType.CouponUpdated, payload: coupon };\r\n}\r\n\r\nexport function couponDeletedAction(id: number): CouponsAction {\r\n    return { type: CouponsActionType.CouponDeleted, payload: id };\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Coupons Reducer:\r\nexport function couponsReducer(currentState: CouponsState = new CouponsState(), action: CouponsAction): CouponsState {\r\n    const newState = {...currentState};\r\n\r\n    switch (action.type) {\r\n        case CouponsActionType.CouponsDownloaded:\r\n            newState.coupons = action.payload;\r\n            break;\r\n        case CouponsActionType.CouponAdded:\r\n            newState.coupons.push(action.payload);\r\n            break;\r\n        case CouponsActionType.CouponUpdated:\r\n            newState.coupons.map(c => {\r\n                if(c.id !== action.payload.id) {\r\n                    // if NOT current updated item - keep it as-is\r\n                    return c;\r\n                }\r\n                // Otherwise - return the updated item\r\n                return {\r\n                    ...c,\r\n                    ...action.payload\r\n                }\r\n            });\r\n            break;\r\n        case CouponsActionType.CouponDeleted:            \r\n            let coupons = newState.coupons.slice();\r\n            const idxDel = newState.coupons.findIndex(c => c.id === action.payload.id);\r\n            coupons.splice(idxDel,1);\r\n            newState.coupons = coupons;\r\n            break;\r\n    }\r\n    return newState;\r\n}","import CustomerModel from \"../Models/CustomerModel\";\r\n\r\n// Customers state:\r\nexport class CustomersState {\r\n    customers: CustomerModel[] = [];\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Customers Action Types:\r\nexport enum CustomersActionType {\r\n    CustomersDownloaded = \"CustomersDownloaded\",\r\n    CustomerAdded = \"CustomerAdded\",\r\n    CustomerUpdated = \"CustomerUpdated\",\r\n    CustomerDeleted = \"CustomerDeleted\"\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Customers Action:\r\nexport interface CustomersAction {\r\n    type: CustomersActionType,\r\n    payload?: any;\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Customers Action Creators:\r\nexport function customersDownloadedAction(customers: CustomerModel[]): CustomersAction {\r\n    return { type: CustomersActionType.CustomersDownloaded, payload: customers };\r\n}\r\n\r\nexport function customerAddedAction(customer: CustomerModel): CustomersAction {\r\n    return { type: CustomersActionType.CustomerAdded, payload: customer };\r\n}\r\n\r\nexport function customerUpdatedAction(customer: CustomerModel): CustomersAction {\r\n    return { type: CustomersActionType.CustomerUpdated, payload: customer };\r\n}\r\n\r\nexport function customerDeletedAction(id: number): CustomersAction {\r\n    return { type: CustomersActionType.CustomerDeleted, payload: id };\r\n}\r\n\r\n// -------------------------------------------\r\n\r\n// Customers Reducer:\r\nexport function customersReducer(currentState: CustomersState = new CustomersState(), action: CustomersAction): CustomersState {\r\n    const newState = {...currentState};\r\n\r\n    switch (action.type) {\r\n        case CustomersActionType.CustomersDownloaded:\r\n            newState.customers = action.payload;\r\n            break;\r\n        case CustomersActionType.CustomerAdded:\r\n            newState.customers.push(action.payload);\r\n            break;\r\n        case CustomersActionType.CustomerUpdated:\r\n            newState.customers.map(c => {\r\n                if(c.id !== action.payload.id) {\r\n                    // if NOT current updated item - keep it as-is\r\n                    return c;\r\n                }\r\n                // Otherwise - return the updated item\r\n                return {\r\n                    ...c,\r\n                    ...action.payload\r\n                }\r\n            });\r\n            break;\r\n        case CustomersActionType.CustomerDeleted:\r\n            let customers = newState.customers.slice();\r\n            const idxDel = newState.customers.findIndex(c => c.id === action.payload.id);\r\n            customers.splice(idxDel,1);\r\n            newState.customers = customers;\r\n            break;\r\n    }\r\n    return newState;\r\n}","import { combineReducers, createStore } from \"redux\";\r\nimport { authReducer } from \"./AuthState\";\r\nimport { companiesReducer } from './CompaniesState';\r\nimport { couponsReducer } from \"./CouponsState\";\r\nimport { customersReducer } from './CustomersState';\r\n\r\n// Multiple Reducers:\r\nconst reducers = combineReducers({ authState: authReducer, companiesState: companiesReducer, customersState: customersReducer, couponsState: couponsReducer })\r\nconst store = createStore(reducers);\r\n\r\nexport default store;","import { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport store from \"../../../Redux/Store\";\nimport \"./AuthMenu.css\";\n\ninterface AuthMenuState {\n\tuser: UserModel;\n}\n\nclass AuthMenu extends Component<{}, AuthMenuState> {\n\n    private unsubscribe: Unsubscribe;\n\n    public constructor(props: {}) {\n        super(props);\n        this.state = { user: store.getState().authState.user };\n    }\n\n    public componentDidMount(): void {\n        this.unsubscribe = store.subscribe(() => {\n            this.setState({ user: store.getState().authState.user })\n        });\n    }\n\n    public render(): JSX.Element {\n        const user = this.state.user;\n        return (\n            <div className=\"AuthMenu\">\n\t\t\t\t{\n                    this.state.user && <>\n                        <span>Hello {user.name}</span>\n                        <span> | </span>\n                        <NavLink to=\"/logout\">Logout</NavLink>\n                    </>\n                }\n                {\n                    !this.state.user && <>\n                        <span>Hello Guest</span>\n                        <span> | </span>\n                        <NavLink to=\"/login\">Login</NavLink>\n                    </>\n                }\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.unsubscribe();\n    }\n}\n\nexport default AuthMenu;","import \"./Logo.css\";\nimport logoImage from \"../../../Assets/images/logo.png\";\n\nfunction Logo(): JSX.Element {\n    return (\n        <div className=\"Logo\">\n            <img src={logoImage} />\n        </div>\n    );\n}\n\nexport default Logo;\n","export default \"data:image/png;base64,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\"","import AuthMenu from \"../../AuthArea/AuthMenu/AuthMenu\";\nimport Logo from \"../Logo/Logo\";\nimport \"./Header.css\";\n\nfunction Header(): JSX.Element {\n    return (\n        <div className=\"Header\">\n\t\t\t<AuthMenu />\n            <Logo />\n            {/* Logo by HTML + CSS */}\n            {/* <h1><span>C</span>oupon<span>system</span></h1> */}\n        </div>\n    );\n}\n\nexport default Header;","export enum UserType {\r\n    ADMIN = \"ADMIN\",\r\n    COMPANY = \"COMPANY\",\r\n    CUSTOMER = \"CUSTOMER\"\r\n}","import { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport \"./Menu.css\";\n\ninterface MenuState {\n    user: UserModel;\n}\n\nclass Menu extends Component<{}, MenuState> {\n\n    private unsubscribeMenu: Unsubscribe;\n\n    public constructor(props: {}) {\n        super(props);\n        this.state = { user: store.getState().authState.user };\n    }\n\n    public componentDidMount(): void {\n        this.unsubscribeMenu = store.subscribe(() => {\n            this.setState({ user: store.getState().authState.user });\n        });\n    }\n\n    public render(): JSX.Element {\n        const user = this.state.user;\n        return (\n            <div className=\"Menu\">\n                <nav>\n                    <NavLink to=\"/home\" exact>Home</NavLink>\n                    {user?.userType === UserType.ADMIN &&\n                        <>\n                            <NavLink to=\"/companies\" exact>Companies</NavLink>\n                            <NavLink to=\"/customers\" exact>Customers</NavLink>\n                        </>\n                    }\n                    {user?.userType === UserType.COMPANY &&\n                        <>\n                            <NavLink to=\"/company\" exact>My Details</NavLink>\n                            <NavLink to=\"/company/coupons\" exact>My Coupons</NavLink>\n                        </>\n                    }\n                    {user?.userType === UserType.CUSTOMER &&\n                        <>\n                            <NavLink to=\"/customer\" exact>My Details</NavLink>\n                            <NavLink to=\"/customer/coupons\" exact>Coupons</NavLink>\n                        </>\n                    }\n                    <NavLink to=\"/about\" exact>About</NavLink>\n                    <NavLink to=\"/contact-us\" exact>Contact Us</NavLink>\n                </nav>\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.unsubscribeMenu();\n    }\n}\n\nexport default Menu;","import { Typography } from \"@material-ui/core\";\nimport { Face, GitHub, LinkedIn } from \"@material-ui/icons\";\nimport \"./AboutUs.css\";\n\nfunction AboutUs(): JSX.Element {\n    return (\n        <div className=\"AboutUs\">\n            <Typography variant=\"h4\" className=\"Headline\"> <Face /> About Me</Typography>\n\n            <br />\n            <div className=\"info\">\n                <Typography variant=\"body2\">\n                    My name is Mina Shtraicher.<br />\n                    You can find me here:\n                </Typography>\n                <Typography variant=\"h4\">\n                    <a href=\"https://github.com/minas8\" target=\"_blank\" rel=\"noreferrer\" title=\"My GitHub\">\n                        <GitHub />\n                    </a>\n                    <a href=\"https://www.linkedin.com/in/mina-shtraicher\" target=\"_blank\" rel=\"noreferrer\" title=\"My LinkedIn\">\n                        <LinkedIn />\n                    </a>\n                </Typography>\n\n                <Typography variant=\"overline\" className=\"TextField\">Objective</Typography>\n                <Typography variant=\"body2\">\n                    I have about 10 years of experience as a software engineer (post career change), specializing in C# and familiar with both\n                    client &amp; server side.<br /> I took part in many projects, which required working with various interfaces &amp; team\n                    members.<br /> On March 2020 I was put on a long LOA and decided to invest my time in expanding my technical\n                    skills and focus on new professional areas.<br />\n                    These days Im actively searching for my next position as a Java Full Stack / Microsoft.Net developer.\n                </Typography>\n                <br />\n\n                <Typography variant=\"overline\" className=\"TextField\">Professional Experience</Typography>\n                <br />\n                <Typography variant=\"caption\" className=\"TextField\">2011  2020 Software developer, One1 (Advantech)</Typography>\n                <ul>\n                    <li>Develop &amp; implement ClickSoftware solutions based on clients requirements</li>\n                    <li>Build Web Services / WCF solutions, using .NET technology &amp; developing in C#</li>\n                    <li>Implementing MSP (My Single Point) in JavaScript</li>\n                    <li>Using diverse technologies on a daily basis: C#, WinForms, MSSQL, Web Services, XML, Javascript, jQuery, HTML,CSS</li>\n                    <li>Response on bids</li>\n                    <li>Working on diverse projects which required much self learning, for example the Services of Google maps api and implementing stand-alone development for clients</li>\n                    <li>Working in a team of 3 while collaborating, knowledge sharing &amp; training new employees</li>\n                    <li>Selected for outstanding employee  2017</li>\n                </ul>\n\n                <Typography variant=\"caption\" className=\"TextField\">2011 Software developer, Find Me An Angel (FMAA) inc</Typography>\n                <ul>\n                    <li>Developing a complex social website</li>\n                    <li>Building a web product, while using ASP.NET Web Forms</li>\n                    <li>Developing in .Net, C# and working with MSSQL database</li>\n                </ul>\n            </div><br /><br />\n        </div>\n    );\n}\n\nexport default AboutUs;\n","import { Notyf } from \"notyf\";\r\n\r\nclass Notify {\r\n\r\n    private notification = new Notyf({ \r\n        duration: 4000, \r\n        position: { x: \"right\", y: \"bottom\" },\r\n        types: [\r\n            {\r\n              type: 'success',\r\n              background: '#8d8d8d',\r\n              dismissible: true\r\n            },\r\n            {\r\n              type: 'error',\r\n              background: '#ff4c2c',\r\n              dismissible: true\r\n            }\r\n          ]\r\n    })\r\n\r\n    public success(message: string) {\r\n        this.notification.success(message);\r\n    }\r\n    \r\n    public error(err: any) {\r\n        const message: string = this.extractMessage(err);\r\n        this.notification.error(message);\r\n    }\r\n\r\n    private extractMessage(err: any): string {\r\n\r\n        if(typeof err === \"string\") {\r\n            return err;\r\n        }\r\n        \r\n        if(typeof err?.response?.data === \"string\") {\r\n            return err.response.data;\r\n        }\r\n\r\n        if (typeof err?.response?.data?.message === \"string\") {\r\n            if(err.response.status === 401) {\r\n                return \"You are not authorized, you need to login again\";\r\n            }\r\n            return err.response.data;\r\n        }\r\n\r\n        if(Array.isArray(err?.response?.data)) {\r\n            return err.response.data[0];\r\n        }\r\n        \r\n        if(typeof err?.message === \"string\") {\r\n            return err.message;\r\n        }\r\n\r\n        return \"An error occurred, please try again.\";\r\n    }\r\n}\r\n\r\nconst notify = new Notify();\r\n\r\nexport default notify;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport notify from \"../../../Services/Notification\";\n\n// This function receives the Component that only admin user should access\nfunction AdminRequired(ComposedComponent: any) {\n\n    interface AdminAuthenticatedState {\n        user: UserModel;\n    }\n\n    interface AdminAuthenticatedProps {\n        history: History;\n    }\n\n    class AdminAuthenticated extends Component<AdminAuthenticatedProps, AdminAuthenticatedState> {\n\n        private unsubscribeAdminAuthenticated: Unsubscribe;\n\n        public constructor(props: AdminAuthenticatedProps) {\n            super(props);\n            this.state = { user: store.getState().authState.user };\n        }\n\n        componentWillMount() {\n            this.unsubscribeAdminAuthenticated = store.subscribe(() => {\n                this.setState({ user: store.getState().authState.user });\n            });\n\n            if (!this.state.user || this.state.user.userType !== UserType.ADMIN) {\n                notify.error(\"You are not authorized to access this action!\");\n                this.props.history.push(\"/login\");\n            }\n        }\n\n        render() {\n            return <ComposedComponent {...this.props} />;\n        }\n\n        public componentWillUnmount(): void {\n            this.unsubscribeAdminAuthenticated();\n        }\n    }\n\n    // Return the new Component that requires authorization\n    return AdminAuthenticated;\n}\n\nexport default AdminRequired;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport notify from \"../../../Services/Notification\";\n\n// This function receives the Component that only company user should access\nfunction CompanyRequired(ComposedComponent: any) {\n\n    interface CompanyAuthenticatedState {\n        user: UserModel;\n    }\n\n    interface CompanyAuthenticatedProps {\n        history: History;\n    }\n\n    class CompanyAuthenticated extends Component<CompanyAuthenticatedProps, CompanyAuthenticatedState> {\n\n        private unsubscribeCompanyAuthenticated: Unsubscribe;\n\n        public constructor(props: CompanyAuthenticatedProps) {\n            super(props);\n            this.state = { user: store.getState().authState.user };\n        }\n\n        componentWillMount() {\n            this.unsubscribeCompanyAuthenticated = store.subscribe(() => {\n                this.setState({ user: store.getState().authState.user });\n            });\n\n            if (!this.state.user || this.state.user.userType !== UserType.COMPANY) {\n                notify.error(\"You are not authorized to access this action!\");\n                this.props.history.push(\"/login\");\n            }\n        }\n\n        render() {\n            return <ComposedComponent {...this.props} />;\n        }\n\n        public componentWillUnmount(): void {\n            this.unsubscribeCompanyAuthenticated();\n        }\n    }\n\n    // Return the new Component that requires authorization\n    return CompanyAuthenticated;\n}\n\nexport default CompanyRequired;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport notify from \"../../../Services/Notification\";\n\n// This function receives the Component that only customer user should access\nfunction CustomerRequired(ComposedComponent: any) {\n\n    interface CustomerAuthenticatedState {\n        user: UserModel;\n    }\n\n    interface CustomerAuthenticatedProps {\n        history: History;\n    }\n\n    class CustomerAuthenticated extends Component<CustomerAuthenticatedProps, CustomerAuthenticatedState> {\n\n        private unsubscribeCustomerAuthenticated: Unsubscribe;\n\n        public constructor(props: CustomerAuthenticatedProps) {\n            super(props);\n            this.state = { user: store.getState().authState.user };\n        }\n\n        componentWillMount() {\n            this.unsubscribeCustomerAuthenticated = store.subscribe(() => {\n                this.setState({ user: store.getState().authState.user });\n            });\n\n            if (!this.state.user || this.state.user.userType !== UserType.CUSTOMER) {\n                notify.error(\"You are not authorized to access this action!\");\n                this.props.history.push(\"/login\");\n            }\n        }\n\n        render() {\n            return <ComposedComponent {...this.props} />;\n        }\n\n        public componentWillUnmount(): void {\n            this.unsubscribeCustomerAuthenticated();\n        }\n    }\n\n    // Return the new Component that requires authorization\n    return CustomerAuthenticated;\n}\n\nexport default CustomerRequired;","// Global settings\r\nclass Globals {\r\n    public dialogTitles = {\r\n        deleteItem: \"Are you sure you want to delete\"\r\n    };\r\n}\r\n\r\n// DEV Settings\r\nclass DevelopmentGlobals extends Globals {\r\n    private serverName = \"localhost\";\r\n    private serverPort = \"8080\";\r\n    private uriHead = `http://${this.serverName}:${this.serverPort}`;\r\n    private uriHeadApi = `http://${this.serverName}:${this.serverPort}/api`;\r\n    public urls = {\r\n        admin: {\r\n            companies: `${this.uriHeadApi}/u-admin/companies/`,\r\n            company: `${this.uriHeadApi}/u-admin/company/`,\r\n            customers: `${this.uriHeadApi}/u-admin/customers/`,\r\n            customer: `${this.uriHeadApi}/u-admin/customer/`\r\n        },\r\n        company: {\r\n            details: `${this.uriHeadApi}/u-company`,\r\n            coupon: `${this.uriHeadApi}/u-company/coupon/`,\r\n            coupons: `${this.uriHeadApi}/u-company/coupons/`,\r\n            couponsByCategory: `${this.uriHeadApi}/u-company/coupons-by-category/`,\r\n            couponsByMaxPrice: `${this.uriHeadApi}/u-company/coupons-up-to-price/`\r\n        },\r\n        customer: {\r\n            details: `${this.uriHeadApi}/u-customer`,\r\n            coupon: `${this.uriHeadApi}/u-customer/coupon/`,\r\n            purchaseCoupon: `${this.uriHeadApi}/u-customer/coupon/`,\r\n            coupons: `${this.uriHeadApi}/u-customer/coupons/`,\r\n            couponsByCategory: `${this.uriHeadApi}/u-customer/coupons-by-category/`,\r\n            couponsByMaxPrice: `${this.uriHeadApi}/u-customer/coupons-up-to-price/`,\r\n            couponsCanPurchase: `${this.uriHeadApi}/u-customer/coupons-can-purchase/`,\r\n            couponsAboutToExpire: `${this.uriHeadApi}/u-customer/coupons-about-to-expire/`\r\n        },\r\n        images: `${this.uriHead}/images/`,\r\n        login: `${this.uriHead}/auth/login`\r\n    }\r\n}\r\n\r\n// Prod Settings\r\nclass ProductionGlobals extends Globals {\r\n    private serverName = \"https://coupons3-server.herokuapp.com\";\r\n    private uriHead = `${this.serverName}`;\r\n    private uriHeadApi = `${this.serverName}/api`;\r\n    public urls = {\r\n        admin: {\r\n            companies: `${this.uriHeadApi}/u-admin/companies/`,\r\n            company: `${this.uriHeadApi}/u-admin/company/`,\r\n            customers: `${this.uriHeadApi}/u-admin/customers/`,\r\n            customer: `${this.uriHeadApi}/u-admin/customer/`\r\n        },\r\n        company: {\r\n            details: `${this.uriHeadApi}/u-company`,\r\n            coupon: `${this.uriHeadApi}/u-company/coupon/`,\r\n            coupons: `${this.uriHeadApi}/u-company/coupons/`,\r\n            couponsByCategory: `${this.uriHeadApi}/u-company/coupons-by-category/`,\r\n            couponsByMaxPrice: `${this.uriHeadApi}/u-company/coupons-up-to-price/`\r\n        },\r\n        customer: {\r\n            details: `${this.uriHeadApi}/u-customer`,\r\n            coupon: `${this.uriHeadApi}/u-customer/coupon/`,\r\n            purchaseCoupon: `${this.uriHeadApi}/u-customer/coupon/`,\r\n            coupons: `${this.uriHeadApi}/u-customer/coupons/`,\r\n            couponsByCategory: `${this.uriHeadApi}/u-customer/coupons-by-category/`,\r\n            couponsByMaxPrice: `${this.uriHeadApi}/u-customer/coupons-up-to-price/`,\r\n            couponsCanPurchase: `${this.uriHeadApi}/u-customer/coupons-can-purchase/`,\r\n            couponsAboutToExpire: `${this.uriHeadApi}/u-customer/coupons-about-to-expire/`\r\n        },\r\n        images: `${this.uriHead}/images/`,\r\n        login: `${this.uriHead}/auth/login`\r\n    }\r\n}\r\n\r\nconst globals = process.env.NODE_ENV === \"development\" ? new DevelopmentGlobals() : new ProductionGlobals();\r\n\r\nexport default globals;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { LockOpen, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { ChangeEvent, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router\";\nimport CredentialsModel from \"../../../Models/CredentialsModel\";\nimport UserModel from \"../../../Models/UserModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport { loginAction } from \"../../../Redux/AuthState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport notify from \"../../../Services/Notification\";\nimport \"./Login.css\";\n\nfunction Login(): JSX.Element {\n\n    const history = useHistory();\n    const { register, handleSubmit, formState: { errors, isValid } } = useForm<CredentialsModel>({\n        mode: \"all\"\n    });\n    const [showPassword, setShowPassword] = useState(false);\n    const [userType, setUserType] = useState(\"ChooseOne\");\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setUserType(event.target.value);\n    };\n\n    const handleClickShowPassword = () => {\n        setShowPassword(!showPassword);\n    };\n\n    async function send(credentials: CredentialsModel) {\n        try {\n            const response = await axios.post<UserModel>(globals.urls.login, credentials);\n            store.dispatch(loginAction(response.data));\n            notify.success(\"You have been successfully logged in!\")\n            history.push(\"/home\");\n        } catch (err) {\n            notify.error(err);\n        }\n    }\n\n    return (\n        <div className=\"Login\">\n            <Typography variant=\"h4\" className=\"Headline\"> <LockOpen /> Login</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    type=\"email\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    type={showPassword ? 'text' : 'password'}\n                    InputProps={{\n                        endAdornment: <InputAdornment position=\"end\">\n                            <IconButton\n                                aria-label=\"toggle password visibility\"\n                                onClick={handleClickShowPassword} edge=\"end\">\n                                {showPassword ? <Visibility /> : <VisibilityOff />}\n                            </IconButton>\n                        </InputAdornment>,\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <TextField name=\"userType\" select className=\"mui-input\"\n                    label=\"Please select your user type\" variant=\"outlined\"\n                    defaultValue={userType}\n                    onChange={handleChange}\n                    SelectProps={{ native: true }}\n                    {...register('userType', {\n                        required: { value: true, message: \"User type is required.\" },\n                        pattern: { value: /^((?!ChooseOne).)*$/, message: \"Choose one of the options other than the first one.\" }\n                    })}\n                    error={!!errors.userType}\n                    helperText={errors.userType?.message}\n                >\n                    <option value=\"ChooseOne\">Choose</option>\n                    {Object.values(UserType).map(val =>\n                        <option key={val} value={val}>{val}</option>\n                    )}\n                </TextField><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"login\" startIcon={<Send />}\n                        type=\"submit\" disabled={!isValid}>Login</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default Login;","import { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { logoutAction } from \"../../../Redux/AuthState\";\nimport store from \"../../../Redux/Store\";\nimport notify from \"../../../Services/Notification\";\n\nfunction Logout(): JSX.Element {\n\n    const history = useHistory();\n    const clearStore = () => {\n        store.getState().companiesState.companies = [];\n        store.getState().customersState.customers = [];\n        store.getState().couponsState.coupons = [];\n    }\n\n    useEffect(() => {\n        store.dispatch(logoutAction());\n        clearStore();\n        notify.success(\"You are now logged out.\");\n        history.push(\"/home\");\n    });\n\n    return null;\n}\n\nexport default Logout;\n\n","import axios from \"axios\";\r\nimport store from \"../Redux/Store\";\r\n\r\nconst jwtAxios = axios.create();\r\n\r\n// Request interceptor\r\njwtAxios.interceptors.request.use(request => {\r\n    request.headers = {\r\n        \"token\": store.getState().authState.user?.token\r\n    }\r\n    \r\n    return request;\r\n});\r\n\r\nexport default jwtAxios;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { AddBox, ClearAll, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport { companyAddedAction } from \"../../../Redux/CompaniesState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./AddCompany.css\";\n\nfunction AddCompany(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors } } = useForm<CompanyModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const [showPassword, setShowPassword] = useState(false);\n\n    const handleClickShowPassword = () => {\n        setShowPassword(!showPassword);\n    };\n\n    async function send(company: CompanyModel) {\n        try {\n            const response = await jwtAxios.post<CompanyModel>(globals.urls.admin.company, company);            \n            store.dispatch(companyAddedAction(response.data));\n            notify.success(\"Company has been added!\");\n            history.push(\"/companies\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"AddCompany\">\n            <Typography variant=\"h4\" className=\"Headline\"> <AddBox /> Add Company</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <TextField label=\"name\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"name\", {\n                        required: { value: true, message: \"Missing first name.\" },\n                        minLength: { value: 3, message: \"First name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric & underscore characters and space.\" }\n                    })}\n                    error={!!errors.name}\n                    helperText={errors.name?.message}\n                /><br /><br />\n\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    type=\"email\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" name=\"password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    type={showPassword ? 'text' : 'password'}\n                    InputProps={{\n                        endAdornment:\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword} edge=\"end\">\n                                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>,\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Add</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default AddCompany;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./CompanyDetails.css\";\n\ninterface RouteParam {\n    id: string;\n}\n\ninterface CompanyDetailsProps extends RouteComponentProps<RouteParam> {\n    history: History;\n}\n\ninterface CompanyDetailsState {\n    company: CompanyModel;\n}\n\nclass CompanyDetails extends Component<CompanyDetailsProps, CompanyDetailsState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n\n    public constructor(props: CompanyDetailsProps) {\n        super(props);\n        this.state = { company: null };\n    }\n\n    public async componentDidMount() {\n        try {\n            const id = +this.props.match.params.id;\n            let company = store.getState().companiesState.companies.find(c => c.id === id);\n            if (company) {\n                this.setState({ company });\n            } else if (id > 0) {\n                const response = await jwtAxios.get<CompanyModel>(`${globals.urls.admin.company}/${id}`);\n                if (!this.isAlive) return;\n\n                company = response.data;\n                notify.success(\"Company details were received!\");\n                this.setState({ company });\n            }\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        return (\n            <div className=\"CompanyDetails\">\n                {this.state.company &&\n                    <>\n                        <h2>Company Details</h2>\n                        <h3>Name: {this.state.company.name}</h3>\n                        <h4>Email: {this.state.company.email}</h4>\n                        <h4>Password: {this.state.company.password}</h4>\n                        <br /><br />\n                    </>\n                }\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n    }\n}\n\nexport default CompanyDetails;","import { Button, Dialog, DialogActions, DialogTitle, makeStyles, Typography } from \"@material-ui/core\";\nimport { CancelOutlined, DeleteOutlined } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n    dialogWrapper: {\n        padding: theme.spacing(2)\n    },\n    secondary: {\n        color: '#1a1a1a',\n        border: '2px solid #1a1a1a',\n        backgroundColor: '#dbdbdb',\n        '&:hover': {\n            color: '#dbdbdb',\n            backgroundColor: '#1a1a1a'\n        }\n    },\n    primary: {\n        color: '#e04226',\n        border: '2px solid #e04226',\n        backgroundColor: '#ffede9',\n        '&:hover': { \n            color: '#ffede9',\n            backgroundColor: '#e04226' \n        }\n    }\n}));\n\ninterface SimpleDialogProps {\n    open: boolean;\n\tselectedValue: string;\n    onClose: (value: string) => void;\n    title: string;\n}\n\nfunction SimpleDialog(props: SimpleDialogProps): JSX.Element {\n\n    const {open, selectedValue, onClose, title} = props;\n    const classes = useStyles();\n\n    const handleClose = () => {\n        onClose(selectedValue);\n    };\n\n    const handleButtonClick = (value: string) => {\n        onClose(value);\n    };\n\n    return (\n        <Dialog open={open} onClose={handleClose} classes={{ paper: classes.dialogWrapper }}>\n            <DialogTitle>\n                <Typography variant=\"h6\" component=\"div\">\n                    {title}\n                </Typography>\n            </DialogTitle>\n            <DialogActions>\n                <Button classes={{ root: classes.primary }}\n                    startIcon={<DeleteOutlined />} \n                    onClick={() => handleButtonClick(\"delete\")}>\n                        Delete\n                </Button>\n                <Button classes={{ root: classes.secondary }}\n                    startIcon={<CancelOutlined />} \n                    onClick={() => handleButtonClick(\"cancel\")}>\n                        Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default SimpleDialog;","import { Delete, Edit } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport { companyDeletedAction } from \"../../../Redux/CompaniesState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport SimpleDialog from \"../../SharedArea/SimpleDialog/SimpleDialog\";\nimport \"./CompanyCard.css\";\n\ninterface CompanyCardProps {\n    company: CompanyModel;\n}\n\nfunction CompanyCard(props: CompanyCardProps): JSX.Element {\n\n    const company = props.company;\n    const [open, setOpen] = useState(false);\n    const [selectedValue, setSelectedValue] = useState(\"\");\n    const history = useHistory();\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    }\n\n    const handleClose = (value: string) => {\n        setOpen(false);\n        setSelectedValue(value);\n        value === \"delete\" && handleDelete();\n    }\n\n    const handleDelete = async () => {\n        try {\n            await jwtAxios.delete(`${globals.urls.admin.company}${company.id}`);\n            store.dispatch(companyDeletedAction(company.id));\n            notify.success(\"Company has been deleted!\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"CompanyCard\">\n            <NavLink to={`/companies/${company.id}`} title=\"Click for details\">\n                <h4>{company.name}</h4>\n                <span>Email: {company.email}</span>\n            </NavLink><br />\n            <div className=\"buttons\">\n                <NavLink to={`/companies/update/${company.id}`}>\n                    <Edit />\n                </NavLink>\n                <NavLink to=\"#\" onClick={handleClickOpen}>\n                    <Delete />\n                </NavLink>\n            </div>\n\n            <SimpleDialog\n                title={`${globals.dialogTitles.deleteItem} ${company.name}?`}\n                selectedValue={selectedValue}\n                open={open} onClose={handleClose}\n            />\n        </div>\n    );\n}\n\nexport default CompanyCard;","import { AddBox } from \"@material-ui/icons\";\nimport { History } from \"history\";\nimport { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport { companiesDownloadedAction } from \"../../../Redux/CompaniesState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport CompanyCard from \"../CompanyCard/CompanyCard\";\nimport \"./CompanyList.css\";\n\ninterface CompanyListState {\n    companies: CompanyModel[];\n}\n\ninterface CompanyListProps {\n    history: History;\n}\n\nclass CompanyList extends Component<CompanyListProps, CompanyListState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n    private unsubscribeCompanyList: Unsubscribe;\n\n    public constructor(props: CompanyListProps) {\n        super(props);\n        this.state = { companies: store.getState().companiesState.companies };\n    }\n\n    public async componentDidMount() {\n        this.unsubscribeCompanyList = store.subscribe(() => {\n            this.setState({ companies: store.getState().companiesState.companies });\n        });\n\n        try {\n            // Sending JWT Token with interceptor:\n            const response = await jwtAxios.get<CompanyModel[]>(globals.urls.admin.companies);\n            if (!this.isAlive) return;\n\n            store.dispatch(companiesDownloadedAction(response.data));\n            this.setState({ companies: response.data });\n        } catch (err) {\n            notify.error(err);\n\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        const companies = this.state.companies;\n        return (\n            <div className=\"CompanyList\">\n                {companies?.length === 0 && <p>No companies found in the system</p>}\n                {companies?.length > 0 && <p>{companies?.length} companies found in the system:</p>}\n\n                <NavLink to=\"/companies/add\" >\n                    <AddBox />\n                </NavLink>\n\n                {companies?.length > 0 && <div className=\"comp-list\">{companies?.map(c => <CompanyCard key={c.id} company={c} />)}</div>}\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n        this.unsubscribeCompanyList();\n    }\n}\n\nexport default CompanyList;","import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./MyCompanyDetails.css\";\n\nfunction MyCompanyDetails(): JSX.Element {\n\n    const [company, setCompany] = useState(null);\n    const history = useHistory();\n    const [isAlive, setIsAlive] = useState(true);\n\n    useEffect(() => {\n        async function getCompany() {\n            try {\n                const response = await jwtAxios.get<CompanyModel>(globals.urls.company.details);\n                if (!isAlive) return;\n                setCompany(response.data);\n            } catch (err) {\n                notify.error(err);\n                if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                    history.push(\"/logout\");\n                }\n            }\n        };\n        getCompany();\n\n        return (() => {\n            setIsAlive(false);\n        });\n    });\n\n    return (\n        <div className=\"MyCompanyDetails\">\n            {company &&\n                <>\n                    <h2>My Details</h2>\n                    <h3> Name: {company.name}</h3>\n                    <h4>Email: {company.email}</h4>\n                    <h4>Password: {company.password}</h4>\n                    <br /><br />\n                </>\n            }\n        </div>\n    );\n}\n\nexport default MyCompanyDetails;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { ClearAll, Edit, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, useParams } from \"react-router\";\nimport CompanyModel from \"../../../Models/CompanyModel\";\nimport { companyUpdatedAction } from \"../../../Redux/CompaniesState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./UpdateCompany.css\";\n\ninterface AddCustomerState {\n    showPassword: boolean;\n}\n\nfunction UpdateCompany(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors }, setValue } = useForm<CompanyModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const [state, setState] = useState<AddCustomerState>({\n        showPassword: false\n    });\n\n    const handleClickShowPassword = () => {\n        setState({ ...state, showPassword: !state.showPassword });\n    };\n\n    const { id } = useParams<{ id: string }>();\n    const [company] = useState(store.getState().companiesState.companies.find(c => c.id === +id));\n    const companyInitial = { ...company };\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = event.target;\n        switch (name) {\n            case \"email\":\n                setValue(\"email\", value);\n                break;\n            case \"password\":\n                setValue(\"password\", value);\n                break;\n        }\n    }\n\n    useEffect(() => {\n        if (company) {\n            setValue(\"id\", company.id);\n            setValue(\"name\", company.name);\n            setValue(\"email\", company.email);\n            setValue(\"password\", company.password);\n        }\n    }, [company, setValue]);\n\n    async function send(company: CompanyModel) {\n        // check: if no changes performed => show a message to the user and do nothing\n        if (!isCompanyDifferent(companyInitial, company)) {\n            notify.error(\"No changes were made!\");\n            return;\n        }\n\n        try {\n            const response = await jwtAxios.put<CompanyModel>(globals.urls.admin.company, company);\n            store.dispatch(companyUpdatedAction(response.data));\n            notify.success(\"Company has been updated!\");\n            history.push(\"/companies\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    function isCompanyDifferent(companyBefore: CompanyModel, company: CompanyModel) {\n        let isDiff: boolean = false;\n\n        // go over each entry of company (after changes)\n        Object.entries(company).forEach(afterEntry => {\n\n            // once isDiff is true => no need to check the rest of the entries\n            if (isDiff) return;\n\n            // get the same entry from the initial company object and compare them\n            const beforeEntry = Object.entries(companyBefore).find(bEntry => afterEntry[0] === bEntry[0])\n\n            if (!(afterEntry.toString() === beforeEntry.toString())) {\n                isDiff = true;\n            }\n        });\n\n        return isDiff;\n    }\n\n    return (\n        <div className=\"UpdateCompany\">\n            <Typography variant=\"h4\" className=\"Headline\"><Edit /> Update Company</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                {/* Company name should not be changed in the system therefore the field is disabled  */}\n                <TextField label=\"Name\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"name\")}\n                    defaultValue={company?.name}\n                    disabled\n                /><br /><br />\n\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    type=\"email\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    defaultValue={company?.email}\n                    inputProps={{ onChange: handleChange }}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    type={state.showPassword ? 'text' : 'password'}\n                    defaultValue={company?.password}\n                    InputProps={{\n                        endAdornment:\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword} edge=\"end\">\n                                    {state.showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>,\n                        onChange: handleChange\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Update</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default UpdateCompany;","import { Button, ButtonGroup, Checkbox, FormControlLabel, makeStyles, TextField, Typography } from \"@material-ui/core\";\nimport { Cancel, MailOutline, Send } from \"@material-ui/icons\";\nimport \"./ContactUs.css\";\n\nconst useStyles = makeStyles(theme => ({\n    Checkbox: {\n        '&:checked': {\n            backgroundColor: '#ff9c8b',\n        },\n        color: '#ff9c8b',\n        filter: 'invert(36%) sepia(77%) saturate(1565%) hue-rotate(342deg) brightness(86%) contrast(104%)',\n    },\n}));\n\nfunction ContactUs(): JSX.Element {\n\n    const classes = useStyles();\n\n    return (\n        <div className=\"ContactUs\">\n            <Typography variant=\"h4\" className=\"Headline\"> <MailOutline /> Contact Us</Typography>\n\n            <Typography variant=\"body2\">\n                This form is not supported.<br />\n                It will not be sent by pressing the submit button.\n            </Typography>\n            <br />\n\n            <TextField label=\"Name\" variant=\"outlined\" className=\"mui-input bgc-white\" />\n            <br /><br />\n\n            <TextField label=\"Email\" variant=\"outlined\" type=\"email\" className=\"mui-input bgc-white\" />\n            <br /><br />\n\n            <TextField label=\"Message\" variant=\"outlined\" className=\"mui-input bgc-white\"\n                multiline rows=\"3\"\n            /><br />\n\n            <FormControlLabel className=\"mui-input\"\n                label=\"Send me promotional emails\"\n                control={\n                    <Checkbox color=\"primary\" classes={{ root: classes.Checkbox }} />\n                }\n            /><br />\n\n            <ButtonGroup variant=\"contained\">\n                <Button className=\"send\" startIcon={<Send />}\n                    type=\"button\">Send</Button>\n                <Button className=\"cancel\" startIcon={<Cancel />}\n                    type=\"reset\">Cancel</Button>\n            </ButtonGroup>\n        </div>\n    );\n}\n\nexport default ContactUs;","export enum CategoryType {\r\n    FOOD = \"FOOD\",\r\n    ELECTRICITY = \"ELECTRICITY\",\r\n    RESTAURANT = \"RESTAURANT\",\r\n    VACATION = \"VACATION\",\r\n    CLOTHING = \"CLOTHING\"\r\n}","class Util {\r\n\r\n    public capitalize(text: string) : string {\r\n        return text.charAt(0).toLocaleUpperCase().concat(text.substring(1).toLocaleLowerCase());\r\n    }\r\n\r\n    public getDateDisplay(date: Date): string {\r\n        return date.toString().split('-').reverse().join('/');\r\n    }\r\n\r\n    public getEndOfDay(value: Date) {\r\n        const currDate: Date = new Date(Date.parse(value.toString()));\r\n        const [month, day, year] = [currDate.getMonth(), currDate.getDate(), currDate.getFullYear()];\r\n        const [hour, minutes, seconds] = [23, 59, 59];\r\n        const date: Date = new Date(year, month, day, hour, minutes, seconds);\r\n        return date;\r\n    }\r\n}\r\nconst util = new Util();\r\n\r\nexport default util;","import { Button, ButtonGroup, createStyles, FormControl, FormHelperText, InputAdornment, makeStyles, OutlinedInput, TextField, Theme, Typography } from \"@material-ui/core\";\nimport { AddBox, ClearAll, Send } from \"@material-ui/icons\";\nimport { ChangeEvent, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router\";\nimport { CategoryType } from \"../../../Models/CategoryType\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { couponAddedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport \"./AddCoupon.css\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            display: 'flex',\n            flexWrap: 'wrap',\n        },\n        textField: {\n            maxWidth: 250,\n        },\n        input: {\n            backgroundColor: '#ffffff',\n        }\n    }),\n);\n\nfunction AddCoupon(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors }, getValues } = useForm<CouponModel>({\n        mode: 'all'\n    });\n    const history = useHistory();\n    const classes = useStyles();\n\n    const [category, setCategory] = useState(\"ChooseOne\");\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setCategory(event.target.value);\n    };\n\n    async function send(coupon: CouponModel) {\n        try {\n            const cFormData = new FormData();\n            cFormData.append(\"title\", coupon.title);\n            cFormData.append(\"description\", coupon.description);\n            cFormData.append(\"category\", coupon.category.toString());\n            cFormData.append(\"startDate\", coupon.startDate.toString());\n            cFormData.append(\"endDate\", coupon.endDate.toString());\n            cFormData.append(\"amount\", coupon.amount.toString());\n            cFormData.append(\"price\", coupon.price.toString());\n            cFormData.append(\"imageFile\", coupon.imageFile.item(0));\n\n            const response = await jwtAxios.post<CouponModel>(globals.urls.company.coupon, cFormData);\n            store.dispatch(couponAddedAction(response.data));\n            notify.success(\"Coupon has been added!\");\n            history.push(\"/company/coupons\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"AddCoupon\">\n            <Typography variant=\"h4\" className=\"Headline\"><AddBox /> Add Coupon</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <div className=\"grid\">\n                    <TextField label=\"Title\" variant=\"outlined\" className={classes.textField}\n                        {...register(\"title\", {\n                            required: { value: true, message: \"Missing title.\" },\n                            minLength: { value: 3, message: \"Title too short.\" },\n                            pattern: { value: /^[a-zA-Z0-9 !?$%)(+-]+$/g, message: \"Use only [a-zA-Z0-9!?$%)(+-] and space.\" }\n                        })}\n                        InputProps={{ className: classes.input }}\n                        error={!!errors.title}\n                        helperText={errors.title?.message}\n                    />\n\n                    <TextField label=\"Description\" variant=\"outlined\" className={classes.textField}\n                        type=\"textarea\" multiline rows=\"3\" rowsMax={4}\n                        {...register(\"description\", {\n                            required: { value: true, message: \"Missing description.\" },\n                            pattern: { value: /^[\\w!?$%., /%&\\r\\n)*(+-]+$/g, message: \"Use only [a-zA-Z0-9!?$%., /%&)*(+-] and white spaces.\" }\n                        })}\n                        InputProps={{ className: classes.input }}\n                        error={!!errors.description}\n                        helperText={errors.description?.message}\n                    />\n\n                    <div className=\"numbers\">\n                        <TextField label=\"Amount\" variant=\"outlined\" className={classes.textField}\n                            type=\"number\"\n                            {...register(\"amount\", {\n                                required: { value: true, message: \"Missing amount.\" },\n                                pattern: { value: /^[1-9]\\d*$/g, message: \"Use only positive whole number.\" }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            error={!!errors.amount}\n                            helperText={errors.amount?.message}\n                        />\n                        &nbsp;\n                        <TextField label=\"Price\" variant=\"outlined\" className={classes.textField}\n                            type=\"number\"\n                            {...register(\"price\", {\n                                required: { value: true, message: \"Missing price.\" },\n                                pattern: { value: /^[1-9]\\d*\\.?\\d*$/g, message: \"Use only positive numbers including decimals.\" }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{\n                                step: 0.01,\n                                min: 0,\n                                startadornment: <InputAdornment position=\"start\">$</InputAdornment>\n                            }}\n                            error={!!errors.price}\n                            helperText={errors.price?.message}\n                        />\n                    </div>\n\n                    <TextField name=\"category\" select className={classes.textField}\n                        label=\"Please select a category\" variant=\"outlined\"\n                        onChange={handleChange}\n                        SelectProps={{ native: true }}\n                        {...register('category', {\n                            required: { value: true, message: \"Category is required.\" },\n                            pattern: { value: /^((?!ChooseOne).)*$/, message: \"Choose any of the options but the first.\" }\n                        })}\n                        InputProps={{ className: classes.input }}\n                        defaultValue={category}\n                        error={!!errors.category}\n                        helperText={errors.category?.message}\n                    >\n                        <option value=\"ChooseOne\">Choose</option>\n                        {Object.values(CategoryType).map(val =>\n                            <option key={val} value={val}>{util.capitalize(val)}</option>\n                        )}\n                    </TextField>\n\n                    <div className=\"dates\">\n                        <TextField label=\"StartDate\" variant=\"outlined\" className={classes.textField}\n                            type=\"date\"\n                            InputLabelProps={{ shrink: true }}\n                            {...register(\"startDate\", {\n                                required: { value: true, message: \"Missing start date.\" },\n                                validate: {\n                                    cannotBeInThePast: (value) => {\n                                        // get the end of the chosen day => this will allow us to choose today as the start date\n                                        const date: Date = util.getEndOfDay(value);\n                                        return Date.parse(date.toString()) >= Date.now() || \"Start date cannot be in the past\";\n                                    },\n                                    compareToEndDate: (value) => {\n                                        const { endDate } = getValues();\n                                        if (!endDate) { return true };\n                                        // Validate the coupon's dates => Start date should precede end date:\n                                        return Date.parse(value.toString()) <= Date.parse(endDate.toString()) || \"The start date should precede the end date\";\n                                    }\n                                }\n                            })}\n                            InputProps={{ className: classes.input }}\n                            error={!!errors.startDate}\n                            helperText={errors.startDate?.message}\n                        /><br />\n\n                        <TextField label=\"EndDate\" variant=\"outlined\" className={classes.textField}\n                            type=\"date\"\n                            InputLabelProps={{ shrink: true }}\n                            {...register(\"endDate\", {\n                                required: { value: true, message: \"Missing end date.\" },\n                                validate: {\n                                    cannotBeInThePast: (value) => {\n                                        return Date.parse(value.toString()) >= Date.now() || \"End date cannot be in the past\";\n                                    },\n                                    compareToStartDate: (value) => {\n                                        const { startDate } = getValues();\n                                        if (!startDate) { return true };\n                                        // Validate the coupon's dates => End date should come after the start date:\n                                        return Date.parse(startDate.toString()) <= Date.parse(value.toString()) || \"The end date should come after the start date\";\n                                    }\n                                }\n                            })}\n                            InputProps={{ className: classes.input }}\n                            error={!!errors.endDate}\n                            helperText={errors.endDate?.message}\n                        />\n                    </div>\n\n                    <FormControl variant=\"outlined\" className={classes.textField}>\n                        <OutlinedInput disabled className=\"mui-input\" label=\"Image\" />\n                        <input className=\"MuiInputBase-input MuiOutlinedInput-input file-input\"\n                            type=\"file\" name=\"image\" accept=\"image/*\"\n                            {...register(\"imageFile\", {\n                                required: { value: true, message: \"Missing image.\" }\n                            })}\n                        />\n                        <FormHelperText>{errors.imageFile?.message}</FormHelperText>\n                    </FormControl>\n                </div><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Add</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default AddCoupon;","import { CardMedia } from \"@material-ui/core\";\nimport { Delete, Edit, ShoppingCart } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport { couponDeletedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport SimpleDialog from \"../../SharedArea/SimpleDialog/SimpleDialog\";\nimport \"./CouponCard.css\";\n\ninterface CouponCardProps {\n    coupon: CouponModel;\n    userType: UserType;\n    showPurchase?: boolean;\n    detailsURL: string;\n}\n\nfunction CouponCard(props: CouponCardProps): JSX.Element {\n\n    const history = useHistory();\n    const coupon = props.coupon;\n    const [open, setOpen] = useState(false);\n    const [selectedValue, setSelectedValue] = useState(\"\");\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    }\n\n    const handleClose = (value: string) => {\n        setOpen(false);\n        setSelectedValue(value);\n        value === \"delete\" && handleDelete();\n    }\n\n    const handleDelete = async () => {\n        try {\n            await jwtAxios.delete(`${globals.urls.company.coupon}${coupon.id}`);\n            store.dispatch(couponDeletedAction(coupon.id));\n            notify.success(\"Coupon has been deleted!\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    const handlePurchase = async () => {\n        try {\n            await jwtAxios.put(`${globals.urls.customer.purchaseCoupon}${coupon.id}`);\n            notify.success(\"Coupon has been successfully purchased! You can see it in 'My coupons'.\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"CouponCard\">\n            <NavLink to={props.detailsURL} title=\"Click for details\">\n                {coupon?.image &&\n                    <CardMedia className=\"media\"\n                        image={coupon?.image}\n                        title={coupon?.title}\n                    />\n                }\n                <h4>{coupon?.title}</h4>\n                <span>{coupon?.description}</span>\n            </NavLink>\n            {props.userType === UserType.COMPANY &&\n                <div className=\"buttons\">\n                    <NavLink to={`/company/coupons/update/${coupon?.id}`}>\n                        <Edit />\n                    </NavLink>\n                    <NavLink to=\"#\" onClick={handleClickOpen}>\n                        <Delete />\n                    </NavLink>\n                </div>\n            }\n            {props.showPurchase &&\n                <div className=\"buttons\">\n                    <NavLink to=\"#\" onClick={handlePurchase}>\n                        <ShoppingCart />\n                    </NavLink>\n                </div>\n            }\n\n            <SimpleDialog\n                title={`${globals.dialogTitles.deleteItem} '${coupon?.title}'?`}\n                selectedValue={selectedValue}\n                open={open} onClose={handleClose}\n            />\n        </div>\n    );\n}\n\nexport default CouponCard;","import { InputAdornment, TextField } from \"@material-ui/core\";\nimport { AddBox } from \"@material-ui/icons\";\nimport { History } from \"history\";\nimport { ChangeEvent, Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport { CategoryType } from \"../../../Models/CategoryType\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport { couponsDownloadedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport CouponCard from \"../CouponCard/CouponCard\";\nimport \"./CompanyCouponList.css\";\n\ninterface CompanyCouponListState {\n    coupons: CouponModel[];\n    filterBy: string;\n    filterSelectedValue: string | number;\n}\n\ninterface CompanyCouponListProps {\n    history: History;\n}\n\nclass CompanyCouponList extends Component<CompanyCouponListProps, CompanyCouponListState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n    private unsubscribeCompanyCouponList: Unsubscribe;\n\n    public constructor(props: CompanyCouponListProps) {\n        super(props);\n        this.state = {\n            coupons: store.getState().couponsState.coupons,\n            filterBy: \"All\",\n            filterSelectedValue: null\n        };\n    }\n\n    public setFilterBy = (filterBy: string) => {\n        this.setState({ filterBy });\n    }\n\n    public setFilterSelectedValue = (filterSelectedValue: string | number) => {\n        this.setState({ filterSelectedValue });\n    }\n\n    public handleChangeFilter = (event: ChangeEvent<{ name?: string; value: any; }>) => {\n        const { value } = event.target;\n        switch (value) {\n            case \"price\":\n            case \"All\":\n                this.setFilterBy(value);\n                this.setFilterSelectedValue(null);\n                break;\n            default:\n                this.setFilterBy(\"category\");\n                this.setFilterSelectedValue((value as string).toLowerCase());\n                break;\n        }\n    }\n\n    public handleChangeMaxPrice = (event: ChangeEvent<HTMLInputElement>) => {\n        this.setFilterSelectedValue(+event.target.value);\n    }\n\n    public async componentDidMount() {\n        this.unsubscribeCompanyCouponList = store.subscribe(() => {\n            this.setState({ coupons: store.getState().couponsState.coupons });\n        });\n\n        try {\n            const response = await jwtAxios.get<CouponModel[]>(globals.urls.company.coupons);\n            if (!this.isAlive) return;\n\n            store.dispatch(couponsDownloadedAction(response.data));\n            this.setState({ coupons: response.data });\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public getCouponsForDisplay() {\n        if (!this.state.coupons || this.state.coupons.length === 0) return [];\n        if (this.state.filterBy === \"All\") return this.state.coupons;\n\n        const coupons = this.state.coupons.filter(coupon => {\n            const filterVal = this.state.filterSelectedValue;\n            if (this.state.filterBy === \"price\") {\n                return coupon.price <= (filterVal as number);\n            } else {\n                return coupon.category.toLowerCase().includes((filterVal as string).toLowerCase());\n            }\n        });\n        return coupons;\n    }\n\n    public render(): JSX.Element {\n        const coupons = this.getCouponsForDisplay();\n        const filterVal = this.state.filterSelectedValue;\n        const filterBy = this.state.filterBy;\n        const category = \"category\";\n        const price = \"price\";\n\n        return (\n            <div className=\"CompanyCouponList\">\n                {coupons?.length === 0 && <><p>No coupons found in the system\n                    {filterBy === category && <span> for {`${filterVal} ${category}`}</span>}\n                    {filterBy === price && <span> with up to ${`${filterVal ? filterVal : 0} ${price}`}</span>}\n                </p></>}\n                {coupons?.length > 0 && <><p>{coupons?.length} coupons found in the system:</p></>}\n\n                <NavLink to=\"/company/coupons/add\">\n                    <AddBox />\n                </NavLink>\n\n                <TextField name=\"category\" select className=\"mui-select\"\n                    label=\"Filter by category\" variant=\"outlined\"\n                    SelectProps={{\n                        native: true,\n                        onChange: (e: ChangeEvent<{ name?: string; value: any; }>) => {\n                            this.handleChangeFilter(e);\n                        }\n                    }}\n                >\n                    <option value=\"All\">All</option>\n                    {Object.values(CategoryType).map(val =>\n                        <option key={val} value={val}>{util.capitalize(val)}</option>\n                    )}\n                    <option value=\"price\">Price</option>\n                </TextField>\n\n                {filterBy === price &&\n                    <>\n                        &nbsp;\n                        <TextField label=\"Max Price\" variant=\"outlined\" className=\"mui-select\"\n                            type=\"number\"\n                            InputLabelProps={{ shrink: true }}\n                            inputProps={{\n                                step: 0.01,\n                                min: 0,\n                                startadornment: <InputAdornment position=\"start\">$</InputAdornment>,\n                                onChange: (e: ChangeEvent<HTMLInputElement>) => this.handleChangeMaxPrice(e),\n                            }}\n                        />\n                    </>\n                }<br /><br />\n\n                {coupons?.length > 0 &&\n                    <div className=\"coupon-list\">\n                        {coupons?.map(c =>\n                            <CouponCard key={`co${c.id}`} coupon={c}\n                                detailsURL={`/company/coupons/${c.id}`}\n                                userType={UserType.COMPANY}\n                            />)\n                        }\n                    </div>\n                }\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n        this.unsubscribeCompanyCouponList();\n    }\n}\n\nexport default CompanyCouponList;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport \"./CouponDetails.css\";\n\ninterface RouteParam {\n    id: string;\n}\n\ninterface CouponDetailsProps extends RouteComponentProps<RouteParam> {\n    history: History;\n}\n\ninterface CouponDetailsState {\n    coupon: CouponModel;\n}\n\nclass CouponDetails extends Component<CouponDetailsProps, CouponDetailsState> {\n\n    public constructor(props: CouponDetailsProps) {\n        super(props);\n        this.state = { coupon: null };\n    }\n\n    public async componentDidMount() {\n        try {\n            const id = +this.props.match.params.id;\n            let coupon = store.getState().couponsState.coupons.find(c => c.id === id);\n            if (coupon) {\n                this.setState({ coupon });\n            } else if (id > 0) {\n                const userType = store.getState().authState.user.userType;\n\n                let url: string = \"\";\n                if (userType === UserType.COMPANY) url = globals.urls.company.coupon;\n                if (userType === UserType.CUSTOMER) url = globals.urls.customer.coupon;\n\n                const response = await jwtAxios.get<CouponModel>(`${url}/${id}`);\n                coupon = response.data;\n                notify.success(\"Coupon details were received!\");\n                this.setState({ coupon });\n            }\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        const coupon = this.state.coupon;\n        const dStart = coupon?.startDate ? util.getDateDisplay(coupon.startDate) : \"\";\n        const dEnd = coupon?.endDate ? util.getDateDisplay(coupon.endDate) : \"\";\n        return (\n            <div className=\"CouponDetails\">\n                {coupon &&\n                    <div className=\"box\">\n                        <div>\n                            <img src={coupon?.image}\n                                alt={coupon?.title} title={coupon?.title}\n                            />\n                        </div>\n                        <div>\n                            <h2>Coupon Details</h2>\n                            <p>Title: <br />\n                                <span className=\"title\">{coupon?.title}</span>\n                            </p>\n                            <p>Description:<br />\n                                <span className=\"bold-small\">{coupon?.description}</span>\n                            </p>\n                            <p>Category: &nbsp;\n                                <span className=\"bold-small\">{coupon?.category}</span>\n                            </p>\n                            <p>Start date: &nbsp;\n                                <span className=\"bold-small\">{dStart}</span>\n                            </p>\n                            <p>End date: &nbsp;\n                                <span className=\"bold-small\">{dEnd}</span>\n                            </p>\n                            <p>Amount: &nbsp;\n                                <span className=\"bold-small\">{coupon?.amount}</span>\n                            </p>\n                            <p>Price: &nbsp;\n                                <span className=\"bold-small\">${coupon?.price}</span>\n                            </p>\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nexport default CouponDetails;","import { InputAdornment, TextField } from \"@material-ui/core\";\nimport { History } from \"history\";\nimport { ChangeEvent, Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport { CategoryType } from \"../../../Models/CategoryType\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { UserType } from \"../../../Models/UserType\";\nimport { couponsDownloadedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport CouponCard from \"../CouponCard/CouponCard\";\nimport \"./CustomerCouponList.css\";\n\ninterface CustomerCouponListState {\n    coupons: CouponModel[];\n    listSelected: string;\n    filterBy: string;\n    filterSelectedValue: string | number;\n}\n\ninterface CustomerCouponListProps {\n    history: History;\n}\n\nclass CustomerCouponList extends Component<CustomerCouponListProps, CustomerCouponListState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n    private unsubscribeCustomerCouponList: Unsubscribe;\n\n    public constructor(props: CustomerCouponListProps) {\n        super(props);\n        this.state = {\n            coupons: store.getState().couponsState.coupons,\n            listSelected: \"LastChance\",\n            filterBy: \"All\",\n            filterSelectedValue: null\n        };\n    }\n\n    public setFilterBy = (filterBy: string) => {\n        this.setState({ filterBy });\n    }\n\n    public setFilterSelectedValue = (filterSelectedValue: string | number) => {\n        this.setState({ filterSelectedValue });\n    }\n\n    public handleChangeMaxPrice = (event: ChangeEvent<HTMLInputElement>) => {\n        this.setFilterSelectedValue(+event.target.value);\n    }\n\n    public setListSelectedValue = (listSelected: string) => {\n        this.setState({ listSelected });\n    }\n\n    public async getCouponList(url: string) {\n        try {\n            const response = await jwtAxios.get<CouponModel[]>(url);\n            if (!this.isAlive) return;\n\n            store.dispatch(couponsDownloadedAction(response.data));\n            this.setState({ coupons: response.data });\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public handleChangeList = (event: ChangeEvent<{ name?: string; value: any; }>) => {\n        const { value } = event.target;\n        switch (value) {\n            case \"LastChance\":\n                this.setListSelectedValue(value);\n                this.getCouponList(globals.urls.customer.couponsAboutToExpire);\n                break;\n            case \"MyCoupons\":\n                this.setListSelectedValue(value);\n                this.getCouponList(globals.urls.customer.coupons);\n                break;\n            case \"BuyCoupons\":\n                this.setListSelectedValue(value);\n                this.getCouponList(globals.urls.customer.couponsCanPurchase);\n                break;\n        }\n    }\n\n    public handleChangeFilter = (event: ChangeEvent<{ name?: string; value: any; }>) => {\n        const { value } = event.target;\n        switch (value) {\n            case \"price\":\n            case \"All\":\n                this.setFilterBy(value);\n                this.setFilterSelectedValue(null);\n                break;\n            default:\n                this.setFilterBy(\"category\");\n                this.setFilterSelectedValue((value as string).toLowerCase());\n                break;\n        }\n    }\n\n    public async componentDidMount() {\n        this.unsubscribeCustomerCouponList = store.subscribe(() => {\n            this.setState({ coupons: store.getState().couponsState.coupons });\n        });\n\n        this.getCouponList(globals.urls.customer.couponsAboutToExpire);\n    }\n\n    public getCouponsForDisplay() {\n        if (!this.state.coupons || this.state.coupons.length === 0) return [];\n        if (this.state.filterBy === \"All\") return this.state.coupons;\n\n        const coupons = this.state.coupons.filter(coupon => {\n            const filterVal = this.state.filterSelectedValue;\n            if (this.state.filterBy === \"price\") {\n                return coupon.price <= (filterVal as number);\n            } else {\n                return coupon.category.toLowerCase().includes((filterVal as string).toLowerCase());\n            }\n        });\n        return coupons;\n    }\n\n    public render(): JSX.Element {\n        const coupons = this.getCouponsForDisplay();\n        const filterVal = this.state.filterSelectedValue;\n        const filterBy = this.state.filterBy;\n        const listSelected = this.state.listSelected;\n        const category = \"category\";\n        const price = \"price\";\n\n        return (\n            <div className=\"CustomerCouponList\">\n                {coupons?.length === 0 &&\n                    <p>No coupons found in the system\n                        {filterBy === category && <span> for {`${filterVal} ${category}`}</span>}\n                        {filterBy === price && <span> with up to ${`${filterVal ? filterVal : 0} ${price}`}</span>}\n                    </p>\n                }\n                {coupons?.length > 0 && <><p>{coupons?.length} coupons found in the system:</p></>}\n                <br />\n\n                <TextField name=\"list\" select className=\"mui-select\"\n                    label=\"Show coupons by\" variant=\"outlined\"\n                    SelectProps={{\n                        native: true,\n                        onChange: (e: ChangeEvent<{ name?: string; value: any; }>) => {\n                            this.handleChangeList(e);\n                        }\n                    }}\n                >\n                    <option value=\"LastChance\">Last chance</option>\n                    <option value=\"MyCoupons\">My coupons</option>\n                    <option value=\"BuyCoupons\">Buy coupons</option>\n                </TextField>\n                    &nbsp;\n                <TextField name=\"category\" select className=\"mui-select\"\n                    label=\"Filter by\" variant=\"outlined\"\n                    SelectProps={{\n                        native: true,\n                        onChange: (e: ChangeEvent<{ name?: string; value: any; }>) => {\n                            this.handleChangeFilter(e);\n                        }\n                    }}\n                >\n                    <option value=\"All\">All</option>\n                    {Object.values(CategoryType).map(val =>\n                        <option key={val} value={val}>{util.capitalize(val)}</option>\n                    )}\n                    <option value=\"price\">Price</option>\n                </TextField>\n\n                {filterBy === price &&\n                    <>\n                        &nbsp;\n                        <TextField label=\"Max Price\" variant=\"outlined\" className=\"mui-select\"\n                            type=\"number\"\n                            InputLabelProps={{ shrink: true }}\n                            inputProps={{\n                                step: 0.01,\n                                min: 0,\n                                startadornment: <InputAdornment position=\"start\">$</InputAdornment>,\n                                onChange: (e: ChangeEvent<HTMLInputElement>) => this.handleChangeMaxPrice(e),\n\n                            }}\n                        />\n                    </>\n                }<br /><br />\n\n                {coupons?.length > 0 &&\n                    <div className=\"coupon-list\">\n                        {coupons?.map(c =>\n                            <CouponCard key={`cu${c.id}`} coupon={c}\n                                showPurchase={(listSelected !== \"MyCoupons\" ? true : false)}\n                                detailsURL={`/customer/coupons/${c.id}`}\n                                userType={UserType.CUSTOMER}\n                            />)\n                        }\n                    </div>\n                }\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n        this.unsubscribeCustomerCouponList();\n    }\n}\n\nexport default CustomerCouponList;","import { Button, ButtonGroup, createStyles, FormControl, FormHelperText, InputAdornment, makeStyles, OutlinedInput, TextField, Theme, Typography } from \"@material-ui/core\";\nimport { ClearAll, Edit, Send } from \"@material-ui/icons\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, useParams } from \"react-router\";\nimport { CategoryType } from \"../../../Models/CategoryType\";\nimport CouponModel from \"../../../Models/CouponModel\";\nimport { couponUpdatedAction } from \"../../../Redux/CouponsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport util from \"../../../Services/Util\";\nimport \"./UpdateCoupon.css\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            display: 'flex',\n            flexWrap: 'wrap',\n        },\n        textField: {\n            maxWidth: 250\n        },\n        input: {\n            backgroundColor: '#ffffff',\n        }\n    }),\n);\n\nfunction UpdateCoupon(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors }, setValue, getValues } = useForm<CouponModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const classes = useStyles();\n\n    const { id } = useParams<{ id: string }>();\n    const couponId: number = +id;\n    const [coupon] = useState(\n        store.getState().couponsState.coupons.find(c => c.id === couponId)\n    );\n    const couponInitial = { ...coupon };\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = event.target;\n        switch (name) {\n            case \"title\":\n                setValue(\"title\", value);\n                break;\n            case \"description\":\n                setValue(\"description\", value);\n                break;\n            case \"amount\":\n                setValue(\"amount\", +value);\n                break;\n            case \"price\":\n                setValue(\"price\", +value);\n                break;\n            case \"category\":\n                setValue(\"category\", CategoryType[value as keyof typeof CategoryType]);\n                break;\n            case \"startDate\":\n                setValue(\"startDate\", new Date(value));\n                break;\n            case \"endDate\":\n                setValue(\"endDate\", new Date(value));\n                break;\n        }\n    }\n\n    useEffect(() => {\n        if (coupon) {\n            setValue(\"id\", couponId);\n            setValue(\"title\", coupon.title);\n            setValue(\"description\", coupon.description);\n            setValue(\"amount\", coupon.amount);\n            setValue(\"price\", coupon.price);\n            setValue(\"category\", coupon.category);\n            setValue(\"startDate\", coupon.startDate);\n            setValue(\"endDate\", coupon.endDate);\n            setValue(\"image\", coupon.image);\n        }\n    }, [coupon, couponId, setValue]);\n\n    async function send(coupon: CouponModel) {\n        // check: if no changes performed => do nothing\n        if (!isCouponDifferent(couponInitial, coupon)) {\n            notify.error(\"No changes were made!\");\n            return;\n        }\n\n        try {\n            const myFormData = new FormData();\n            myFormData.append(\"id\", coupon.id.toString());\n            myFormData.append(\"title\", coupon.title);\n            myFormData.append(\"description\", coupon.description);\n            myFormData.append(\"category\", coupon.category.toString());\n            myFormData.append(\"startDate\", coupon.startDate.toString());\n            myFormData.append(\"endDate\", coupon.endDate.toString());\n            myFormData.append(\"amount\", coupon.amount.toString());\n            myFormData.append(\"price\", coupon.price.toString());\n            myFormData.append(\"image\", coupon.image);\n\n            // imageFile is not required for update => \n            // append to FormData only if there is a new file to upload\n            if (coupon.imageFile.length > 0) {\n                myFormData.append(\"imageFile\", coupon.imageFile.item(0));\n            }\n\n            const response = await jwtAxios.put<CouponModel>(globals.urls.company.coupon, myFormData);\n            store.dispatch(couponUpdatedAction(response.data));\n            notify.success(\"Coupon has been updated!\");\n            history.push(\"/company/coupons\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    function isCouponDifferent(couponBefore: CouponModel, coupon: CouponModel) {\n        let isDiff: boolean = false;\n\n        // for each entry of coupon (after changes)\n        Object.entries(coupon).forEach(afterEntry => {\n\n            // once isDiff is true => no need to check the rest of the entries\n            if (isDiff) return;\n\n            // get the same entry from the initial company object and compare them\n            const beforeEntry = Object.entries(couponBefore).find(bEntry => afterEntry[0] === bEntry[0])\n\n            // if \"imageFile\" has a new file => the entries are different\n            if (afterEntry[1] instanceof FileList) {\n                if ((afterEntry[1] as FileList).length > 0) {\n                    isDiff = true;\n                }\n            } else if (!(afterEntry.toString() === beforeEntry.toString())) {\n                isDiff = true;\n            }\n        });\n        return isDiff;\n    }\n\n    return (\n        <div className=\"UpdateCoupon\">\n            <Typography variant=\"h4\" className=\"Headline\"> <Edit /> Update Coupon</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <div className=\"grid\">\n                    <div className=\"texts\">\n                        <TextField label=\"Title\" variant=\"outlined\" className={classes.textField}\n                            {...register(\"title\", {\n                                required: { value: true, message: \"Missing title.\" },\n                                minLength: { value: 3, message: \"Title too short.\" },\n                                pattern: { value: /^[a-zA-Z0-9 !?$%)(+-]+$/g, message: \"Use only [a-zA-Z0-9!?$%)(+-] and space.\" }\n                            })}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.title}\n                            error={!!errors.title}\n                            helperText={errors.title?.message}\n                        /><br />\n\n                        <TextField label=\"Description\" variant=\"outlined\" className={classes.textField}\n                            type=\"textarea\" multiline rows=\"3\" rowsMax={4}\n                            {...register(\"description\", {\n                                required: { value: true, message: \"Missing description.\" },\n                                pattern: { value: /^[\\w!?$%., /%&\\r\\n)*(+-]+$/g, message: \"Use only [a-zA-Z0-9!?$%., /%&)*(+-] and white spaces.\" }\n                            })}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.description}\n                            error={!!errors.description}\n                            helperText={errors.description?.message}\n                        />\n                    </div>\n\n                    <div className=\"dates\">\n                        <TextField label=\"StartDate\" variant=\"outlined\" className={classes.textField}\n                            type=\"date\"\n                            {...register(\"startDate\", {\n                                required: { value: true, message: \"Missing start date.\" },\n                                validate: {\n                                    compareToEndDate: (value) => {\n                                        const { endDate } = getValues();\n                                        if (!endDate) { return true };\n                                        // Validate the coupon's dates => Start date should precede end date:\n                                        return Date.parse(value.toString()) <= Date.parse(endDate.toString()) || \"The start date should precede the end date\";\n                                    }\n                                }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.startDate}\n                            error={!!errors.startDate}\n                            helperText={errors.startDate?.message}\n                        /><br />\n\n                        <TextField label=\"EndDate\" variant=\"outlined\" className={classes.textField}\n                            type=\"date\"\n                            {...register(\"endDate\", {\n                                required: { value: true, message: \"Missing end date.\" },\n                                validate: {\n                                    compareToStartDate: (value) => {\n                                        const { startDate } = getValues();\n                                        if (!startDate) { return true };\n                                        // Validate the coupon's dates => End date should come after the start date:\n                                        return Date.parse(startDate.toString()) <= Date.parse(value.toString()) || \"The end date should come after the start date\";\n                                    }\n                                }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.endDate}\n                            error={!!errors.endDate}\n                            helperText={errors.endDate?.message}\n                        />\n                    </div>\n\n                    <TextField name=\"category\" select className={classes.textField}\n                        label=\"Please select a category\" variant=\"outlined\"\n                        {...register(\"category\", {\n                            required: { value: true, message: \"Category is required.\" },\n                            pattern: { value: /^((?!ChooseOne).)*$/, message: \"Choose any of the options but the first.\" }\n                        })}\n                        SelectProps={{ native: true }}\n                        InputProps={{ className: classes.input }}\n                        inputProps={{ onChange: handleChange }}\n                        defaultValue={coupon?.category}\n                        error={!!errors.category}\n                        helperText={errors.category?.message}\n                    >\n                        <option value=\"ChooseOne\">Choose</option>\n                        {Object.values(CategoryType).map(val =>\n                            <option key={val} value={val}>{util.capitalize(val)}</option>\n                        )}\n                    </TextField>\n\n                    <div className=\"numbers\">\n                        <TextField label=\"Amount\" variant=\"outlined\" className={classes.textField}\n                            type=\"number\"\n                            {...register(\"amount\", {\n                                required: { value: true, message: \"Missing amount.\" },\n                                pattern: { value: /^[1-9]\\d*$/g, message: \"Use only positive whole number.\" }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{ onChange: handleChange }}\n                            defaultValue={coupon?.amount}\n                            error={!!errors.amount}\n                            helperText={errors.amount?.message}\n                        />\n                        &nbsp;\n                        <TextField label=\"Price\" variant=\"outlined\" className={classes.textField}\n                            type=\"number\"\n                            {...register(\"price\", {\n                                required: { value: true, message: \"Missing price.\" },\n                                pattern: { value: /^[1-9]\\d*\\.?\\d*$/g, message: \"Use only positive numbers including decimals.\" }\n                            })}\n                            InputLabelProps={{ shrink: true }}\n                            InputProps={{ className: classes.input }}\n                            inputProps={{\n                                step: 0.01,\n                                min: 0,\n                                startadornment: <InputAdornment position=\"start\">$</InputAdornment>,\n                                onChange: handleChange\n                            }}\n                            defaultValue={coupon?.price}\n                            error={!!errors.price}\n                            helperText={errors.price?.message}\n                        />\n                    </div>\n\n                    <div className=\"files\">\n                        {coupon?.image &&\n                            <>\n                                <img className={classes.textField}\n                                    src={coupon?.image}\n                                    alt={coupon?.title} title={coupon?.title}\n                                />\n                                <br />\n                            </>\n                        }\n\n                        {/* Image file is not required in the update form */}\n                        <FormControl variant=\"outlined\" className={classes.textField}>\n                            <OutlinedInput disabled className=\"mui-input\" label=\"Image\" />\n                            <input className=\"MuiInputBase-input MuiOutlinedInput-input file-input\"\n                                type=\"file\" name=\"image\" accept=\"image/*\"\n                                {...register(\"imageFile\")}\n                            />\n                            <FormHelperText>{errors.imageFile?.message}</FormHelperText>\n                        </FormControl>\n                    </div>\n                </div><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Update</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default UpdateCoupon;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { AddBox, ClearAll, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport { customerAddedAction } from \"../../../Redux/CustomersState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./AddCustomer.css\";\n\nfunction AddCustomer(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors, isValid } } = useForm<CustomerModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const [showPassword, setShowPassword] = useState(false);\n\n    const handleClickShowPassword = () => {\n        setShowPassword(!showPassword);\n    };\n\n    async function send(customer: CustomerModel) {\n        try {\n            const response = await jwtAxios.post<CustomerModel>(globals.urls.admin.customer, customer);\n            store.dispatch(customerAddedAction(response.data));\n            notify.success(\"Customer has been added!\");\n            history.push(\"/customers\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"AddCustomer\">\n            <Typography variant=\"h4\" className=\"Headline\"> <AddBox /> Add Customer</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <TextField label=\"FirstName\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"firstName\", {\n                        required: { value: true, message: \"Missing first name.\" },\n                        minLength: { value: 3, message: \"First name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric & underscore characters and space.\" }\n                    })}\n                    error={!!errors.firstName}\n                    helperText={errors.firstName?.message}\n                /><br /><br />\n\n                <TextField label=\"LastName\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"lastName\", {\n                        required: { value: true, message: \"Missing last name.\" },\n                        minLength: { value: 3, message: \"Last name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric & underscore characters and space.\" }\n                    })}\n                    error={!!errors.lastName}\n                    helperText={errors.lastName?.message}\n                /><br /><br />\n\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    type={showPassword ? 'text' : 'password'}\n                    InputProps={{\n                        endAdornment:\n                            <InputAdornment position=\"end\">\n                                <IconButton aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword} edge=\"end\">\n                                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>,\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\" disabled={!isValid}>Add</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default AddCustomer;","import { History } from \"history\";\nimport { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./CustomerDetails.css\";\n\ninterface RouteParam {\n    id: string;\n}\n\ninterface CustomerDetailsProps extends RouteComponentProps<RouteParam> {\n    history: History;\n}\n\ninterface CustomerDetailsState {\n    customer: CustomerModel;\n}\n\nclass CustomerDetails extends Component<CustomerDetailsProps, CustomerDetailsState> {\n\n    public constructor(props: CustomerDetailsProps) {\n        super(props);\n        this.state = { customer: null };\n    }\n\n    public async componentDidMount() {\n        try {\n            const id = +this.props.match.params.id;\n            let customer = store.getState().customersState.customers.find(c => c.id === id);\n            if (customer) {\n                this.setState({ customer });\n            } else if (id > 0) {\n                const response = await jwtAxios.get<CustomerModel>(`${globals.urls.admin.customer}/${id}`);\n                customer = response.data;\n                notify.success(\"Customer details were received!\");\n                this.setState({ customer });\n            }\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        return (\n            <div className=\"CustomerDetails\">\n                {this.state.customer &&\n                    <>\n                        <h2>Customer Details</h2>\n                        <h3>First name: {this.state.customer.firstName}</h3>\n                        <h3>Last name: {this.state.customer.lastName}</h3>\n                        <h4>Email: {this.state.customer.email}</h4>\n                        <h4>Password: {this.state.customer.password}</h4>\n                        <br /><br />\n                    </>\n                }\n            </div>\n        );\n    }\n}\n\nexport default CustomerDetails;","import { Delete, Edit } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport { customerDeletedAction } from \"../../../Redux/CustomersState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport SimpleDialog from \"../../SharedArea/SimpleDialog/SimpleDialog\";\nimport \"./CustomerCard.css\";\n\ninterface CustomerCardProps {\n    customer: CustomerModel\n}\n\nfunction CustomerCard(props: CustomerCardProps): JSX.Element {\n\n    const customer = props.customer;\n    const [open, setOpen] = useState(false);\n    const [selectedValue, setSelectedValue] = useState(\"\");\n    const history = useHistory();\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    }\n\n    const handleClose = (value: string) => {\n        setOpen(false);\n        setSelectedValue(value);\n\n        value === \"delete\" && handleDelete();\n    }\n\n    const handleDelete = async () => {\n        try {\n            await jwtAxios.delete(`${globals.urls.admin.customer}${customer.id}`);\n            store.dispatch(customerDeletedAction(customer.id));\n            notify.success(\"Customer was deleted!\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"CustomerCard\">\n            <NavLink to={`/customers/${customer.id}`} title=\"Click for details\">\n                <h4>{customer.firstName} {customer.lastName}</h4>\n                <span>Email: {customer.email}</span>\n            </NavLink><br />\n            <div className=\"buttons\">\n                <NavLink to={`/customers/update/${customer.id}`}>\n                    <Edit />\n                </NavLink>\n                <NavLink to=\"#\" onClick={handleClickOpen}>\n                    <Delete />\n                </NavLink>\n            </div>\n\n            <SimpleDialog\n                title={`${globals.dialogTitles.deleteItem} ${customer.firstName} ${customer.lastName}?`}\n                selectedValue={selectedValue}\n                open={open} onClose={handleClose}\n            />\n        </div>\n    );\n}\n\nexport default CustomerCard;","import { AddBox } from \"@material-ui/icons\";\nimport { History } from \"history\";\nimport { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport { customersDownloadedAction } from \"../../../Redux/CustomersState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport CustomerCard from \"../CustomerCard/CustomerCard\";\nimport \"./CustomerList.css\";\n\ninterface CustomerListState {\n    customers: CustomerModel[];\n}\n\ninterface CustomerListProps {\n    history: History;\n}\n\nclass CustomerList extends Component<CustomerListProps, CustomerListState> {\n\n    // 'isAlive' is to prevent 'setState' if the user is not authorized and is pushed to logout page\n    private isAlive = true;\n    private unsubscribeCustomerList: Unsubscribe;\n\n    public constructor(props: CustomerListProps) {\n        super(props);\n        this.state = { customers: store.getState().customersState.customers };\n    }\n\n    public async componentDidMount() {\n        this.unsubscribeCustomerList = store.subscribe(() => {\n            this.setState({ customers: store.getState().customersState.customers });\n        });\n\n        try {\n            // Sending JWT Token with interceptor:\n            const response = await jwtAxios.get<CustomerModel[]>(globals.urls.admin.customers);\n            if (!this.isAlive) return;\n\n            store.dispatch(customersDownloadedAction(response.data));\n            this.setState({ customers: response.data });\n        } catch (err) {\n            notify.error(err);\n\n            if (err.response?.data?.status === 401) { // UNAUTHORIZED or Token Expired\n                this.props.history.push(\"/logout\");\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        const customers = this.state.customers;\n        return (\n            <div className=\"CustomerList\">\n                {customers.length === 0 && <><p>No customers found in the system</p></>}\n                {customers.length > 0 && <><p>{customers.length} customers found in the system:</p></>}\n\n                <NavLink to=\"/customers/add\" >\n                    <AddBox />\n                </NavLink>\n\n                {customers.length > 0 && <div className=\"cus-list\">{customers.map(c => <CustomerCard key={c.id} customer={c} />)}</div>}\n            </div>\n        );\n    }\n\n    public componentWillUnmount(): void {\n        this.isAlive = false;\n        this.unsubscribeCustomerList();\n    }\n}\n\nexport default CustomerList;","import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./MyCustomerDetails.css\";\n\nfunction MyCustomerDetails(): JSX.Element {\n\n    const [customer, setCustomer] = useState(null);\n    const history = useHistory();\n    const [isAlive, setIsAlive] = useState(true);\n\n    useEffect(() => {\n        async function getCustomer() {\n            try {\n                const response = await jwtAxios.get<CustomerModel>(globals.urls.customer.details);\n                if (!isAlive) return;\n                setCustomer(response.data);\n                notify.success(\"Customer details were received!\");\n            } catch (err) {\n                notify.error(err);\n                if (err.response.data.status === 401) {\n                    history.push(\"/logout\");\n                }\n            }\n        };\n        getCustomer();\n\n        return (() => {\n            setIsAlive(false);\n        });\n    }, [history, isAlive]);\n\n    return (\n        <div className=\"MyCustomerDetails\">\n            {customer &&\n                <>\n                    <h2>My Details</h2>\n                    <h3>First name: {customer.firstName}</h3>\n                    <h3>Last name: {customer.lastName}</h3>\n                    <h4>Email: {customer.email}</h4>\n                    <h4>Password: {customer.password}</h4>\n                    <br /><br />\n                </>\n            }\n        </div>\n    );\n}\n\nexport default MyCustomerDetails;","import { Button, ButtonGroup, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { ClearAll, Edit, Send, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, useParams } from \"react-router\";\nimport CustomerModel from \"../../../Models/CustomerModel\";\nimport { customerUpdatedAction } from \"../../../Redux/CustomersState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notification\";\nimport \"./UpdateCustomer.css\";\n\ninterface AddCustomerState {\n    showPassword: boolean;\n}\n\nfunction UpdateCustomer(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors }, setValue } = useForm<CustomerModel>({\n        mode: \"all\"\n    });\n    const history = useHistory();\n    const [state, setState] = useState<AddCustomerState>({\n        showPassword: false\n    });\n\n    const handleClickShowPassword = () => {\n        setState({ ...state, showPassword: !state.showPassword });\n    };\n\n    const { id } = useParams<{ id: string }>();\n    const [customer] = useState(store.getState().customersState.customers.find(c => c.id === +id));\n    const customerInitial = { ...customer };\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = event.target;\n        switch (name) {\n            case \"firstName\":\n                setValue(\"firstName\", value);\n                break;\n            case \"lastName\":\n                setValue(\"lastName\", value);\n                break;\n            case \"email\":\n                setValue(\"email\", value);\n                break;\n            case \"password\":\n                setValue(\"password\", value);\n                break;\n        }\n    }\n\n    useEffect(() => {\n        if (customer) {\n            setValue(\"id\", customer.id);\n            setValue(\"firstName\", customer.firstName);\n            setValue(\"lastName\", customer.lastName);\n            setValue(\"email\", customer.email);\n            setValue(\"password\", customer.password);\n        }\n    }, [customer, setValue]);\n\n    async function send(customer: CustomerModel) {\n        // check: if no changes performed => show a message to the user and do nothing\n        if (!isCustomerDifferent(customerInitial, customer)) {\n            notify.error(\"No changes were made!\");\n            return;\n        }\n\n        try {\n            const response = await jwtAxios.put<CustomerModel>(globals.urls.admin.customer, customer);\n            store.dispatch(customerUpdatedAction(response.data));\n            notify.success(\"The customer has been updated!\");\n            history.push(\"/customers\");\n        } catch (err) {\n            notify.error(err);\n            if (err.response.data.status === 401) { // UNAUTHORIZED or Token Expired\n                history.push(\"/logout\");\n            }\n        }\n    }\n\n    function isCustomerDifferent(customerBefore: CustomerModel, customer: CustomerModel) {\n        let isDiff: boolean = false;\n\n        // go over each entry of customer (after changes)\n        Object.entries(customer).forEach(afterEntry => {\n\n            // once isDiff is true => no need to check the rest of the entries\n            if (isDiff) return;\n\n            // get the same entry from the initial customer object and compare them\n            const beforeEntry = Object.entries(customerBefore).find(bEntry => afterEntry[0] === bEntry[0])\n\n            if (!(afterEntry.toString() === beforeEntry.toString())) {\n                isDiff = true;\n            }\n        });\n\n        return isDiff;\n    }\n\n    return (\n        <div className=\"UpdateCustomer\">\n            <Typography variant=\"h4\" className=\"Headline\"><Edit /> Update Customer</Typography>\n\n            <form onSubmit={handleSubmit(send)}>\n                <TextField label=\"FirstName\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"firstName\", {\n                        required: { value: true, message: \"Missing first name.\" },\n                        minLength: { value: 3, message: \"First name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric, underscore and space characters.\" }\n                    })}\n                    defaultValue={customer?.firstName}\n                    inputProps={{ onChange: handleChange }}\n                    error={!!errors.firstName}\n                    helperText={errors.firstName?.message}\n                /><br /><br />\n\n                <TextField label=\"LastName\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"lastName\", {\n                        required: { value: true, message: \"Missing last name.\" },\n                        minLength: { value: 3, message: \"Last name too short.\" },\n                        pattern: { value: /[^\\W ]/g, message: \"Use only alphanumeric, underscore and space characters.\" }\n                    })}\n                    defaultValue={customer?.lastName}\n                    inputProps={{ onChange: handleChange }}\n                    error={!!errors.lastName}\n                    helperText={errors.lastName?.message}\n                /><br /><br />\n\n                <TextField label=\"Email\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"email\", {\n                        required: { value: true, message: \"Missing email.\" },\n                        pattern: { value: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/, message: \"Email is not valid.\" }\n                    })}\n                    defaultValue={customer?.email}\n                    inputProps={{ onChange: handleChange }}\n                    error={!!errors.email}\n                    helperText={errors.email?.message}\n                /><br /><br />\n\n                <TextField label=\"Password\" variant=\"outlined\" className=\"mui-input\"\n                    {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" },\n                        minLength: { value: 4, message: \"Password too short, should be at least 4 characters.\" },\n                        pattern: { value: /^[a-zA-Z0-9]+$/gi, message: \"Use only the following characters: [a-zA-Z0-9].\" }\n                    })}\n                    defaultValue={customer?.password}\n                    type={state.showPassword ? 'text' : 'password'}\n                    InputProps={{\n                        endAdornment:\n                            <InputAdornment position=\"end\">\n                                <IconButton aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword} edge=\"end\">\n                                    {state.showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>,\n                        onChange: handleChange\n                    }}\n                    error={!!errors.password}\n                    helperText={errors.password?.message}\n                /><br /><br />\n\n                <ButtonGroup variant=\"contained\">\n                    <Button className=\"send\" startIcon={<Send />}\n                        type=\"submit\">Update</Button>\n                    <Button className=\"reset\" startIcon={<ClearAll />}\n                        type=\"reset\">Reset</Button>\n                </ButtonGroup>\n            </form>\n        </div>\n    );\n}\n\nexport default UpdateCustomer;","import \"./SiteInfo.css\";\n\nfunction SiteInfo(): JSX.Element {\n    return (\n        <div className=\"SiteInfo\">\n            <h4>Welcome to</h4>\n\t\t\t<h2>Coupons System</h2>\n            <p>\n                When logged in as an <span>Administrator</span> you will be able to \n                create, update, delete and view companies and customers.\n            </p>\n            <p>\n                When logged in as a <span>Company</span> you will be able to \n                create, update, delete and view coupons.\n            </p>\n            <p>\n                When logged in as a <span>Customer</span> you will be able to \n                purchase and view coupons.\n            </p>\n            <h4>in a <span>simple</span> and <span>easy</span> way.</h4>\n        </div>\n    );\n}\n\nexport default SiteInfo;","import SiteInfo from \"../SiteInfo/SiteInfo\";\nimport \"./Home.css\";\n\nfunction Home(): JSX.Element {\n    return (\n        <div className=\"Home\">\n            <SiteInfo />\n        </div>\n    );\n}\n\nexport default Home;\n","import \"./Page404.css\";\n\nfunction Page404(): JSX.Element {\n    return (\n        <div className=\"Page404\">\n            <h4>404 page not found!</h4>\n\t\t\t<p>\n                <span></span><br /><br />\n                Terribly sorry...<br />\n                The page you are looking for does not exist.\n            </p>\n\n            <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/t3otBjVZzT0?autoplay=1\" allow=\"autoplay\" title=\"Page not Found\"></iframe>\n            {/* A small gesture for you, Assaf Finkelshtein :) */}\n        </div>\n    );\n}\n\nexport default Page404;","import { Redirect, Route, Switch } from \"react-router-dom\";\nimport AboutUs from \"../../AboutArea/AboutUs/AboutUs\";\nimport AdminRequired from \"../../AuthArea/AdminRequired/AdminRequired\";\nimport CompanyRequired from \"../../AuthArea/CompanyRequired/CompanyRequired\";\nimport CustomerRequired from \"../../AuthArea/CustomerRequired/CustomerRequired\";\nimport Login from \"../../AuthArea/Login/Login\";\nimport Logout from \"../../AuthArea/Logout/Logout\";\nimport AddCompany from \"../../CompaniesArea/AddCompany/AddCompany\";\nimport CompanyDetails from \"../../CompaniesArea/CompanyDetails/CompanyDetails\";\nimport CompanyList from \"../../CompaniesArea/CompanyList/CompanyList\";\nimport MyCompanyDetails from \"../../CompaniesArea/MyCompanyDetails/MyCompanyDetails\";\nimport UpdateCompany from \"../../CompaniesArea/UpdateCompany/UpdateCompany\";\nimport ContactUs from \"../../ContactUsArea/ContactUs/ContactUs\";\nimport AddCoupon from \"../../CouponsArea/AddCoupon/AddCoupon\";\nimport CompanyCouponList from \"../../CouponsArea/CompanyCouponList/CompanyCouponList\";\nimport CouponDetails from \"../../CouponsArea/CouponDetails/CouponDetails\";\nimport CustomerCouponList from \"../../CouponsArea/CustomerCouponList/CustomerCouponList\";\nimport UpdateCoupon from \"../../CouponsArea/UpdateCoupon/UpdateCoupon\";\nimport AddCustomer from \"../../CustomersArea/AddCustomer/AddCustomer\";\nimport CustomerDetails from \"../../CustomersArea/CustomerDetails/CustomerDetails\";\nimport CustomerList from \"../../CustomersArea/CustomerList/CustomerList\";\nimport MyCustomerDetails from \"../../CustomersArea/MyCustomerDetails/MyCustomerDetails\";\nimport UpdateCustomer from \"../../CustomersArea/UpdateCustomer/UpdateCustomer\";\nimport Home from \"../../HomeArea/Home/Home\";\nimport Page404 from \"../../SharedArea/Page404/Page404\";\n\nfunction Routing(): JSX.Element {\n    return (\n        <div className=\"Routing\">\n            <Switch>\n                <Route path=\"/home\" component={Home} exact />\n\n                {/* Company: */}\n                <Route path=\"/company\" component={CompanyRequired(MyCompanyDetails)} exact />\n                <Route path=\"/company/coupons/update/:id\" component={CompanyRequired(UpdateCoupon)} exact />\n                <Route path=\"/company/coupons/add\" component={CompanyRequired(AddCoupon)} exact />\n                <Route path=\"/company/coupons/:id\" component={CompanyRequired(CouponDetails)} exact />\n                <Route path=\"/company/coupons\" component={CompanyRequired(CompanyCouponList)} exact />\n\n                {/* Customer: */}\n                <Route path=\"/customer\" component={CustomerRequired(MyCustomerDetails)} exact />\n                <Route path=\"/customer/coupons/:id\" component={CustomerRequired(CouponDetails)} exact />\n                <Route path=\"/customer/coupons\" component={CustomerRequired(CustomerCouponList)} exact />\n\n                {/* Admin: */}\n                <Route path=\"/companies/update/:id\" component={AdminRequired(UpdateCompany)} exact />\n                <Route path=\"/companies/add\" component={AdminRequired(AddCompany)} exact />\n                <Route path=\"/companies/:id\" component={AdminRequired(CompanyDetails)} exact />\n                <Route path=\"/companies\" component={AdminRequired(CompanyList)} exact />\n\n                <Route path=\"/customers/update/:id\" component={AdminRequired(UpdateCustomer)} exact />\n                <Route path=\"/customers/add\" component={AdminRequired(AddCustomer)} exact />\n                <Route path=\"/customers/:id\" component={AdminRequired(CustomerDetails)} exact />\n                <Route path=\"/customers\" component={AdminRequired(CustomerList)} exact />\n\n                {/* All: */}\n                <Route path=\"/login\" component={Login} exact />\n                <Route path=\"/logout\" component={Logout} exact />\n                <Route path=\"/about\" component={AboutUs} exact />\n                <Route path=\"/contact-us\" component={ContactUs} exact />\n\n                <Redirect from=\"/\" to=\"/home\" exact />\n                <Route component={Page404} /> {/* Must Be Last! */}\n            </Switch>\n        </div>\n    );\n}\n\nexport default Routing;","import { BrowserRouter } from \"react-router-dom\";\nimport Footer from \"../Footer/Footer\";\nimport Header from \"../Header/Header\";\nimport Menu from \"../Menu/Menu\";\nimport Routing from \"../Routing/Routing\";\nimport \"./Layout.css\";\n\nfunction Layout(): JSX.Element {\n    return (\n        <BrowserRouter>\n            <div className=\"Layout\">\n                <header>\n                    <Header />\n                </header>\n                <aside>\n                    <Menu />\n                </aside>\n                <main>\n                    <Routing />\n                </main>\n                <footer>\n                    <Footer />\n                </footer>\n            </div>\n        </BrowserRouter>\n    );\n}\n\nexport default Layout;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport Layout from './Components/LayoutArea/Layout/Layout';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Layout />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}