(this["webpackJsonpcoupons-website"]=this["webpackJsonpcoupons-website"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(21),c=a.n(r),i=(a(102),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,224)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))}),o=a(14),u=(a(103),a(1));var l,d=function(){return Object(u.jsx)("div",{className:"Footer",children:Object(u.jsx)("p",{children:"All Rights Reserved \xa9 Mina Shtraicher"})})},p=a(10),j=a(15),b=a(18),m=a(17),h=a(69),v=a(3),O=function e(){Object(p.a)(this,e),this.user=null;var t=JSON.parse(localStorage.getItem("user"));t&&(this.user=t)};function x(e){return{type:l.Login,payload:e}}!function(e){e.Login="Login",e.Logout="Logout"}(l||(l={}));var g,f=function e(){Object(p.a)(this,e),this.companies=[]};function y(e){return{type:g.CompanyAdded,payload:e}}function C(e){return{type:g.CompanyUpdated,payload:e}}!function(e){e.CompaniesDownloaded="CompaniesDownloaded",e.CompanyAdded="CompanyAdded",e.CompanyUpdated="CompanyUpdated",e.CompanyDeleted="CompanyDeleted"}(g||(g={}));var w,S=function e(){Object(p.a)(this,e),this.coupons=[]};function N(e){return{type:w.CouponsDownloaded,payload:e}}function k(e){return{type:w.CouponAdded,payload:e}}function A(e){return{type:w.CouponUpdated,payload:e}}!function(e){e.CouponsDownloaded="CouponsDownloaded",e.CouponAdded="CouponAdded",e.CouponUpdated="CouponUpdated",e.CouponDeleted="CouponDeleted"}(w||(w={}));var D,P=function e(){Object(p.a)(this,e),this.customers=[]};function M(e){return{type:D.CustomerAdded,payload:e}}function T(e){return{type:D.CustomerUpdated,payload:e}}!function(e){e.CustomersDownloaded="CustomersDownloaded",e.CustomerAdded="CustomerAdded",e.CustomerUpdated="CustomerUpdated",e.CustomerDeleted="CustomerDeleted"}(D||(D={}));var F=Object(h.a)({authState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new O,t=arguments.length>1?arguments[1]:void 0,a=Object(v.a)({},e);switch(t.type){case l.Login:a.user=t.payload,localStorage.setItem("user",JSON.stringify(a.user));break;case l.Logout:a.user=null,localStorage.removeItem("user")}return a},companiesState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new f,t=arguments.length>1?arguments[1]:void 0,a=Object(v.a)({},e);switch(t.type){case g.CompaniesDownloaded:a.companies=t.payload;break;case g.CompanyAdded:a.companies.push(t.payload);break;case g.CompanyUpdated:a.companies.map((function(e){return e.id!==t.payload.id?e:Object(v.a)(Object(v.a)({},e),t.payload)}));break;case g.CompanyDeleted:var s=a.companies.slice(),n=a.companies.findIndex((function(e){return e.id===t.payload.id}));s.splice(n,1),a.companies=s}return a},customersState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P,t=arguments.length>1?arguments[1]:void 0,a=Object(v.a)({},e);switch(t.type){case D.CustomersDownloaded:a.customers=t.payload;break;case D.CustomerAdded:a.customers.push(t.payload);break;case D.CustomerUpdated:a.customers.map((function(e){return e.id!==t.payload.id?e:Object(v.a)(Object(v.a)({},e),t.payload)}));break;case D.CustomerDeleted:var s=a.customers.slice(),n=a.customers.findIndex((function(e){return e.id===t.payload.id}));s.splice(n,1),a.customers=s}return a},couponsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new S,t=arguments.length>1?arguments[1]:void 0,a=Object(v.a)({},e);switch(t.type){case w.CouponsDownloaded:a.coupons=t.payload;break;case w.CouponAdded:a.coupons.push(t.payload);break;case w.CouponUpdated:a.coupons.map((function(e){return e.id!==t.payload.id?e:Object(v.a)(Object(v.a)({},e),t.payload)}));break;case w.CouponDeleted:var s=a.coupons.slice(),n=a.coupons.findIndex((function(e){return e.id===t.payload.id}));s.splice(n,1),a.coupons=s}return a}}),L=Object(h.b)(F),I=(a(105),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).unsubscribe=void 0,s.state={user:L.getState().authState.user},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=L.subscribe((function(){e.setState({user:L.getState().authState.user})}))}},{key:"render",value:function(){var e=this.state.user;return Object(u.jsxs)("div",{className:"AuthMenu",children:[this.state.user&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("span",{children:["Hello ",e.name]}),Object(u.jsx)("span",{children:" | "}),Object(u.jsx)(o.b,{to:"/logout",children:"Logout"})]}),!this.state.user&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:"Hello Guest"}),Object(u.jsx)("span",{children:" | "}),Object(u.jsx)(o.b,{to:"/login",children:"Login"})]})]})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}}]),a}(s.Component));a(111);var U,E=function(){return Object(u.jsxs)("div",{className:"Header",children:[Object(u.jsx)(I,{}),Object(u.jsxs)("h1",{children:[Object(u.jsx)("span",{children:"C"}),"oupon",Object(u.jsx)("span",{children:"system"})]})]})};!function(e){e.ADMIN="ADMIN",e.COMPANY="COMPANY",e.CUSTOMER="CUSTOMER"}(U||(U={}));a(112);var V=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).unsubscribeMenu=void 0,s.state={user:L.getState().authState.user},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeMenu=L.subscribe((function(){e.setState({user:L.getState().authState.user})}))}},{key:"render",value:function(){var e=this.state.user;return Object(u.jsx)("div",{className:"Menu",children:Object(u.jsxs)("nav",{children:[Object(u.jsx)(o.b,{to:"/home",exact:!0,children:"Home"}),(null===e||void 0===e?void 0:e.userType)===U.ADMIN&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.b,{to:"/companies",exact:!0,children:"Companies"}),Object(u.jsx)(o.b,{to:"/customers",exact:!0,children:"Customers"})]}),(null===e||void 0===e?void 0:e.userType)===U.COMPANY&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.b,{to:"/company",exact:!0,children:"My Details"}),Object(u.jsx)(o.b,{to:"/company/coupons",exact:!0,children:"My Coupons"})]}),(null===e||void 0===e?void 0:e.userType)===U.CUSTOMER&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.b,{to:"/customer",exact:!0,children:"My Details"}),Object(u.jsx)(o.b,{to:"/customer/coupons",exact:!0,children:"Coupons"})]}),Object(u.jsx)(o.b,{to:"/about",exact:!0,children:"About"}),Object(u.jsx)(o.b,{to:"/contact-us",exact:!0,children:"Contact Us"})]})})}},{key:"componentWillUnmount",value:function(){this.unsubscribeMenu()}}]),a}(s.Component),z=a(12),H=a(70),q=a(189),$=a(190),W=a(191);a(113);var B=function(){return Object(u.jsxs)("div",{className:"AboutUs",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[" ",Object(u.jsx)(q.a,{})," About Me"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)(H.a,{variant:"body2",children:["My name is Mina Shtraicher.",Object(u.jsx)("br",{}),"You can find me here:"]}),Object(u.jsxs)(H.a,{variant:"h4",children:[Object(u.jsx)("a",{href:"https://github.com/minas8",target:"_blank",rel:"noreferrer",title:"My GitHub",children:Object(u.jsx)($.a,{})}),Object(u.jsx)("a",{href:"https://www.linkedin.com/in/mina-shtraicher",target:"_blank",rel:"noreferrer",title:"My LinkedIn",children:Object(u.jsx)(W.a,{})})]}),Object(u.jsx)(H.a,{variant:"overline",className:"TextField",children:"Objective"}),Object(u.jsxs)(H.a,{variant:"body2",children:["I have about 10 years of experience as a software engineer (post career change), specializing in C# and familiar with both client & server side.",Object(u.jsx)("br",{})," I took part in many projects, which required working with various interfaces & team members.",Object(u.jsx)("br",{})," On March 2020 I was put on a long LOA and decided to invest my time in expanding my technical skills and focus on new professional areas.",Object(u.jsx)("br",{}),"These days I\u2019m actively searching for my next position as a Java Full Stack / Microsoft.Net developer."]}),Object(u.jsx)("br",{}),Object(u.jsx)(H.a,{variant:"overline",className:"TextField",children:"Professional Experience"}),Object(u.jsx)("br",{}),Object(u.jsx)(H.a,{variant:"caption",className:"TextField",children:"2011 \u2013 2020 Software developer, One1 (Advantech)"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Develop & implement ClickSoftware solutions based on client\u2019s requirements"}),Object(u.jsx)("li",{children:"Build Web Services / WCF solutions, using .NET technology & developing in C#"}),Object(u.jsx)("li",{children:"Implementing MSP (My Single Point) in JavaScript"}),Object(u.jsx)("li",{children:"Using diverse technologies on a daily basis: C#, WinForms, MSSQL, Web Services, XML, Javascript, jQuery, HTML,CSS"}),Object(u.jsx)("li",{children:"Response on bids"}),Object(u.jsx)("li",{children:"Working on diverse projects which required much self learning, for example the Services of Google maps api and implementing stand-alone development for clients"}),Object(u.jsx)("li",{children:"Working in a team of 3 while collaborating, knowledge sharing & training new employees"}),Object(u.jsx)("li",{children:"Selected for outstanding employee \u2013 2017"})]}),Object(u.jsx)(H.a,{variant:"caption",className:"TextField",children:"2011 Software developer, Find Me An Angel (FMAA) inc"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Developing a complex social website"}),Object(u.jsx)("li",{children:"Building a web product, while using ASP.NET Web Forms"}),Object(u.jsx)("li",{children:"Developing in .Net, C# and working with MSSQL database"})]})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})},Z=a(87),R=new(function(){function e(){Object(p.a)(this,e),this.notification=new Z.a({duration:4e3,position:{x:"right",y:"bottom"},types:[{type:"success",background:"#8d8d8d",dismissible:!0},{type:"error",background:"#ff4c2c",dismissible:!0}]})}return Object(j.a)(e,[{key:"success",value:function(e){this.notification.success(e)}},{key:"error",value:function(e){var t=this.extractMessage(e);this.notification.error(t)}},{key:"extractMessage",value:function(e){var t,a,s,n;return"string"===typeof e?e:"string"===typeof(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)?e.response.data:"string"===typeof(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)?401===e.response.status?"You are not authorized, you need to login again":e.response.data:Array.isArray(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)?e.response.data[0]:"string"===typeof(null===e||void 0===e?void 0:e.message)?e.message:"An error occurred, please try again."}}]),e}());var Y=function(e){return function(t){Object(b.a)(s,t);var a=Object(m.a)(s);function s(e){var t;return Object(p.a)(this,s),(t=a.call(this,e)).unsubscribeAdminAuthenticated=void 0,t.state={user:L.getState().authState.user},t}return Object(j.a)(s,[{key:"componentWillMount",value:function(){var e=this;this.unsubscribeAdminAuthenticated=L.subscribe((function(){e.setState({user:L.getState().authState.user})})),this.state.user&&this.state.user.userType===U.ADMIN||(R.error("You are not authorized to access this action!"),this.props.history.push("/login"))}},{key:"render",value:function(){return Object(u.jsx)(e,Object(v.a)({},this.props))}},{key:"componentWillUnmount",value:function(){this.unsubscribeAdminAuthenticated()}}]),s}(s.Component)};var J=function(e){return function(t){Object(b.a)(s,t);var a=Object(m.a)(s);function s(e){var t;return Object(p.a)(this,s),(t=a.call(this,e)).unsubscribeCompanyAuthenticated=void 0,t.state={user:L.getState().authState.user},t}return Object(j.a)(s,[{key:"componentWillMount",value:function(){var e=this;this.unsubscribeCompanyAuthenticated=L.subscribe((function(){e.setState({user:L.getState().authState.user})})),this.state.user&&this.state.user.userType===U.COMPANY||(R.error("You are not authorized to access this action!"),this.props.history.push("/login"))}},{key:"render",value:function(){return Object(u.jsx)(e,Object(v.a)({},this.props))}},{key:"componentWillUnmount",value:function(){this.unsubscribeCompanyAuthenticated()}}]),s}(s.Component)};var _=function(e){return function(t){Object(b.a)(s,t);var a=Object(m.a)(s);function s(e){var t;return Object(p.a)(this,s),(t=a.call(this,e)).unsubscribeCustomerAuthenticated=void 0,t.state={user:L.getState().authState.user},t}return Object(j.a)(s,[{key:"componentWillMount",value:function(){var e=this;this.unsubscribeCustomerAuthenticated=L.subscribe((function(){e.setState({user:L.getState().authState.user})})),this.state.user&&this.state.user.userType===U.CUSTOMER||(R.error("You are not authorized to access this action!"),this.props.history.push("/login"))}},{key:"render",value:function(){return Object(u.jsx)(e,Object(v.a)({},this.props))}},{key:"componentWillUnmount",value:function(){this.unsubscribeCustomerAuthenticated()}}]),s}(s.Component)},G=a(6),Q=a.n(G),X=a(9),K=a(13),ee=a(215),te=a(195),ae=a(196),se=a(199),ne=a(158),re=a(192),ce=a(197),ie=a(198),oe=a(200),ue=a(61),le=a.n(ue),de=a(29),pe=function e(){Object(p.a)(this,e),this.dialogTitles={deleteItem:"Are you sure you want to delete"}},je=new(function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).serverName="https://coupons3-server.herokuapp.com",e.uriHead="".concat(e.serverName),e.uriHeadApi="".concat(e.serverName,"/api"),e.urls={admin:{companies:"".concat(e.uriHeadApi,"/u-admin/companies/"),company:"".concat(e.uriHeadApi,"/u-admin/company/"),customers:"".concat(e.uriHeadApi,"/u-admin/customers/"),customer:"".concat(e.uriHeadApi,"/u-admin/customer/")},company:{details:"".concat(e.uriHeadApi,"/u-company"),coupon:"".concat(e.uriHeadApi,"/u-company/coupon/"),coupons:"".concat(e.uriHeadApi,"/u-company/coupons/"),couponsByCategory:"".concat(e.uriHeadApi,"/u-company/coupons-by-category/"),couponsByMaxPrice:"".concat(e.uriHeadApi,"/u-company/coupons-up-to-price/")},customer:{details:"".concat(e.uriHeadApi,"/u-customer"),coupon:"".concat(e.uriHeadApi,"/u-customer/coupon/"),purchaseCoupon:"".concat(e.uriHeadApi,"/u-customer/coupon/"),coupons:"".concat(e.uriHeadApi,"/u-customer/coupons/"),couponsByCategory:"".concat(e.uriHeadApi,"/u-customer/coupons-by-category/"),couponsByMaxPrice:"".concat(e.uriHeadApi,"/u-customer/coupons-up-to-price/"),couponsCanPurchase:"".concat(e.uriHeadApi,"/u-customer/coupons-can-purchase/"),couponsAboutToExpire:"".concat(e.uriHeadApi,"/u-customer/coupons-about-to-expire/")},images:"".concat(e.uriHead,"/images/"),login:"".concat(e.uriHead,"/auth/login")},e}return a}(pe));a(133);var be=function(){var e,t,a,n=Object(z.g)(),r=Object(de.a)({mode:"all"}),c=r.register,i=r.handleSubmit,o=r.formState,l=o.errors,d=o.isValid,p=Object(s.useState)(!1),j=Object(K.a)(p,2),b=j[0],m=j[1],h=Object(s.useState)("ChooseOne"),O=Object(K.a)(h,2),g=O[0],f=O[1];function y(){return(y=Object(X.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.a.post(je.urls.login,t);case 3:a=e.sent,L.dispatch(x(a.data)),R.success("You have been successfully logged in!"),n.push("/home"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),R.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"Login",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[" ",Object(u.jsx)(re.a,{})," Login"]}),Object(u.jsxs)("form",{onSubmit:i((function(e){return y.apply(this,arguments)})),children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Email",variant:"outlined",className:"mui-input",type:"email"},c("email",{required:{value:!0,message:"Missing email."},pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Email is not valid."}})),{},{error:!!l.email,helperText:null===(e=l.email)||void 0===e?void 0:e.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Password",variant:"outlined",className:"mui-input"},c("password",{required:{value:!0,message:"Missing password."},minLength:{value:4,message:"Password too short, should be at least 4 characters."},pattern:{value:/^[a-zA-Z0-9]+$/gi,message:"Use only the following characters: [a-zA-Z0-9]."}})),{},{type:b?"text":"password",InputProps:{endAdornment:Object(u.jsx)(te.a,{position:"end",children:Object(u.jsx)(ae.a,{"aria-label":"toggle password visibility",onClick:function(){m(!b)},edge:"end",children:b?Object(u.jsx)(ce.a,{}):Object(u.jsx)(ie.a,{})})})},error:!!l.password,helperText:null===(t=l.password)||void 0===t?void 0:t.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)(ee.a,Object(v.a)(Object(v.a)({name:"userType",select:!0,className:"mui-input",label:"Please select your user type",variant:"outlined",defaultValue:g,onChange:function(e){f(e.target.value)},SelectProps:{native:!0}},c("userType",{required:{value:!0,message:"User type is required."},pattern:{value:/^((?!ChooseOne).)*$/,message:"Choose one of the options other than the first one."}})),{},{error:!!l.userType,helperText:null===(a=l.userType)||void 0===a?void 0:a.message,children:[Object(u.jsx)("option",{value:"ChooseOne",children:"Choose"}),Object.values(U).map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))]})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(se.a,{variant:"contained",children:Object(u.jsx)(ne.a,{className:"login",startIcon:Object(u.jsx)(oe.a,{}),type:"submit",disabled:!d,children:"Login"})})]})]})};var me=function(){var e=Object(z.g)();return Object(s.useEffect)((function(){L.dispatch({type:l.Logout}),L.getState().companiesState.companies=[],L.getState().customersState.customers=[],L.getState().couponsState.coupons=[],R.success("You are now logged out."),e.push("/home")})),null},he=a(201),ve=a(202),Oe=le.a.create();Oe.interceptors.request.use((function(e){var t;return e.headers={token:null===(t=L.getState().authState.user)||void 0===t?void 0:t.token},e}));var xe=Oe;a(134);var ge=function(){var e,t,a,n=Object(de.a)({mode:"all"}),r=n.register,c=n.handleSubmit,i=n.formState.errors,o=Object(z.g)(),l=Object(s.useState)(!1),d=Object(K.a)(l,2),p=d[0],j=d[1];function b(){return(b=Object(X.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.post(je.urls.admin.company,t);case 3:a=e.sent,L.dispatch(y(a.data)),R.success("Company has been added!"),o.push("/companies"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),R.error(e.t0),401===e.t0.response.data.status&&o.push("/logout");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"AddCompany",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[" ",Object(u.jsx)(he.a,{})," Add Company"]}),Object(u.jsxs)("form",{onSubmit:c((function(e){return b.apply(this,arguments)})),children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"name",variant:"outlined",className:"mui-input"},r("name",{required:{value:!0,message:"Missing first name."},minLength:{value:3,message:"First name too short."},pattern:{value:/[^\W ]/g,message:"Use only alphanumeric & underscore characters and space."}})),{},{error:!!i.name,helperText:null===(e=i.name)||void 0===e?void 0:e.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Email",variant:"outlined",className:"mui-input",type:"email"},r("email",{required:{value:!0,message:"Missing email."},pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Email is not valid."}})),{},{error:!!i.email,helperText:null===(t=i.email)||void 0===t?void 0:t.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Password",name:"password",variant:"outlined",className:"mui-input"},r("password",{required:{value:!0,message:"Missing password."},minLength:{value:4,message:"Password too short, should be at least 4 characters."},pattern:{value:/^[a-zA-Z0-9]+$/gi,message:"Use only the following characters: [a-zA-Z0-9]."}})),{},{type:p?"text":"password",InputProps:{endAdornment:Object(u.jsx)(te.a,{position:"end",children:Object(u.jsx)(ae.a,{"aria-label":"toggle password visibility",onClick:function(){j(!p)},edge:"end",children:p?Object(u.jsx)(ce.a,{}):Object(u.jsx)(ie.a,{})})})},error:!!i.password,helperText:null===(a=i.password)||void 0===a?void 0:a.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)(se.a,{variant:"contained",children:[Object(u.jsx)(ne.a,{className:"send",startIcon:Object(u.jsx)(oe.a,{}),type:"submit",children:"Add"}),Object(u.jsx)(ne.a,{className:"reset",startIcon:Object(u.jsx)(ve.a,{}),type:"reset",children:"Reset"})]})]})]})},fe=(a(135),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).isAlive=!0,s.state={company:null},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=+this.props.match.params.id,!(a=L.getState().companiesState.companies.find((function(e){return e.id===t})))){e.next=7;break}this.setState({company:a}),e.next=16;break;case 7:if(!(t>0)){e.next=16;break}return e.next=10,xe.get("".concat(je.urls.admin.company,"/").concat(t));case 10:if(s=e.sent,this.isAlive){e.next=13;break}return e.abrupt("return");case 13:a=s.data,R.success("Company details were received!"),this.setState({company:a});case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),R.error(e.t0),401===e.t0.response.data.status&&this.props.history.push("/logout");case 22:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(u.jsx)("div",{className:"CompanyDetails",children:this.state.company&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Company Details"}),Object(u.jsxs)("h3",{children:["Name: ",this.state.company.name]}),Object(u.jsxs)("h4",{children:["Email: ",this.state.company.email]}),Object(u.jsxs)("h4",{children:["Password: ",this.state.company.password]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})})}},{key:"componentWillUnmount",value:function(){this.isAlive=!1}}]),a}(s.Component)),ye=a(208),Ce=a(209),we=a(203),Se=a(218),Ne=a(204),ke=a(205),Ae=a(206),De=a(207),Pe=Object(we.a)((function(e){return{dialogWrapper:{padding:e.spacing(2)},secondary:{color:"#1a1a1a",border:"2px solid #1a1a1a",backgroundColor:"#dbdbdb","&:hover":{color:"#dbdbdb",backgroundColor:"#1a1a1a"}},primary:{color:"#e04226",border:"2px solid #e04226",backgroundColor:"#ffede9","&:hover":{color:"#ffede9",backgroundColor:"#e04226"}}}}));var Me=function(e){var t=e.open,a=e.selectedValue,s=e.onClose,n=e.title,r=Pe(),c=function(e){s(e)};return Object(u.jsxs)(Se.a,{open:t,onClose:function(){s(a)},classes:{paper:r.dialogWrapper},children:[Object(u.jsx)(Ne.a,{children:Object(u.jsx)(H.a,{variant:"h6",component:"div",children:n})}),Object(u.jsxs)(ke.a,{children:[Object(u.jsx)(ne.a,{classes:{root:r.primary},startIcon:Object(u.jsx)(Ae.a,{}),onClick:function(){return c("delete")},children:"Delete"}),Object(u.jsx)(ne.a,{classes:{root:r.secondary},startIcon:Object(u.jsx)(De.a,{}),onClick:function(){return c("cancel")},children:"Cancel"})]})]})};a(136);var Te=function(e){var t=e.company,a=Object(s.useState)(!1),n=Object(K.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)(""),l=Object(K.a)(i,2),d=l[0],p=l[1],j=Object(z.g)(),b=function(){var e=Object(X.a)(Q.a.mark((function e(){var a,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.delete("".concat(je.urls.admin.company).concat(t.id));case 3:L.dispatch((n=t.id,{type:g.CompanyDeleted,payload:n})),R.success("Company has been deleted!"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),R.error(e.t0),401===(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.status)&&j.push("/logout");case 11:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"CompanyCard",children:[Object(u.jsxs)(o.b,{to:"/companies/".concat(t.id),title:"Click for details",children:[Object(u.jsx)("h4",{children:t.name}),Object(u.jsxs)("span",{children:["Email: ",t.email]})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(o.b,{to:"/companies/update/".concat(t.id),children:Object(u.jsx)(ye.a,{})}),Object(u.jsx)(o.b,{to:"#",onClick:function(){c(!0)},children:Object(u.jsx)(Ce.a,{})})]}),Object(u.jsx)(Me,{title:"".concat(je.dialogTitles.deleteItem," ").concat(t.name,"?"),selectedValue:d,open:r,onClose:function(e){c(!1),p(e),"delete"===e&&b()}})]})},Fe=(a(137),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).isAlive=!0,s.unsubscribeCompanyList=void 0,s.state={companies:L.getState().companiesState.companies},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a,s,n=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.unsubscribeCompanyList=L.subscribe((function(){n.setState({companies:L.getState().companiesState.companies})})),e.prev=1,e.next=4,xe.get(je.urls.admin.companies);case 4:if(t=e.sent,this.isAlive){e.next=7;break}return e.abrupt("return");case 7:L.dispatch((r=t.data,{type:g.CompaniesDownloaded,payload:r})),this.setState({companies:t.data}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),R.error(e.t0),401===(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.status)&&this.props.history.push("/logout");case 15:case"end":return e.stop()}var r}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.companies;return Object(u.jsxs)("div",{className:"CompanyList",children:[0===(null===e||void 0===e?void 0:e.length)&&Object(u.jsx)("p",{children:"No companies found in the system"}),(null===e||void 0===e?void 0:e.length)>0&&Object(u.jsxs)("p",{children:[null===e||void 0===e?void 0:e.length," companies found in the system:"]}),Object(u.jsx)(o.b,{to:"/companies/add",children:Object(u.jsx)(he.a,{})}),(null===e||void 0===e?void 0:e.length)>0&&Object(u.jsx)("div",{className:"comp-list",children:null===e||void 0===e?void 0:e.map((function(e){return Object(u.jsx)(Te,{company:e},e.id)}))})]})}},{key:"componentWillUnmount",value:function(){this.isAlive=!1,this.unsubscribeCompanyList()}}]),a}(s.Component));a(138);var Le=function(){var e=Object(s.useState)(null),t=Object(K.a)(e,2),a=t[0],n=t[1],r=Object(z.g)(),c=Object(s.useState)(!0),i=Object(K.a)(c,2),o=i[0],l=i[1];return Object(s.useEffect)((function(){function e(){return(e=Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.get(je.urls.company.details);case 3:if(t=e.sent,o){e.next=6;break}return e.abrupt("return");case 6:n(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),R.error(e.t0),401===e.t0.response.data.status&&r.push("/logout");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){l(!1)}})),Object(u.jsx)("div",{className:"MyCompanyDetails",children:a&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"My Details"}),Object(u.jsxs)("h3",{children:[" Name: ",a.name]}),Object(u.jsxs)("h4",{children:["Email: ",a.email]}),Object(u.jsxs)("h4",{children:["Password: ",a.password]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})})};a(139);var Ie=function(){var e,t,a=Object(de.a)({mode:"all"}),n=a.register,r=a.handleSubmit,c=a.formState.errors,i=a.setValue,o=Object(z.g)(),l=Object(s.useState)({showPassword:!1}),d=Object(K.a)(l,2),p=d[0],j=d[1],b=Object(z.h)().id,m=Object(s.useState)(L.getState().companiesState.companies.find((function(e){return e.id===+b}))),h=Object(K.a)(m,1)[0],O=Object(v.a)({},h),x=function(e){var t=e.target,a=t.name,s=t.value;switch(a){case"email":i("email",s);break;case"password":i("password",s)}};function g(){return(g=Object(X.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(O,t)){e.next=3;break}return R.error("No changes were made!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,xe.put(je.urls.admin.company,t);case 6:a=e.sent,L.dispatch(C(a.data)),R.success("Company has been updated!"),o.push("/companies"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),R.error(e.t0),401===e.t0.response.data.status&&o.push("/logout");case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function f(e,t){var a=!1;return Object.entries(t).forEach((function(t){if(!a){var s=Object.entries(e).find((function(e){return t[0]===e[0]}));t.toString()!==s.toString()&&(a=!0)}})),a}return Object(s.useEffect)((function(){h&&(i("id",h.id),i("name",h.name),i("email",h.email),i("password",h.password))}),[h,i]),Object(u.jsxs)("div",{className:"UpdateCompany",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[Object(u.jsx)(ye.a,{})," Update Company"]}),Object(u.jsxs)("form",{onSubmit:r((function(e){return g.apply(this,arguments)})),children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Name",variant:"outlined",className:"mui-input"},n("name")),{},{defaultValue:null===h||void 0===h?void 0:h.name,disabled:!0})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Email",variant:"outlined",className:"mui-input",type:"email"},n("email",{required:{value:!0,message:"Missing email."},pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Email is not valid."}})),{},{defaultValue:null===h||void 0===h?void 0:h.email,inputProps:{onChange:x},error:!!c.email,helperText:null===(e=c.email)||void 0===e?void 0:e.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Password",variant:"outlined",className:"mui-input"},n("password",{required:{value:!0,message:"Missing password."},minLength:{value:4,message:"Password too short, should be at least 4 characters."},pattern:{value:/^[a-zA-Z0-9]+$/gi,message:"Use only the following characters: [a-zA-Z0-9]."}})),{},{type:p.showPassword?"text":"password",defaultValue:null===h||void 0===h?void 0:h.password,InputProps:{endAdornment:Object(u.jsx)(te.a,{position:"end",children:Object(u.jsx)(ae.a,{"aria-label":"toggle password visibility",onClick:function(){j(Object(v.a)(Object(v.a)({},p),{},{showPassword:!p.showPassword}))},edge:"end",children:p.showPassword?Object(u.jsx)(ce.a,{}):Object(u.jsx)(ie.a,{})})}),onChange:x},error:!!c.password,helperText:null===(t=c.password)||void 0===t?void 0:t.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)(se.a,{variant:"contained",children:[Object(u.jsx)(ne.a,{className:"send",startIcon:Object(u.jsx)(oe.a,{}),type:"submit",children:"Update"}),Object(u.jsx)(ne.a,{className:"reset",startIcon:Object(u.jsx)(ve.a,{}),type:"reset",children:"Reset"})]})]})]})},Ue=a(211),Ee=a(217),Ve=a(210),ze=a(212),He=(a(140),Object(we.a)((function(e){return{Checkbox:{"&:checked":{backgroundColor:"#ff9c8b"},color:"#ff9c8b",filter:"invert(36%) sepia(77%) saturate(1565%) hue-rotate(342deg) brightness(86%) contrast(104%)"}}})));var qe,$e=function(){var e=He();return Object(u.jsxs)("div",{className:"ContactUs",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[" ",Object(u.jsx)(Ve.a,{})," Contact Us"]}),Object(u.jsxs)(H.a,{variant:"body2",children:["This form is not supported.",Object(u.jsx)("br",{}),"It will not be sent by pressing the submit button."]}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,{label:"Name",variant:"outlined",className:"mui-input bgc-white"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,{label:"Email",variant:"outlined",type:"email",className:"mui-input bgc-white"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,{label:"Message",variant:"outlined",className:"mui-input bgc-white",multiline:!0,rows:"3"}),Object(u.jsx)("br",{}),Object(u.jsx)(Ue.a,{className:"mui-input",label:"Send me promotional emails",control:Object(u.jsx)(Ee.a,{color:"primary",classes:{root:e.Checkbox}})}),Object(u.jsx)("br",{}),Object(u.jsxs)(se.a,{variant:"contained",children:[Object(u.jsx)(ne.a,{className:"send",startIcon:Object(u.jsx)(oe.a,{}),type:"button",children:"Send"}),Object(u.jsx)(ne.a,{className:"cancel",startIcon:Object(u.jsx)(ze.a,{}),type:"reset",children:"Cancel"})]})]})},We=a(222),Be=a(221),Ze=a(220),Re=a(194);!function(e){e.FOOD="FOOD",e.ELECTRICITY="ELECTRICITY",e.RESTAURANT="RESTAURANT",e.VACATION="VACATION",e.CLOTHING="CLOTHING"}(qe||(qe={}));var Ye=new(function(){function e(){Object(p.a)(this,e)}return Object(j.a)(e,[{key:"capitalize",value:function(e){return e.charAt(0).toLocaleUpperCase().concat(e.substring(1).toLocaleLowerCase())}},{key:"getDateDisplay",value:function(e){return e.toString().split("-").reverse().join("/")}},{key:"getEndOfDay",value:function(e){var t=new Date(Date.parse(e.toString())),a=[t.getMonth(),t.getDate(),t.getFullYear()];return new Date(a[2],a[0],a[1],23,59,59)}}]),e}()),Je=(a(141),Object(we.a)((function(e){return Object(We.a)({container:{display:"flex",flexWrap:"wrap"},textField:{maxWidth:250},input:{backgroundColor:"#ffffff"}})})));var _e=function(){var e,t,a,n,r,c,i,o,l=Object(de.a)({mode:"all"}),d=l.register,p=l.handleSubmit,j=l.formState.errors,b=l.getValues,m=Object(z.g)(),h=Je(),O=Object(s.useState)("ChooseOne"),x=Object(K.a)(O,2),g=x[0],f=x[1];function y(){return(y=Object(X.a)(Q.a.mark((function e(t){var a,s,n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("title",t.title),a.append("description",t.description),a.append("category",t.category.toString()),a.append("startDate",t.startDate.toString()),a.append("endDate",t.endDate.toString()),a.append("amount",t.amount.toString()),a.append("price",t.price.toString()),a.append("imageFile",t.imageFile.item(0)),e.next=12,xe.post(je.urls.company.coupon,a);case 12:s=e.sent,L.dispatch(k(s.data)),R.success("Coupon has been added!"),m.push("/company/coupons"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),R.error(e.t0),401===(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.status)&&m.push("/logout");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"AddCoupon",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[Object(u.jsx)(he.a,{})," Add Coupon"]}),Object(u.jsxs)("form",{onSubmit:p((function(e){return y.apply(this,arguments)})),children:[Object(u.jsxs)("div",{className:"grid",children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Title",variant:"outlined",className:h.textField},d("title",{required:{value:!0,message:"Missing title."},minLength:{value:3,message:"Title too short."},pattern:{value:/^[a-zA-Z0-9 !?$%)(+-]+$/g,message:"Use only [a-zA-Z0-9!?$%)(+-] and space."}})),{},{InputProps:{className:h.input},error:!!j.title,helperText:null===(e=j.title)||void 0===e?void 0:e.message})),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Description",variant:"outlined",className:h.textField,type:"textarea",multiline:!0,rows:"3",rowsMax:4},d("description",{required:{value:!0,message:"Missing description."},pattern:{value:/^[\w!?$%., /%&\r\n)*(+-]+$/g,message:"Use only [a-zA-Z0-9!?$%., /%&)*(+-] and white spaces."}})),{},{InputProps:{className:h.input},error:!!j.description,helperText:null===(t=j.description)||void 0===t?void 0:t.message})),Object(u.jsxs)("div",{className:"numbers",children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Amount",variant:"outlined",className:h.textField,type:"number"},d("amount",{required:{value:!0,message:"Missing amount."},pattern:{value:/^[1-9]\d*$/g,message:"Use only positive whole number."}})),{},{InputLabelProps:{shrink:!0},InputProps:{className:h.input},error:!!j.amount,helperText:null===(a=j.amount)||void 0===a?void 0:a.message})),"\xa0",Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Price",variant:"outlined",className:h.textField,type:"number"},d("price",{required:{value:!0,message:"Missing price."},pattern:{value:/^[1-9]\d*\.?\d*$/g,message:"Use only positive numbers including decimals."}})),{},{InputLabelProps:{shrink:!0},InputProps:{className:h.input},inputProps:{step:.01,min:0,startadornment:Object(u.jsx)(te.a,{position:"start",children:"$"})},error:!!j.price,helperText:null===(n=j.price)||void 0===n?void 0:n.message}))]}),Object(u.jsxs)(ee.a,Object(v.a)(Object(v.a)({name:"category",select:!0,className:h.textField,label:"Please select a category",variant:"outlined",onChange:function(e){f(e.target.value)},SelectProps:{native:!0}},d("category",{required:{value:!0,message:"Category is required."},pattern:{value:/^((?!ChooseOne).)*$/,message:"Choose any of the options but the first."}})),{},{InputProps:{className:h.input},defaultValue:g,error:!!j.category,helperText:null===(r=j.category)||void 0===r?void 0:r.message,children:[Object(u.jsx)("option",{value:"ChooseOne",children:"Choose"}),Object.values(qe).map((function(e){return Object(u.jsx)("option",{value:e,children:Ye.capitalize(e)},e)}))]})),Object(u.jsxs)("div",{className:"dates",children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"StartDate",variant:"outlined",className:h.textField,type:"date",InputLabelProps:{shrink:!0}},d("startDate",{required:{value:!0,message:"Missing start date."},validate:{cannotBeInThePast:function(e){var t=Ye.getEndOfDay(e);return Date.parse(t.toString())>=Date.now()||"Start date cannot be in the past"},compareToEndDate:function(e){var t=b().endDate;return!t||(Date.parse(e.toString())<=Date.parse(t.toString())||"The start date should precede the end date")}}})),{},{InputProps:{className:h.input},error:!!j.startDate,helperText:null===(c=j.startDate)||void 0===c?void 0:c.message})),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"EndDate",variant:"outlined",className:h.textField,type:"date",InputLabelProps:{shrink:!0}},d("endDate",{required:{value:!0,message:"Missing end date."},validate:{cannotBeInThePast:function(e){return Date.parse(e.toString())>=Date.now()||"End date cannot be in the past"},compareToStartDate:function(e){var t=b().startDate;return!t||(Date.parse(t.toString())<=Date.parse(e.toString())||"The end date should come after the start date")}}})),{},{InputProps:{className:h.input},error:!!j.endDate,helperText:null===(i=j.endDate)||void 0===i?void 0:i.message}))]}),Object(u.jsxs)(Be.a,{variant:"outlined",className:h.textField,children:[Object(u.jsx)(Ze.a,{disabled:!0,className:"mui-input",label:"Image"}),Object(u.jsx)("input",Object(v.a)({className:"MuiInputBase-input MuiOutlinedInput-input file-input",type:"file",name:"image",accept:"image/*"},d("imageFile",{required:{value:!0,message:"Missing image."}}))),Object(u.jsx)(Re.a,{children:null===(o=j.imageFile)||void 0===o?void 0:o.message})]})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(se.a,{variant:"contained",children:[Object(u.jsx)(ne.a,{className:"send",startIcon:Object(u.jsx)(oe.a,{}),type:"submit",children:"Add"}),Object(u.jsx)(ne.a,{className:"reset",startIcon:Object(u.jsx)(ve.a,{}),type:"reset",children:"Reset"})]})]})]})},Ge=a(213),Qe=a(214);a(142);var Xe=function(e){var t=Object(z.g)(),a=e.coupon,n=Object(s.useState)(!1),r=Object(K.a)(n,2),c=r[0],i=r[1],l=Object(s.useState)(""),d=Object(K.a)(l,2),p=d[0],j=d[1],b=function(){var e=Object(X.a)(Q.a.mark((function e(){var s,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.delete("".concat(je.urls.company.coupon).concat(a.id));case 3:L.dispatch((r=a.id,{type:w.CouponDeleted,payload:r})),R.success("Coupon has been deleted!"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),R.error(e.t0),401===(null===(s=e.t0.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.status)&&t.push("/logout");case 11:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(X.a)(Q.a.mark((function e(){var s,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.put("".concat(je.urls.customer.purchaseCoupon).concat(a.id));case 3:R.success("Coupon has been successfully purchased! You can see it in 'My coupons'."),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),R.error(e.t0),401===(null===(s=e.t0.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.status)&&t.push("/logout");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"CouponCard",children:[Object(u.jsxs)(o.b,{to:e.detailsURL,title:"Click for details",children:[(null===a||void 0===a?void 0:a.image)&&Object(u.jsx)(Ge.a,{className:"media",image:null===a||void 0===a?void 0:a.image,title:null===a||void 0===a?void 0:a.title}),Object(u.jsx)("h4",{children:null===a||void 0===a?void 0:a.title}),Object(u.jsx)("span",{children:null===a||void 0===a?void 0:a.description})]}),e.userType===U.COMPANY&&Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(o.b,{to:"/company/coupons/update/".concat(null===a||void 0===a?void 0:a.id),children:Object(u.jsx)(ye.a,{})}),Object(u.jsx)(o.b,{to:"#",onClick:function(){i(!0)},children:Object(u.jsx)(Ce.a,{})})]}),e.showPurchase&&Object(u.jsx)("div",{className:"buttons",children:Object(u.jsx)(o.b,{to:"#",onClick:m,children:Object(u.jsx)(Qe.a,{})})}),Object(u.jsx)(Me,{title:"".concat(je.dialogTitles.deleteItem," '").concat(null===a||void 0===a?void 0:a.title,"'?"),selectedValue:p,open:c,onClose:function(e){i(!1),j(e),"delete"===e&&b()}})]})},Ke=(a(143),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).isAlive=!0,s.unsubscribeCompanyCouponList=void 0,s.setFilterBy=function(e){s.setState({filterBy:e})},s.setFilterSelectedValue=function(e){s.setState({filterSelectedValue:e})},s.handleChangeFilter=function(e){var t=e.target.value;switch(t){case"price":case"All":s.setFilterBy(t),s.setFilterSelectedValue(null);break;default:s.setFilterBy("category"),s.setFilterSelectedValue(t.toLowerCase())}},s.handleChangeMaxPrice=function(e){s.setFilterSelectedValue(+e.target.value)},s.state={coupons:L.getState().couponsState.coupons,filterBy:"All",filterSelectedValue:null},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a,s,n=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.unsubscribeCompanyCouponList=L.subscribe((function(){n.setState({coupons:L.getState().couponsState.coupons})})),e.prev=1,e.next=4,xe.get(je.urls.company.coupons);case 4:if(t=e.sent,this.isAlive){e.next=7;break}return e.abrupt("return");case 7:L.dispatch(N(t.data)),this.setState({coupons:t.data}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),R.error(e.t0),401===(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.status)&&this.props.history.push("/logout");case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCouponsForDisplay",value:function(){var e=this;return this.state.coupons&&0!==this.state.coupons.length?"All"===this.state.filterBy?this.state.coupons:this.state.coupons.filter((function(t){var a=e.state.filterSelectedValue;return"price"===e.state.filterBy?t.price<=a:t.category.toLowerCase().includes(a.toLowerCase())})):[]}},{key:"render",value:function(){var e=this,t=this.getCouponsForDisplay(),a=this.state.filterSelectedValue,s=this.state.filterBy,n="category",r="price";return Object(u.jsxs)("div",{className:"CompanyCouponList",children:[0===(null===t||void 0===t?void 0:t.length)&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{children:["No coupons found in the system",s===n&&Object(u.jsxs)("span",{children:[" for ","".concat(a," ").concat(n)]}),s===r&&Object(u.jsxs)("span",{children:[" with up to $","".concat(a||0," ").concat(r)]})]})}),(null===t||void 0===t?void 0:t.length)>0&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{children:[null===t||void 0===t?void 0:t.length," coupons found in the system:"]})}),Object(u.jsx)(o.b,{to:"/company/coupons/add",children:Object(u.jsx)(he.a,{})}),Object(u.jsxs)(ee.a,{name:"category",select:!0,className:"mui-select",label:"Filter by category",variant:"outlined",SelectProps:{native:!0,onChange:function(t){e.handleChangeFilter(t)}},children:[Object(u.jsx)("option",{value:"All",children:"All"}),Object.values(qe).map((function(e){return Object(u.jsx)("option",{value:e,children:Ye.capitalize(e)},e)})),Object(u.jsx)("option",{value:"price",children:"Price"})]}),s===r&&Object(u.jsxs)(u.Fragment,{children:["\xa0",Object(u.jsx)(ee.a,{label:"Max Price",variant:"outlined",className:"mui-select",type:"number",InputLabelProps:{shrink:!0},inputProps:{step:.01,min:0,startadornment:Object(u.jsx)(te.a,{position:"start",children:"$"}),onChange:function(t){return e.handleChangeMaxPrice(t)}}})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),(null===t||void 0===t?void 0:t.length)>0&&Object(u.jsx)("div",{className:"coupon-list",children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(Xe,{coupon:e,detailsURL:"/company/coupons/".concat(e.id),userType:U.COMPANY},"co".concat(e.id))}))})]})}},{key:"componentWillUnmount",value:function(){this.isAlive=!1,this.unsubscribeCompanyCouponList()}}]),a}(s.Component)),et=(a(144),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={coupon:null},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a,s,n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=+this.props.match.params.id,!(a=L.getState().couponsState.coupons.find((function(e){return e.id===t})))){e.next=7;break}this.setState({coupon:a}),e.next=18;break;case 7:if(!(t>0)){e.next=18;break}return s=L.getState().authState.user.userType,n="",s===U.COMPANY&&(n=je.urls.company.coupon),s===U.CUSTOMER&&(n=je.urls.customer.coupon),e.next=14,xe.get("".concat(n,"/").concat(t));case 14:r=e.sent,a=r.data,R.success("Coupon details were received!"),this.setState({coupon:a});case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),R.error(e.t0),401===e.t0.response.data.status&&this.props.history.push("/logout");case 24:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.coupon,t=(null===e||void 0===e?void 0:e.startDate)?Ye.getDateDisplay(e.startDate):"",a=(null===e||void 0===e?void 0:e.endDate)?Ye.getDateDisplay(e.endDate):"";return Object(u.jsx)("div",{className:"CouponDetails",children:e&&Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:null===e||void 0===e?void 0:e.title,title:null===e||void 0===e?void 0:e.title})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Coupon Details"}),Object(u.jsxs)("p",{children:["Title: ",Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"title",children:null===e||void 0===e?void 0:e.title})]}),Object(u.jsxs)("p",{children:["Description:",Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"bold-small",children:null===e||void 0===e?void 0:e.description})]}),Object(u.jsxs)("p",{children:["Category: \xa0",Object(u.jsx)("span",{className:"bold-small",children:null===e||void 0===e?void 0:e.category})]}),Object(u.jsxs)("p",{children:["Start date: \xa0",Object(u.jsx)("span",{className:"bold-small",children:t})]}),Object(u.jsxs)("p",{children:["End date: \xa0",Object(u.jsx)("span",{className:"bold-small",children:a})]}),Object(u.jsxs)("p",{children:["Amount: \xa0",Object(u.jsx)("span",{className:"bold-small",children:null===e||void 0===e?void 0:e.amount})]}),Object(u.jsxs)("p",{children:["Price: \xa0",Object(u.jsxs)("span",{className:"bold-small",children:["$",null===e||void 0===e?void 0:e.price]})]})]})]})})}}]),a}(s.Component)),tt=(a(145),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).isAlive=!0,s.unsubscribeCustomerCouponList=void 0,s.setFilterBy=function(e){s.setState({filterBy:e})},s.setFilterSelectedValue=function(e){s.setState({filterSelectedValue:e})},s.handleChangeMaxPrice=function(e){s.setFilterSelectedValue(+e.target.value)},s.setListSelectedValue=function(e){s.setState({listSelected:e})},s.handleChangeList=function(e){var t=e.target.value;switch(t){case"LastChance":s.setListSelectedValue(t),s.getCouponList(je.urls.customer.couponsAboutToExpire);break;case"MyCoupons":s.setListSelectedValue(t),s.getCouponList(je.urls.customer.coupons);break;case"BuyCoupons":s.setListSelectedValue(t),s.getCouponList(je.urls.customer.couponsCanPurchase)}},s.handleChangeFilter=function(e){var t=e.target.value;switch(t){case"price":case"All":s.setFilterBy(t),s.setFilterSelectedValue(null);break;default:s.setFilterBy("category"),s.setFilterSelectedValue(t.toLowerCase())}},s.state={coupons:L.getState().couponsState.coupons,listSelected:"LastChance",filterBy:"All",filterSelectedValue:null},s}return Object(j.a)(a,[{key:"getCouponList",value:function(){var e=Object(X.a)(Q.a.mark((function e(t){var a,s,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.get(t);case 3:if(a=e.sent,this.isAlive){e.next=6;break}return e.abrupt("return");case 6:L.dispatch(N(a.data)),this.setState({coupons:a.data}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),R.error(e.t0),401===(null===(s=e.t0.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.status)&&this.props.history.push("/logout");case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unsubscribeCustomerCouponList=L.subscribe((function(){t.setState({coupons:L.getState().couponsState.coupons})})),this.getCouponList(je.urls.customer.couponsAboutToExpire);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCouponsForDisplay",value:function(){var e=this;return this.state.coupons&&0!==this.state.coupons.length?"All"===this.state.filterBy?this.state.coupons:this.state.coupons.filter((function(t){var a=e.state.filterSelectedValue;return"price"===e.state.filterBy?t.price<=a:t.category.toLowerCase().includes(a.toLowerCase())})):[]}},{key:"render",value:function(){var e=this,t=this.getCouponsForDisplay(),a=this.state.filterSelectedValue,s=this.state.filterBy,n=this.state.listSelected,r="category",c="price";return Object(u.jsxs)("div",{className:"CustomerCouponList",children:[0===(null===t||void 0===t?void 0:t.length)&&Object(u.jsxs)("p",{children:["No coupons found in the system",s===r&&Object(u.jsxs)("span",{children:[" for ","".concat(a," ").concat(r)]}),s===c&&Object(u.jsxs)("span",{children:[" with up to $","".concat(a||0," ").concat(c)]})]}),(null===t||void 0===t?void 0:t.length)>0&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{children:[null===t||void 0===t?void 0:t.length," coupons found in the system:"]})}),Object(u.jsx)("br",{}),Object(u.jsxs)(ee.a,{name:"list",select:!0,className:"mui-select",label:"Show coupons by",variant:"outlined",SelectProps:{native:!0,onChange:function(t){e.handleChangeList(t)}},children:[Object(u.jsx)("option",{value:"LastChance",children:"Last chance"}),Object(u.jsx)("option",{value:"MyCoupons",children:"My coupons"}),Object(u.jsx)("option",{value:"BuyCoupons",children:"Buy coupons"})]}),"\xa0",Object(u.jsxs)(ee.a,{name:"category",select:!0,className:"mui-select",label:"Filter by",variant:"outlined",SelectProps:{native:!0,onChange:function(t){e.handleChangeFilter(t)}},children:[Object(u.jsx)("option",{value:"All",children:"All"}),Object.values(qe).map((function(e){return Object(u.jsx)("option",{value:e,children:Ye.capitalize(e)},e)})),Object(u.jsx)("option",{value:"price",children:"Price"})]}),s===c&&Object(u.jsxs)(u.Fragment,{children:["\xa0",Object(u.jsx)(ee.a,{label:"Max Price",variant:"outlined",className:"mui-select",type:"number",InputLabelProps:{shrink:!0},inputProps:{step:.01,min:0,startadornment:Object(u.jsx)(te.a,{position:"start",children:"$"}),onChange:function(t){return e.handleChangeMaxPrice(t)}}})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),(null===t||void 0===t?void 0:t.length)>0&&Object(u.jsx)("div",{className:"coupon-list",children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(Xe,{coupon:e,showPurchase:"MyCoupons"!==n,detailsURL:"/customer/coupons/".concat(e.id),userType:U.CUSTOMER},"cu".concat(e.id))}))})]})}},{key:"componentWillUnmount",value:function(){this.isAlive=!1,this.unsubscribeCustomerCouponList()}}]),a}(s.Component)),at=(a(146),Object(we.a)((function(e){return Object(We.a)({container:{display:"flex",flexWrap:"wrap"},textField:{maxWidth:250},input:{backgroundColor:"#ffffff"}})})));var st=function(){var e,t,a,n,r,c,i,o,l=Object(de.a)({mode:"all"}),d=l.register,p=l.handleSubmit,j=l.formState.errors,b=l.setValue,m=l.getValues,h=Object(z.g)(),O=at(),x=+Object(z.h)().id,g=Object(s.useState)(L.getState().couponsState.coupons.find((function(e){return e.id===x}))),f=Object(K.a)(g,1)[0],y=Object(v.a)({},f),C=function(e){var t=e.target,a=t.name,s=t.value;switch(a){case"title":b("title",s);break;case"description":b("description",s);break;case"amount":b("amount",+s);break;case"price":b("price",+s);break;case"category":b("category",qe[s]);break;case"startDate":b("startDate",new Date(s));break;case"endDate":b("endDate",new Date(s))}};function w(){return(w=Object(X.a)(Q.a.mark((function e(t){var a,s,n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(y,t)){e.next=3;break}return R.error("No changes were made!"),e.abrupt("return");case 3:return e.prev=3,(a=new FormData).append("id",t.id.toString()),a.append("title",t.title),a.append("description",t.description),a.append("category",t.category.toString()),a.append("startDate",t.startDate.toString()),a.append("endDate",t.endDate.toString()),a.append("amount",t.amount.toString()),a.append("price",t.price.toString()),a.append("image",t.image),t.imageFile.length>0&&a.append("imageFile",t.imageFile.item(0)),e.next=17,xe.put(je.urls.company.coupon,a);case 17:s=e.sent,L.dispatch(A(s.data)),R.success("Coupon has been updated!"),h.push("/company/coupons"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(3),R.error(e.t0),401===(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.status)&&h.push("/logout");case 27:case"end":return e.stop()}}),e,null,[[3,23]])})))).apply(this,arguments)}function S(e,t){var a=!1;return Object.entries(t).forEach((function(t){if(!a){var s=Object.entries(e).find((function(e){return t[0]===e[0]}));t[1]instanceof FileList?t[1].length>0&&(a=!0):t.toString()!==s.toString()&&(a=!0)}})),a}return Object(s.useEffect)((function(){f&&(b("id",x),b("title",f.title),b("description",f.description),b("amount",f.amount),b("price",f.price),b("category",f.category),b("startDate",f.startDate),b("endDate",f.endDate),b("image",f.image))}),[f,x,b]),Object(u.jsxs)("div",{className:"UpdateCoupon",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[" ",Object(u.jsx)(ye.a,{})," Update Coupon"]}),Object(u.jsxs)("form",{onSubmit:p((function(e){return w.apply(this,arguments)})),children:[Object(u.jsxs)("div",{className:"grid",children:[Object(u.jsxs)("div",{className:"texts",children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Title",variant:"outlined",className:O.textField},d("title",{required:{value:!0,message:"Missing title."},minLength:{value:3,message:"Title too short."},pattern:{value:/^[a-zA-Z0-9 !?$%)(+-]+$/g,message:"Use only [a-zA-Z0-9!?$%)(+-] and space."}})),{},{InputProps:{className:O.input},inputProps:{onChange:C},defaultValue:null===f||void 0===f?void 0:f.title,error:!!j.title,helperText:null===(e=j.title)||void 0===e?void 0:e.message})),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Description",variant:"outlined",className:O.textField,type:"textarea",multiline:!0,rows:"3",rowsMax:4},d("description",{required:{value:!0,message:"Missing description."},pattern:{value:/^[\w!?$%., /%&\r\n)*(+-]+$/g,message:"Use only [a-zA-Z0-9!?$%., /%&)*(+-] and white spaces."}})),{},{InputProps:{className:O.input},inputProps:{onChange:C},defaultValue:null===f||void 0===f?void 0:f.description,error:!!j.description,helperText:null===(t=j.description)||void 0===t?void 0:t.message}))]}),Object(u.jsxs)("div",{className:"dates",children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"StartDate",variant:"outlined",className:O.textField,type:"date"},d("startDate",{required:{value:!0,message:"Missing start date."},validate:{compareToEndDate:function(e){var t=m().endDate;return!t||(Date.parse(e.toString())<=Date.parse(t.toString())||"The start date should precede the end date")}}})),{},{InputLabelProps:{shrink:!0},InputProps:{className:O.input},inputProps:{onChange:C},defaultValue:null===f||void 0===f?void 0:f.startDate,error:!!j.startDate,helperText:null===(a=j.startDate)||void 0===a?void 0:a.message})),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"EndDate",variant:"outlined",className:O.textField,type:"date"},d("endDate",{required:{value:!0,message:"Missing end date."},validate:{compareToStartDate:function(e){var t=m().startDate;return!t||(Date.parse(t.toString())<=Date.parse(e.toString())||"The end date should come after the start date")}}})),{},{InputLabelProps:{shrink:!0},InputProps:{className:O.input},inputProps:{onChange:C},defaultValue:null===f||void 0===f?void 0:f.endDate,error:!!j.endDate,helperText:null===(n=j.endDate)||void 0===n?void 0:n.message}))]}),Object(u.jsxs)(ee.a,Object(v.a)(Object(v.a)({name:"category",select:!0,className:O.textField,label:"Please select a category",variant:"outlined"},d("category",{required:{value:!0,message:"Category is required."},pattern:{value:/^((?!ChooseOne).)*$/,message:"Choose any of the options but the first."}})),{},{SelectProps:{native:!0},InputProps:{className:O.input},inputProps:{onChange:C},defaultValue:null===f||void 0===f?void 0:f.category,error:!!j.category,helperText:null===(r=j.category)||void 0===r?void 0:r.message,children:[Object(u.jsx)("option",{value:"ChooseOne",children:"Choose"}),Object.values(qe).map((function(e){return Object(u.jsx)("option",{value:e,children:Ye.capitalize(e)},e)}))]})),Object(u.jsxs)("div",{className:"numbers",children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Amount",variant:"outlined",className:O.textField,type:"number"},d("amount",{required:{value:!0,message:"Missing amount."},pattern:{value:/^[1-9]\d*$/g,message:"Use only positive whole number."}})),{},{InputLabelProps:{shrink:!0},InputProps:{className:O.input},inputProps:{onChange:C},defaultValue:null===f||void 0===f?void 0:f.amount,error:!!j.amount,helperText:null===(c=j.amount)||void 0===c?void 0:c.message})),"\xa0",Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Price",variant:"outlined",className:O.textField,type:"number"},d("price",{required:{value:!0,message:"Missing price."},pattern:{value:/^[1-9]\d*\.?\d*$/g,message:"Use only positive numbers including decimals."}})),{},{InputLabelProps:{shrink:!0},InputProps:{className:O.input},inputProps:{step:.01,min:0,startadornment:Object(u.jsx)(te.a,{position:"start",children:"$"}),onChange:C},defaultValue:null===f||void 0===f?void 0:f.price,error:!!j.price,helperText:null===(i=j.price)||void 0===i?void 0:i.message}))]}),Object(u.jsxs)("div",{className:"files",children:[(null===f||void 0===f?void 0:f.image)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:O.textField,src:null===f||void 0===f?void 0:f.image,alt:null===f||void 0===f?void 0:f.title,title:null===f||void 0===f?void 0:f.title}),Object(u.jsx)("br",{})]}),Object(u.jsxs)(Be.a,{variant:"outlined",className:O.textField,children:[Object(u.jsx)(Ze.a,{disabled:!0,className:"mui-input",label:"Image"}),Object(u.jsx)("input",Object(v.a)({className:"MuiInputBase-input MuiOutlinedInput-input file-input",type:"file",name:"image",accept:"image/*"},d("imageFile"))),Object(u.jsx)(Re.a,{children:null===(o=j.imageFile)||void 0===o?void 0:o.message})]})]})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(se.a,{variant:"contained",children:[Object(u.jsx)(ne.a,{className:"send",startIcon:Object(u.jsx)(oe.a,{}),type:"submit",children:"Update"}),Object(u.jsx)(ne.a,{className:"reset",startIcon:Object(u.jsx)(ve.a,{}),type:"reset",children:"Reset"})]})]})]})};a(147);var nt=function(){var e,t,a,n,r=Object(de.a)({mode:"all"}),c=r.register,i=r.handleSubmit,o=r.formState,l=o.errors,d=o.isValid,p=Object(z.g)(),j=Object(s.useState)(!1),b=Object(K.a)(j,2),m=b[0],h=b[1];function O(){return(O=Object(X.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.post(je.urls.admin.customer,t);case 3:a=e.sent,L.dispatch(M(a.data)),R.success("Customer has been added!"),p.push("/customers"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),R.error(e.t0),401===e.t0.response.data.status&&p.push("/logout");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"AddCustomer",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[" ",Object(u.jsx)(he.a,{})," Add Customer"]}),Object(u.jsxs)("form",{onSubmit:i((function(e){return O.apply(this,arguments)})),children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"FirstName",variant:"outlined",className:"mui-input"},c("firstName",{required:{value:!0,message:"Missing first name."},minLength:{value:3,message:"First name too short."},pattern:{value:/[^\W ]/g,message:"Use only alphanumeric & underscore characters and space."}})),{},{error:!!l.firstName,helperText:null===(e=l.firstName)||void 0===e?void 0:e.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"LastName",variant:"outlined",className:"mui-input"},c("lastName",{required:{value:!0,message:"Missing last name."},minLength:{value:3,message:"Last name too short."},pattern:{value:/[^\W ]/g,message:"Use only alphanumeric & underscore characters and space."}})),{},{error:!!l.lastName,helperText:null===(t=l.lastName)||void 0===t?void 0:t.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Email",variant:"outlined",className:"mui-input"},c("email",{required:{value:!0,message:"Missing email."},pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Email is not valid."}})),{},{error:!!l.email,helperText:null===(a=l.email)||void 0===a?void 0:a.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Password",variant:"outlined",className:"mui-input"},c("password",{required:{value:!0,message:"Missing password."},minLength:{value:4,message:"Password too short, should be at least 4 characters."},pattern:{value:/^[a-zA-Z0-9]+$/gi,message:"Use only the following characters: [a-zA-Z0-9]."}})),{},{type:m?"text":"password",InputProps:{endAdornment:Object(u.jsx)(te.a,{position:"end",children:Object(u.jsx)(ae.a,{"aria-label":"toggle password visibility",onClick:function(){h(!m)},edge:"end",children:m?Object(u.jsx)(ce.a,{}):Object(u.jsx)(ie.a,{})})})},error:!!l.password,helperText:null===(n=l.password)||void 0===n?void 0:n.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)(se.a,{variant:"contained",children:[Object(u.jsx)(ne.a,{className:"send",startIcon:Object(u.jsx)(oe.a,{}),type:"submit",disabled:!d,children:"Add"}),Object(u.jsx)(ne.a,{className:"reset",startIcon:Object(u.jsx)(ve.a,{}),type:"reset",children:"Reset"})]})]})]})},rt=(a(148),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={customer:null},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=+this.props.match.params.id,!(a=L.getState().customersState.customers.find((function(e){return e.id===t})))){e.next=7;break}this.setState({customer:a}),e.next=14;break;case 7:if(!(t>0)){e.next=14;break}return e.next=10,xe.get("".concat(je.urls.admin.customer,"/").concat(t));case 10:s=e.sent,a=s.data,R.success("Customer details were received!"),this.setState({customer:a});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),R.error(e.t0),401===e.t0.response.data.status&&this.props.history.push("/logout");case 20:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(u.jsx)("div",{className:"CustomerDetails",children:this.state.customer&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Customer Details"}),Object(u.jsxs)("h3",{children:["First name: ",this.state.customer.firstName]}),Object(u.jsxs)("h3",{children:["Last name: ",this.state.customer.lastName]}),Object(u.jsxs)("h4",{children:["Email: ",this.state.customer.email]}),Object(u.jsxs)("h4",{children:["Password: ",this.state.customer.password]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})})}}]),a}(s.Component));a(149);var ct=function(e){var t=e.customer,a=Object(s.useState)(!1),n=Object(K.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)(""),l=Object(K.a)(i,2),d=l[0],p=l[1],j=Object(z.g)(),b=function(){var e=Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.delete("".concat(je.urls.admin.customer).concat(t.id));case 3:L.dispatch((a=t.id,{type:D.CustomerDeleted,payload:a})),R.success("Customer was deleted!"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),R.error(e.t0),401===e.t0.response.data.status&&j.push("/logout");case 11:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"CustomerCard",children:[Object(u.jsxs)(o.b,{to:"/customers/".concat(t.id),title:"Click for details",children:[Object(u.jsxs)("h4",{children:[t.firstName," ",t.lastName]}),Object(u.jsxs)("span",{children:["Email: ",t.email]})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(o.b,{to:"/customers/update/".concat(t.id),children:Object(u.jsx)(ye.a,{})}),Object(u.jsx)(o.b,{to:"#",onClick:function(){c(!0)},children:Object(u.jsx)(Ce.a,{})})]}),Object(u.jsx)(Me,{title:"".concat(je.dialogTitles.deleteItem," ").concat(t.firstName," ").concat(t.lastName,"?"),selectedValue:d,open:r,onClose:function(e){c(!1),p(e),"delete"===e&&b()}})]})},it=(a(150),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).isAlive=!0,s.unsubscribeCustomerList=void 0,s.state={customers:L.getState().customersState.customers},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a,s,n=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.unsubscribeCustomerList=L.subscribe((function(){n.setState({customers:L.getState().customersState.customers})})),e.prev=1,e.next=4,xe.get(je.urls.admin.customers);case 4:if(t=e.sent,this.isAlive){e.next=7;break}return e.abrupt("return");case 7:L.dispatch((r=t.data,{type:D.CustomersDownloaded,payload:r})),this.setState({customers:t.data}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),R.error(e.t0),401===(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.status)&&this.props.history.push("/logout");case 15:case"end":return e.stop()}var r}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.customers;return Object(u.jsxs)("div",{className:"CustomerList",children:[0===e.length&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{children:"No customers found in the system"})}),e.length>0&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{children:[e.length," customers found in the system:"]})}),Object(u.jsx)(o.b,{to:"/customers/add",children:Object(u.jsx)(he.a,{})}),e.length>0&&Object(u.jsx)("div",{className:"cus-list",children:e.map((function(e){return Object(u.jsx)(ct,{customer:e},e.id)}))})]})}},{key:"componentWillUnmount",value:function(){this.isAlive=!1,this.unsubscribeCustomerList()}}]),a}(s.Component));a(151);var ot=function(){var e=Object(s.useState)(null),t=Object(K.a)(e,2),a=t[0],n=t[1],r=Object(z.g)(),c=Object(s.useState)(!0),i=Object(K.a)(c,2),o=i[0],l=i[1];return Object(s.useEffect)((function(){function e(){return(e=Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.get(je.urls.customer.details);case 3:if(t=e.sent,o){e.next=6;break}return e.abrupt("return");case 6:n(t.data),R.success("Customer details were received!"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),R.error(e.t0),401===e.t0.response.data.status&&r.push("/logout");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){l(!1)}}),[r,o]),Object(u.jsx)("div",{className:"MyCustomerDetails",children:a&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"My Details"}),Object(u.jsxs)("h3",{children:["First name: ",a.firstName]}),Object(u.jsxs)("h3",{children:["Last name: ",a.lastName]}),Object(u.jsxs)("h4",{children:["Email: ",a.email]}),Object(u.jsxs)("h4",{children:["Password: ",a.password]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})})};a(152);var ut=function(){var e,t,a,n,r=Object(de.a)({mode:"all"}),c=r.register,i=r.handleSubmit,o=r.formState.errors,l=r.setValue,d=Object(z.g)(),p=Object(s.useState)({showPassword:!1}),j=Object(K.a)(p,2),b=j[0],m=j[1],h=Object(z.h)().id,O=Object(s.useState)(L.getState().customersState.customers.find((function(e){return e.id===+h}))),x=Object(K.a)(O,1)[0],g=Object(v.a)({},x),f=function(e){var t=e.target,a=t.name,s=t.value;switch(a){case"firstName":l("firstName",s);break;case"lastName":l("lastName",s);break;case"email":l("email",s);break;case"password":l("password",s)}};function y(){return(y=Object(X.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(g,t)){e.next=3;break}return R.error("No changes were made!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,xe.put(je.urls.admin.customer,t);case 6:a=e.sent,L.dispatch(T(a.data)),R.success("The customer has been updated!"),d.push("/customers"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),R.error(e.t0),401===e.t0.response.data.status&&d.push("/logout");case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function C(e,t){var a=!1;return Object.entries(t).forEach((function(t){if(!a){var s=Object.entries(e).find((function(e){return t[0]===e[0]}));t.toString()!==s.toString()&&(a=!0)}})),a}return Object(s.useEffect)((function(){x&&(l("id",x.id),l("firstName",x.firstName),l("lastName",x.lastName),l("email",x.email),l("password",x.password))}),[x,l]),Object(u.jsxs)("div",{className:"UpdateCustomer",children:[Object(u.jsxs)(H.a,{variant:"h4",className:"Headline",children:[Object(u.jsx)(ye.a,{})," Update Customer"]}),Object(u.jsxs)("form",{onSubmit:i((function(e){return y.apply(this,arguments)})),children:[Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"FirstName",variant:"outlined",className:"mui-input"},c("firstName",{required:{value:!0,message:"Missing first name."},minLength:{value:3,message:"First name too short."},pattern:{value:/[^\W ]/g,message:"Use only alphanumeric, underscore and space characters."}})),{},{defaultValue:null===x||void 0===x?void 0:x.firstName,inputProps:{onChange:f},error:!!o.firstName,helperText:null===(e=o.firstName)||void 0===e?void 0:e.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"LastName",variant:"outlined",className:"mui-input"},c("lastName",{required:{value:!0,message:"Missing last name."},minLength:{value:3,message:"Last name too short."},pattern:{value:/[^\W ]/g,message:"Use only alphanumeric, underscore and space characters."}})),{},{defaultValue:null===x||void 0===x?void 0:x.lastName,inputProps:{onChange:f},error:!!o.lastName,helperText:null===(t=o.lastName)||void 0===t?void 0:t.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Email",variant:"outlined",className:"mui-input"},c("email",{required:{value:!0,message:"Missing email."},pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Email is not valid."}})),{},{defaultValue:null===x||void 0===x?void 0:x.email,inputProps:{onChange:f},error:!!o.email,helperText:null===(a=o.email)||void 0===a?void 0:a.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.a,Object(v.a)(Object(v.a)({label:"Password",variant:"outlined",className:"mui-input"},c("password",{required:{value:!0,message:"Missing password."},minLength:{value:4,message:"Password too short, should be at least 4 characters."},pattern:{value:/^[a-zA-Z0-9]+$/gi,message:"Use only the following characters: [a-zA-Z0-9]."}})),{},{defaultValue:null===x||void 0===x?void 0:x.password,type:b.showPassword?"text":"password",InputProps:{endAdornment:Object(u.jsx)(te.a,{position:"end",children:Object(u.jsx)(ae.a,{"aria-label":"toggle password visibility",onClick:function(){m(Object(v.a)(Object(v.a)({},b),{},{showPassword:!b.showPassword}))},edge:"end",children:b.showPassword?Object(u.jsx)(ce.a,{}):Object(u.jsx)(ie.a,{})})}),onChange:f},error:!!o.password,helperText:null===(n=o.password)||void 0===n?void 0:n.message})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)(se.a,{variant:"contained",children:[Object(u.jsx)(ne.a,{className:"send",startIcon:Object(u.jsx)(oe.a,{}),type:"submit",children:"Update"}),Object(u.jsx)(ne.a,{className:"reset",startIcon:Object(u.jsx)(ve.a,{}),type:"reset",children:"Reset"})]})]})]})};a(153);var lt=function(){return Object(u.jsxs)("div",{className:"SiteInfo",children:[Object(u.jsx)("h4",{children:"Welcome to"}),Object(u.jsx)("h2",{children:"Coupons System"}),Object(u.jsxs)("p",{children:["When logged in as an ",Object(u.jsx)("span",{children:"Administrator"})," you will be able to create, update, delete and view companies and customers."]}),Object(u.jsxs)("p",{children:["When logged in as a ",Object(u.jsx)("span",{children:"Company"})," you will be able to create, update, delete and view coupons."]}),Object(u.jsxs)("p",{children:["When logged in as a ",Object(u.jsx)("span",{children:"Customer"})," you will be able to purchase and view coupons."]}),Object(u.jsxs)("h4",{children:["in a ",Object(u.jsx)("span",{children:"simple"})," and ",Object(u.jsx)("span",{children:"easy"})," way."]})]})};a(154);var dt=function(){return Object(u.jsx)("div",{className:"Home",children:Object(u.jsx)(lt,{})})};a(155);var pt=function(){return Object(u.jsxs)("div",{className:"Page404",children:[Object(u.jsx)("h4",{children:"404 page not found!"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Terribly sorry...",Object(u.jsx)("br",{}),"The page you are looking for does not exist."]}),Object(u.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/t3otBjVZzT0?autoplay=1",allow:"autoplay",title:"Page not Found"})]})};var jt=function(){return Object(u.jsx)("div",{className:"Routing",children:Object(u.jsxs)(z.d,{children:[Object(u.jsx)(z.b,{path:"/home",component:dt,exact:!0}),Object(u.jsx)(z.b,{path:"/company",component:J(Le),exact:!0}),Object(u.jsx)(z.b,{path:"/company/coupons/update/:id",component:J(st),exact:!0}),Object(u.jsx)(z.b,{path:"/company/coupons/add",component:J(_e),exact:!0}),Object(u.jsx)(z.b,{path:"/company/coupons/:id",component:J(et),exact:!0}),Object(u.jsx)(z.b,{path:"/company/coupons",component:J(Ke),exact:!0}),Object(u.jsx)(z.b,{path:"/customer",component:_(ot),exact:!0}),Object(u.jsx)(z.b,{path:"/customer/coupons/:id",component:_(et),exact:!0}),Object(u.jsx)(z.b,{path:"/customer/coupons",component:_(tt),exact:!0}),Object(u.jsx)(z.b,{path:"/companies/update/:id",component:Y(Ie),exact:!0}),Object(u.jsx)(z.b,{path:"/companies/add",component:Y(ge),exact:!0}),Object(u.jsx)(z.b,{path:"/companies/:id",component:Y(fe),exact:!0}),Object(u.jsx)(z.b,{path:"/companies",component:Y(Fe),exact:!0}),Object(u.jsx)(z.b,{path:"/customers/update/:id",component:Y(ut),exact:!0}),Object(u.jsx)(z.b,{path:"/customers/add",component:Y(nt),exact:!0}),Object(u.jsx)(z.b,{path:"/customers/:id",component:Y(rt),exact:!0}),Object(u.jsx)(z.b,{path:"/customers",component:Y(it),exact:!0}),Object(u.jsx)(z.b,{path:"/login",component:be,exact:!0}),Object(u.jsx)(z.b,{path:"/logout",component:me,exact:!0}),Object(u.jsx)(z.b,{path:"/about",component:B,exact:!0}),Object(u.jsx)(z.b,{path:"/contact-us",component:$e,exact:!0}),Object(u.jsx)(z.a,{from:"/",to:"/home",exact:!0}),Object(u.jsx)(z.b,{component:pt})," "]})})};a(156);var bt=function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)("div",{className:"Layout",children:[Object(u.jsx)("header",{children:Object(u.jsx)(E,{})}),Object(u.jsx)("aside",{children:Object(u.jsx)(V,{})}),Object(u.jsx)("main",{children:Object(u.jsx)(jt,{})}),Object(u.jsx)("footer",{children:Object(u.jsx)(d,{})})]})})};c.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(bt,{})}),document.getElementById("root")),i()}},[[157,1,2]]]);
//# sourceMappingURL=main.eccf624b.chunk.js.map